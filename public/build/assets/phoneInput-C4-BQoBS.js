function d(n,i){let t=null;if(n&&typeof window.intlTelInput=="function")try{t=window.intlTelInput(n,{initialCountry:"auto",geoIpLookup:function(e){fetch("https://ipapi.co/json").then(s=>s.json()).then(s=>e(s.country_code||"us")).catch(()=>e("us"))},utilsScript:"https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.19/js/utils.js",separateDialCode:!0,preferredCountries:["sa","ae","kw","qa","bh","om","eg","jo","lb","tr","us","gb"]}),!window.AppConfig.isAuthenticated&&i&&t.setNumber(i)}catch(e){console.error("[PhoneInput] Error initializing intlTelInput:",e),t=null,!window.AppConfig.isAuthenticated&&i&&n&&(n.value=i)}else n&&(console.warn("[PhoneInput] intlTelInput function not found or input field missing. Phone input will be basic."),!window.AppConfig.isAuthenticated&&i&&(n.value=i));return t}function c(n,i,t,e){function s(){return n}function a(){if(!n||!i)return!0;if(t||console.warn("[PhoneInputValidator] errorContainer element not provided."),i.value.trim()==="")return i.classList.remove("iti-invalid","is-invalid"),t&&(t.textContent="",t.style.display="none"),!0;const l=n.isValidNumber();return i.classList.toggle("iti-invalid",!l),i.classList.toggle("is-invalid",!l),t&&(t.textContent=l?"":e?e("phone_invalid"):"Invalid phone number",t.style.display=l?"none":"block"),l}function o(){i&&(["input","blur"].forEach(l=>i.addEventListener(l,a)),i.addEventListener("countrychange",()=>setTimeout(a,100)))}function u(){i&&(i.classList.remove("iti-invalid","is-invalid"),t&&(t.textContent="",t.style.display="none"))}return{setupEventListeners:o,validate:a,getInstance:s,resetValidation:u}}export{c,d as i};
