import{S as Nt}from"./main-9Qm2jZ7z.js";import{m as mn}from"./module.esm-Cm4okMZt.js";import{g as qt,t as ft}from"./helpers-DwlY0Bzp.js";import{h as hn}from"./api-C5g70RCE.js";import"./index-xsH4HHeE.js";/*! License details at fancyapps.com/license */const Ct=t=>typeof t=="string";/*! License details at fancyapps.com/license */const ne=t=>t&&t!==null&&t instanceof Element&&"nodeType"in t;/*! License details at fancyapps.com/license */const vn=function(t){if(!(t&&t instanceof Element&&t.offsetParent))return!1;const e=t.scrollHeight>t.clientHeight,i=window.getComputedStyle(t).overflowY,n=i.indexOf("hidden")!==-1,s=i.indexOf("visible")!==-1;return e&&!n&&!s},le=function(t,e=void 0){return!t||t===document.body||e&&t===e?null:vn(t)?t:le(t.parentElement,e)};/*! License details at fancyapps.com/license */const Kt=function(t){var e=new DOMParser().parseFromString(t,"text/html").body;if(e.childElementCount>1){for(var i=document.createElement("div");e.firstChild;)i.appendChild(e.firstChild);return i}let n=e.firstChild;return!n||n instanceof HTMLElement?n:((i=document.createElement("div")).appendChild(n),i)};/*! License details at fancyapps.com/license */const gt=function(t=0,e=0,i=0){return Math.max(Math.min(e,i),t)};/*! License details at fancyapps.com/license */const kt=t=>typeof t=="object"&&t!==null&&t.constructor===Object&&Object.prototype.toString.call(t)==="[object Object]";/*! License details at fancyapps.com/license */function je(t){return kt(t)||Array.isArray(t)}function Oe(t,e){const i=Object.keys(t),n=Object.keys(e);return i.length===n.length&&i.every(s=>{const r=t[s],l=e[s];return typeof r=="function"?`${r}`==`${l}`:je(r)&&je(l)?Oe(r,l):r===l})}/*! License details at fancyapps.com/license */const an=function(t){for(const e of me)e.getState()===jt.Running&&e.tick(ye?t-ye:0);ye=t,ie=window.requestAnimationFrame(an)};var jt,Gt,oe;(function(t){t[t.Initializing=0]="Initializing",t[t.Running=1]="Running",t[t.Paused=2]="Paused",t[t.Completed=3]="Completed",t[t.Destroyed=4]="Destroyed"})(jt||(jt={})),function(t){t[t.Spring=0]="Spring",t[t.Ease=1]="Ease"}(Gt||(Gt={})),function(t){t[t.Loop=0]="Loop",t[t.Reverse=1]="Reverse"}(oe||(oe={}));const me=new Set;let ie=null,ye=0;function Jt(){let t=jt.Initializing,e=Gt.Ease,i=0,n=0,s=Jt.Easings.Linear,r=500,l=0,g=0,M=0,S=0,w=1/0,m=.01,d=.01,a=!1,o={},L=null,v={},O={},h={},_=0,T=0,H=oe.Loop,D=Jt.Easings.Linear;const q=new Map;function J(W,...ut){for(const Z of q.get(W)||[])Z(...ut)}function K(W){return n=0,W?L=setTimeout(()=>{wt()},W):wt(),k}function wt(){t=jt.Running,J("start",v,O)}function ct(){if(t=jt.Completed,h={},J("end",v),t===jt.Completed)if(i<_){if(i++,H===oe.Reverse){const W=Object.assign({},o);o=Object.assign({},O),O=W}K(T)}else i=0;return k}const k={getState:function(){return t},easing:function(W){return s=W,e=Gt.Ease,h={},k},duration:function(W){return r=W,k},spring:function(W={}){e=Gt.Spring;const ut={velocity:0,mass:1,tension:170,friction:26,restDelta:.1,restSpeed:.1,maxSpeed:1/0,clamp:!0},{velocity:Z,mass:rt,tension:yt,friction:it,restDelta:B,restSpeed:N,maxSpeed:Q,clamp:lt}=Object.assign(Object.assign({},ut),W);return l=Z,g=rt,M=yt,S=it,d=B,m=N,w=Q,a=lt,h={},k},isRunning:function(){return t===jt.Running},isSpring:function(){return e===Gt.Spring},from:function(W){return v=Object.assign({},W),k},to:function(W){return O=W,k},repeat:function(W,ut=0,Z=oe.Loop,rt){return _=W,T=ut,H=Z,D=rt||s,k},on:function(W,ut){var Z,rt;return Z=W,rt=ut,q.set(Z,[...q.get(Z)||[],rt]),k},off:function(W,ut){var Z,rt;return Z=W,rt=ut,q.has(Z)&&q.set(Z,q.get(Z).filter(yt=>yt!==rt)),k},start:function(W){return t=jt.Initializing,o=Object.assign({},v),Oe(o,O)||(me.add(this),ie||(ie=window.requestAnimationFrame(an)),K(W)),k},pause:function(){return L&&(clearTimeout(L),L=null),t===jt.Running&&(t=jt.Paused,J("pause",v)),k},end:ct,tick:function(W){W>50&&(W=50),n+=W;let ut=0,Z=!1;if(t!==jt.Running)return k;if(e===Gt.Ease){ut=gt(0,n/r,1),Z=ut===1;const yt=H===oe.Reverse?D:s;for(const it in v)v[it]=o[it]+(O[it]-o[it])*yt(ut)}if(e===Gt.Spring){const yt=.001*W;let it=0;for(const B in v){const N=O[B];let Q=v[B];if(typeof N!="number"||isNaN(N)||typeof Q!="number"||isNaN(Q))continue;if(Math.abs(N-Q)<=d){v[B]=N,h[B]=0;continue}h[B]||(typeof l=="object"&&typeof l[B]=="number"?h[B]=l[B]:h[B]=typeof l=="number"?l:0);let lt=h[B];lt=gt(-1*Math.abs(w),lt,Math.abs(w));const Et=lt*g*S;lt+=((Q>N?-1:1)*(Math.abs(N-Q)*M)-Et)/g*yt,Q+=lt*yt;const $t=v[B]>N?Q<N:Q>N;let zt=Math.abs(lt)<m&&Math.abs(N-Q)<=d;a&&$t&&(zt=!0),zt?(Q=N,lt=0):it++,v[B]=Q,h[B]=lt}Z=!it}const rt=Object.assign({},O);return J("step",v,o,O,ut),Z&&t===jt.Running&&Oe(O,rt)&&(t=jt.Completed,ct()),k},getStartValues:function(){return o},getCurrentValues:function(){return v},getCurrentVelocities:function(){return h},getEndValues:function(){return O},destroy:function(){t=jt.Destroyed,L&&(clearTimeout(L),L=null),o=v=O={},me.delete(this)}};return k}Jt.destroy=()=>{for(const t of me)t.destroy();ie&&(cancelAnimationFrame(ie),ie=null)},Jt.Easings={Linear:function(t){return t},EaseIn:function(t){return t===0?0:Math.pow(2,10*t-10)},EaseOut:function(t){return t===1?1:1-Math.pow(2,-10*t)},EaseInOut:function(t){return t===0?0:t===1?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2}};/*! License details at fancyapps.com/license */function we(t){const e=[],i=typeof TouchEvent<"u"&&t instanceof TouchEvent?t.touches:t instanceof MouseEvent&&t.type!=="mouseup"?[t]:[];for(const n of i)e.push({x:n.clientX,y:n.clientY,ts:Date.now()});return e}function rn(t){const e=[],i=typeof TouchEvent<"u"&&t instanceof TouchEvent?t.changedTouches:t instanceof MouseEvent?[t]:[];for(const n of i)e.push({x:n.clientX,y:n.clientY,ts:Date.now()});return e}function Yt(t){const e=t[0],i=t[1]||e;return{x:(e.x+i.x)/2,y:(e.y+i.y)/2,ts:i.ts}}function ue(t){const e=t[0],i=t[1]||t[0];return e&&i?-1*Math.sqrt((i.x-e.x)*(i.x-e.x)+(i.y-e.y)*(i.y-e.y)):0}const ke=t=>{t.cancelable&&t.preventDefault()},Wt={passive:!1},bn={panThreshold:5,swipeThreshold:3,ignore:["textarea","input","select","[contenteditable]","[data-selectable]","[data-draggable]"]};let Ee=!1,se=!0;const ce=(t,e)=>{let i,n,s,r=Object.assign(Object.assign({},bn),e),l=[],g=[],M=[],S=!1,w=!1,m=!1,d=0,a=0,o=0,L=0,v=0,O=0,h=0,_=0,T=0,H=[],D=0,q=0;const J=new Map;function K(B){const N=ue(g),Q=ue(M),lt=N&&Q?N/Q:0,Et=Math.abs(h)>Math.abs(_)?h:_,$t={srcEvent:i,isPanRecognized:S,isSwipeRecognized:w,firstTouch:l,previousTouch:M,currentTouch:g,deltaX:o,deltaY:L,offsetX:v,offsetY:O,velocityX:h,velocityY:_,velocity:Et,angle:T,axis:s,scale:lt,center:n};for(const zt of J.get(B)||[])zt($t)}function wt(B){const N=Date.now();H=H.filter(Q=>!Q.ts||Q.ts>N-100),B&&H.push(B)}function ct(){if(h=0,_=0,H.length>3){const B=H[0],N=H[H.length-1];if(B&&N){const Q=N.x-B.x,lt=N.y-B.y,Et=B.ts&&N.ts?N.ts-B.ts:0;Et>0&&(h=Math.abs(Q)>3?Q/(Et/30):0,_=Math.abs(lt)>3?lt/(Et/30):0)}}}function k(B){if(B instanceof MouseEvent){if(Ee)return}else Ee=!0;const N=B.composedPath()[0],Q=r.ignore.join(",");if(N.matches(Q)||N.closest(Q)||typeof MouseEvent<"u"&&B instanceof MouseEvent&&(!B.buttons||B.button!==0))return;B instanceof MouseEvent&&ke(B);const lt=Date.now(),Et=lt-(d||lt);m=Et>0&&Et<=250,d=lt,clearTimeout(D),i=B,B instanceof MouseEvent&&(window.addEventListener("mousemove",W),window.addEventListener("mouseup",ut)),window.addEventListener("blur",Z),g=we(B),l=[...g],M=[],a=g.length,n=Yt(g),a===1&&(S=!1,w=!1),a&&wt(Yt(g)),K("start")}function W(B){var N;if(!l.length||B.defaultPrevented)return;i=B,M=[...g],g=we(B),a=g.length,n=Yt(g);const Q=n,lt=Yt(M);if(o=Q.x-lt.x,L=Q.y-lt.y,wt(Q),ct(),K("move"),g.length>1){const Et=ue(g),$t=ue(M);Math.abs(Et-$t)>=.1&&K("pinch")}if(!S&&l.length){const Et=Yt(l);v=Q.x-Et.x,O=Q.y-Et.y,S=Math.abs(v)>r.panThreshold||Math.abs(O)>r.panThreshold,S&&(se=!1,clearTimeout(q),q=0,T=Math.abs(180*Math.atan2(O,v)/Math.PI),s=T>45&&T<135?"y":"x",l=[...g],M=[...g],(N=window.getSelection())===null||N===void 0||N.removeAllRanges(),K("panstart"))}S&&(o||L)&&K("pan")}function ut(B){if(i=B,!l.length)return;const N=we(B),Q=rn(B);if(a=N.length,n=Yt(Q),Q.length&&wt(Yt(Q)),ct(),M=[...g],g=[...N],l=[...N],N.length>0)K("end"),S=!1,w=!1,H=[];else{const lt=r.swipeThreshold;(Math.abs(h)>lt||Math.abs(_)>lt)&&(w=!0),S&&K("panend"),w&&K("swipe"),S||w||(K("tap"),m?K("doubleTap"):D=setTimeout(function(){K("singleTap")},250)),K("end"),rt()}}function Z(){clearTimeout(D),rt(),S&&K("panend"),K("end")}function rt(){S=!1,w=!1,m=!1,a=0,H=[],g=[],M=[],l=[],o=0,L=0,v=0,O=0,h=0,_=0,T=0,s=void 0,window.removeEventListener("mousemove",W),window.removeEventListener("mouseup",ut),window.removeEventListener("blur",Z),se||q||(q=setTimeout(()=>{se=!0,q=0},100))}function yt(B){const N=B.target;Ee=!1,N&&!B.defaultPrevented&&(se||(ke(B),B.stopPropagation()))}const it={init:function(){if(t)return t.addEventListener("click",yt,Wt),t.addEventListener("mousedown",k,Wt),t.addEventListener("touchstart",k,Wt),t.addEventListener("touchmove",W,Wt),t.addEventListener("touchend",ut),t.addEventListener("touchcancel",ut),it},on:function(B,N){return function(Q,lt){J.set(Q,[...J.get(Q)||[],lt])}(B,N),it},off:function(B,N){return J.has(B)&&J.set(B,J.get(B).filter(Q=>Q!==N)),it},isPointerDown:()=>a>0,destroy:function(){clearTimeout(D),clearTimeout(q),q=0,t&&(t.removeEventListener("click",yt,Wt),t.removeEventListener("mousedown",k,Wt),t.removeEventListener("touchstart",k,Wt),t.removeEventListener("touchmove",W,Wt),t.removeEventListener("touchend",ut),t.removeEventListener("touchcancel",ut)),t=null,rt()}};return it};ce.isClickAllowed=()=>se;/*! License details at fancyapps.com/license */const Ce={IMAGE_ERROR:"This image couldn't be loaded. <br /> Please try again later.",MOVE_UP:"Move up",MOVE_DOWN:"Move down",MOVE_LEFT:"Move left",MOVE_RIGHT:"Move right",ZOOM_IN:"Zoom in",ZOOM_OUT:"Zoom out",TOGGLE_FULL:"Toggle zoom level",TOGGLE_1TO1:"Toggle zoom level",ITERATE_ZOOM:"Toggle zoom level",ROTATE_CCW:"Rotate counterclockwise",ROTATE_CW:"Rotate clockwise",FLIP_X:"Flip horizontally",FLIP_Y:"Flip vertically",RESET:"Reset"};/*! License details at fancyapps.com/license */const bt=(t,e="")=>{t&&t.classList&&e.split(" ").forEach(i=>{i&&t.classList.add(i)})};/*! License details at fancyapps.com/license */const de=t=>{t.cancelable&&t.preventDefault()},Rt=(t,e=1e4)=>(t=parseFloat(t+"")||0,Math.round((t+Number.EPSILON)*e)/e);var V,ze;(function(t){t.Reset="reset",t.Zoom="zoom",t.ZoomIn="zoomIn",t.ZoomOut="zoomOut",t.ZoomTo="zoomTo",t.ToggleCover="toggleCover",t.ToggleFull="toggleFull",t.ToggleMax="toggleMax",t.IterateZoom="iterateZoom",t.Pan="pan",t.Swipe="swipe",t.Move="move",t.MoveLeft="moveLeft",t.MoveRight="moveRight",t.MoveUp="moveUp",t.MoveDown="moveDown",t.RotateCCW="rotateCCW",t.RotateCW="rotateCW",t.FlipX="flipX",t.FlipY="flipY"})(V||(V={})),function(t){t.Cover="cover",t.Full="full",t.Max="max"}(ze||(ze={}));const Dt={x:0,y:0,scale:1,angle:0,flipX:1,flipY:1},Se={bounds:!0,classes:{container:"f-panzoom",wrapper:"f-panzoom__wrapper",content:"f-panzoom__content",viewport:"f-panzoom__viewport"},clickAction:V.ToggleFull,dblClickAction:!1,gestures:{},height:"auto",l10n:Ce,maxScale:4,minScale:1,mouseMoveFactor:1,panMode:"drag",singleClickAction:!1,spinnerTpl:'<div class="f-spinner"></div>',wheelAction:V.Zoom,width:"auto"};let fe,Ie=0,Fe=0,ge=0;const Te=(t,e={},i={})=>{let n,s,r,l,g,M,S,w=0,m=Object.assign(Object.assign({},Se),e),d={},a=Object.assign({},Dt),o=Object.assign({},Dt);const L=[];function v(c){let f=m[c];return f&&typeof f=="function"?f(C):f}const O=new Map;function h(c,...f){const x=O.get(c)||[];m.on&&x.push(m.on[c]);for(const E of x)E&&E instanceof Function&&E(C,...f);c!=="*"&&h("*",c,...f)}function _(c){if(w!==3)return;const f=c.target;if(le(f))return;const x=Date.now(),E=[-c.deltaX||0,-c.deltaY||0,-c.detail||0].reduce(function(et,tt){return Math.abs(tt)>Math.abs(et)?tt:et}),R=gt(-1,E,1);h("wheel",c,R);const P=v("wheelAction");if(!P||c.defaultPrevented)return;const U=o.scale;let G=U*(R>0?1.5:.5);if(P===V.Zoom){const et=Math.abs(c.deltaY)<100&&Math.abs(c.deltaX)<100;if(x-Fe<(et?200:45))return void de(c);Fe=x;const tt=k(),ot=rt();if(Rt(G)<Rt(tt)&&Rt(U)<=Rt(tt)?(ge+=Math.abs(R),G=tt):Rt(G)>Rt(ot)&&Rt(U)>=Rt(ot)?(ge+=Math.abs(R),G=ot):(ge=0,G=gt(tt,G,ot)),ge>7)return}switch(de(c),P){case V.Pan:N(P,{srcEvent:c,deltaX:2*-c.deltaX,deltaY:2*-c.deltaY});break;case V.Zoom:N(V.ZoomTo,{srcEvent:c,scale:G,center:{x:c.clientX,y:c.clientY}});break;default:N(P,{srcEvent:c})}}function T(c){var f,x;const E=c.composedPath()[0];if(!ce.isClickAllowed()||!ne(E)||c.defaultPrevented||!(t!=null&&t.contains(E))||E.hasAttribute("disabled")||E.hasAttribute("aria-disabled"))return;const R=E.closest("[data-panzoom-action]"),P=(f=R==null?void 0:R.dataset)===null||f===void 0?void 0:f.panzoomAction,U=((x=R==null?void 0:R.dataset)===null||x===void 0?void 0:x.panzoomValue)||"";if(P){switch(P){case V.ZoomTo:case V.ZoomIn:case V.ZoomOut:N(P,{scale:parseFloat(U||"")||void 0});break;case V.MoveLeft:case V.MoveRight:N(P,{deltaX:parseFloat(U||"")||void 0});break;case V.MoveUp:case V.MoveDown:N(P,{deltaY:parseFloat(U||"")||void 0});break;default:N(P)}return}if(!(n!=null&&n.contains(E)))return;const G={srcEvent:c};if(N(v("clickAction"),G),v("dblClickAction")){const et=Date.now(),tt=et-(Ie||et);Ie=et,tt>0&&tt<=250?(fe&&(clearTimeout(fe),fe=void 0),N(v("dblClickAction"),G)):fe=setTimeout(()=>{N(v("singleClickAction"),G)},250)}}function H(c){if(S=c,!K()||w!==3||a.scale<=1||o.scale<=1||((n==null?void 0:n.dataset.animationName)||"").indexOf("zoom")>-1)return;const f=wt(o.scale);if(!f)return;const{x,y:E}=f;N(V.Pan,{deltaX:x-o.x,deltaY:E-o.y})}function D(){var c;if(t&&((c=t.querySelector(".f-spinner"))===null||c===void 0||c.remove(),t.classList.remove("is-loading")),!t||!n)return;if(s instanceof HTMLImageElement&&(!s.complete||!s.naturalWidth))return w=2,n==null||n.classList.add("has-error"),void h("error");h("loaded");const{width:f,height:x}=J();s&&(s.setAttribute("width",f+""),s.setAttribute("height",x+"")),n&&(n.classList.remove("has-error"),n.setAttribute("width",f+""),n.setAttribute("height",x+""),n.style.aspectRatio=`${f/x||""}`),g=Jt().on("start",(R,P)=>{o=Object.assign(Object.assign({},Dt),P),P.angle!==void 0&&(P.angle=90*Math.round(P.angle/90)),P.flipX!==void 0&&(P.flipX=P.flipX>0?1:-1),P.flipY!==void 0&&(P.flipY=P.flipY>0?1:-1),B(),h("animationStart")}).on("pause",R=>{o=Object.assign(Object.assign({},Dt),R)}).on("step",R=>{if(w!==3||!g)return;if(!t||!t.parentElement)return void g.end();if(a=Object.assign(Object.assign({},Dt),R),K()||!v("bounds")||(l==null?void 0:l.isPointerDown())||o.scale>a.scale||o.scale<W())return void Q();const P=yt(o.scale);let U=!1,G=!1,et=!1,tt=!1;a.x<P.x[0]&&(U=!0),a.x>P.x[1]&&(G=!0),a.y<P.y[0]&&(tt=!0),a.y>P.y[1]&&(et=!0);let ot=!1,at=!1,pt=!1,Ot=!1;o.x<P.x[0]&&(ot=!0),o.x>P.x[1]&&(at=!0),o.y<P.y[0]&&(Ot=!0),o.y>P.y[1]&&(pt=!0);let nt=!1;(G&&at||U&&ot)&&(o.x=gt(P.x[0],o.x,P.x[1]),nt=!0),(et&&pt||tt&&Ot)&&(o.y=gt(P.y[0],o.y,P.y[1]),nt=!0),nt&&g.spring({tension:94,friction:17,maxSpeed:555*o.scale,restDelta:.1,restSpeed:.1,velocity:g.getCurrentVelocities()}).from(a).to(o).start(),Q()}).on("end",()=>{it(),g!=null&&g.isRunning()||(B(),h("animationEnd"))}),function(){const R=v("gestures");R&&r&&s&&(l=ce(r,R).on("start",P=>{if(!g)return;const U=P.srcEvent;K()||((a.scale>1||P.currentTouch.length>1)&&(U==null||U.stopPropagation(),g.pause()),P.currentTouch.length===1&&h("touchStart"))}).on("move",P=>{K()||(o.scale!==1||P.currentTouch.length>1)&&(P.srcEvent.preventDefault(),P.srcEvent.stopPropagation())}).on("pan",P=>{if(K())return;const U=P.srcEvent;(o.scale!==1||P.currentTouch.length>1)&&(de(U),N(V.Pan,P))}).on("swipe",P=>{K()||o.scale>1&&N(V.Swipe,P)}).on("tap",P=>{h("click",P)}).on("singleTap",P=>{h("singleClick",P)}).on("doubleTap",P=>{h("dblClick",P)}).on("pinch",P=>{K()||(P.scale>W()?N(V.ZoomIn,P):P.scale<W()?N(V.ZoomOut,P):N(V.Pan,P))}).on("end",P=>{K()||(P.currentTouch.length?(P.srcEvent.stopPropagation(),de(P.srcEvent),g==null||g.end()):(B(),it(),h("touchEnd")))}).init())}(),r&&(r.addEventListener("wheel",_,{passive:!1}),L.push(()=>{r==null||r.removeEventListener("wheel",_,{passive:!1})})),t==null||t.addEventListener("click",T),document==null||document.addEventListener("mousemove",H),L.push(()=>{t==null||t.removeEventListener("click",T),document==null||document.removeEventListener("mousemove",H)});const E=Object.assign(Object.assign({},v("startPos")||{}),{scale:W()});if(a=Object.assign(Object.assign({},Dt),E),o=Object.assign(Object.assign({},Dt),E),K()){const R=wt(o.scale);if(R){const{x:P,y:U}=R;a.x=P,a.y=U,o.x=P,o.y=U}}w=3,Q(),B(),h("ready"),requestAnimationFrame(()=>{r&&(r.style.visibility="")})}function q(){const c={top:0,left:0,width:0,height:0};if(n){const f=n.getBoundingClientRect();o.angle%180==90?(c.top=f.top+.5*f.height-.5*f.width,c.left=f.left+.5*f.width-.5*f.height,c.width=f.height,c.height=f.width):(c.top=f.top,c.left=f.left,c.width=f.width,c.height=f.height)}return c}function J(){let c=v("width"),f=v("height");if(s&&c==="auto"){const x=s.getAttribute("width");c=x?parseFloat(x+""):s.dataset.width!==void 0?parseFloat(s.dataset.width+""):r instanceof HTMLImageElement?r.naturalWidth:s instanceof HTMLImageElement?s.naturalWidth:s.getBoundingClientRect().width}else c=Ct(c)?parseFloat(c):c;if(s&&f==="auto"){const x=s.getAttribute("height");f=x?parseFloat(x+""):s.dataset.height!==void 0?parseFloat(s.dataset.height+""):r instanceof HTMLImageElement?r.naturalHeight:s instanceof HTMLImageElement?s.naturalHeight:s.getBoundingClientRect().height}else f=Ct(f)?parseFloat(f):f;return{width:c,height:f}}function K(){return v("panMode")==="mousemove"&&matchMedia("(hover: hover)").matches}function wt(c){const f=S||v("event"),x=n==null?void 0:n.getBoundingClientRect();if(!f||!x||c<=1)return{x:0,y:0};const E=(f.clientX||0)-x.left,R=(f.clientY||0)-x.top,P=x.width,U=x.height,G=yt(c);if(c>1){const pt=v("mouseMoveFactor");pt>1&&(c*=pt)}let et=P*c,tt=U*c,ot=.5*(et-P)-E/P*100/100*(et-P),at=.5*(tt-U)-R/U*100/100*(tt-U);return ot=gt(G.x[0],ot,G.x[1]),at=gt(G.y[0],at,G.y[1]),{x:ot,y:at}}function ct(c="base"){if(!t)return 1;const f=t.getBoundingClientRect(),x=q(),{width:E,height:R}=J(),P=ot=>{if(typeof ot=="number")return ot;switch(ot){case"min":case"base":return 1;case"cover":return Math.max(f.height/x.height,f.width/x.width)||1;case"full":case"max":{const at=o.angle%180==90?R:E;return at&&x.width?at/x.width:1}}},U=v("minScale"),G=v("maxScale"),et=Math.min(P("full"),P(U)),tt=typeof G=="number"?P("full")*G:Math.min(P("full"),P(G));switch(c){case"min":return et;case"base":return gt(et,1,tt);case"cover":return P("cover");case"full":return Math.min(tt,P("full"));case"max":return tt}}function k(){return ct("min")}function W(){return ct("base")}function ut(){return ct("cover")}function Z(){return ct("full")}function rt(){return ct("max")}function yt(c){const f={x:[0,0],y:[0,0]},x=t==null?void 0:t.getBoundingClientRect();if(!x)return f;const E=q(),R=x.width,P=x.height;let U=E.width,G=E.height,et=c=c===void 0?o.scale:c,tt=c;if(K()&&c>1){const ot=v("mouseMoveFactor");ot>1&&(U*c>R+.01&&(et*=ot),G*c>P+.01&&(tt*=ot))}return U*=et,G*=tt,c>1&&(U>R&&(f.x[0]=.5*(R-U),f.x[1]=.5*(U-R)),f.x[0]-=.5*(E.left-x.left),f.x[1]-=.5*(E.left-x.left),f.x[0]-=.5*(E.left+E.width-x.right),f.x[1]-=.5*(E.left+E.width-x.right),G>P&&(f.y[0]=.5*(P-G),f.y[1]=.5*(G-P)),f.y[0]-=.5*(E.top-x.top),f.y[1]-=.5*(E.top-x.top),f.y[0]-=.5*(E.top+E.height-x.bottom),f.y[1]-=.5*(E.top+E.height-x.bottom)),f}function it(){if(!v("bounds")||w!==3||!(t!=null&&t.parentElement)||!g||!l)return;const c=k(),f=rt(),x=gt(c,o.scale,f);if(o.scale<c-.01||o.scale>f+.01)return void N(V.ZoomTo,{scale:x});if(g.isRunning()||l.isPointerDown())return;const E=yt(x);o.x<E.x[0]||o.x>E.x[1]||o.y<E.y[0]||o.y>E.y[1]?(o.x=gt(E.x[0],o.x,E.x[1]),o.y=gt(E.y[0],o.y,E.y[1]),g.spring({tension:170,friction:17,restDelta:.001,restSpeed:.001,maxSpeed:1/0,velocity:g.getCurrentVelocities()}),g.from(a).to(o).start()):Q()}function B(){if(!t||!t.parentElement||!n)return;const c=Lt(),f=y(),x=F(),E=I(),R=Et(),P=$t();n.classList.toggle("is-fullsize",E),n.classList.toggle("is-expanded",x),n.classList.toggle("is-dragging",f),n.classList.toggle("can-drag",c),n.classList.toggle("will-zoom-in",R),n.classList.toggle("will-zoom-out",P);const U=zt(),G=It(),et=w!==3;for(const tt of(t==null?void 0:t.querySelectorAll("[data-panzoom-action]"))||[]){const ot=tt.dataset.panzoomAction;let at=!1;if(et)at=!0;else switch(ot){case V.ZoomIn:U||(at=!0);break;case V.ZoomOut:G||(at=!0);break;case V.ToggleFull:U||G||(at=!0);const pt=tt.querySelector("g");pt&&(pt.style.display=E?"none":"");break;case V.ToggleCover:case V.ToggleMax:U||G||(at=!0)}at?(tt.setAttribute("aria-disabled",""),tt.setAttribute("tabindex","-1")):(tt.removeAttribute("aria-disabled"),tt.removeAttribute("tabindex"))}}function N(c,f){var x;if(!t||!s||!g||c===V.Swipe&&Math.abs(g.getCurrentVelocities().scale)>.01)return;let E=Object.assign({},o),R=yt(K()?o.scale:a.scale);const P=g.getCurrentVelocities(),U=q(),G=(((x=(f=f||{}).currentTouch)===null||x===void 0?void 0:x.length)||0)>1,et=f.velocityX||0,tt=f.velocityY||0;let ot=f.center;!ot&&f.srcEvent&&(ot=Yt(rn(f.srcEvent)));let at=f.deltaX||0,pt=f.deltaY||0;switch(c){case V.MoveRight:at=f.deltaX||100;break;case V.MoveLeft:at=f.deltaX||-100;break;case V.MoveUp:pt=f.deltaY||-100;break;case V.MoveDown:pt=f.deltaY||100}let Ot=[];switch(c){case V.Reset:o=Object.assign({},Dt),o.scale=W();break;case V.Pan:case V.Move:case V.MoveLeft:case V.MoveRight:case V.MoveUp:case V.MoveDown:if(l!=null&&l.isPointerDown()){let p=1,b=1;o.x<=R.x[0]&&et<=0&&(p=Math.max(.01,1-Math.abs(1/U.width*Math.abs(o.x-R.x[0]))),p*=.2),o.x>=R.x[1]&&et>=0&&(p=Math.max(.01,1-Math.abs(1/U.width*Math.abs(o.x-R.x[1]))),p*=.2),o.y<=R.y[0]&&tt<=0&&(b=Math.max(.01,1-Math.abs(1/U.height*Math.abs(o.y-R.y[0]))),b*=.2),o.y>=R.y[1]&&tt>=0&&(b=Math.max(.01,1-Math.abs(1/U.height*Math.abs(o.y-R.y[1]))),b*=.2),o.x+=at*p,o.y+=pt*b}else o.x=gt(R.x[0],o.x+at,R.x[1]),o.y=gt(R.y[0],o.y+pt,R.y[1]);break;case V.Swipe:const nt=(p=0)=>Math.sign(p)*Math.pow(Math.abs(p),1.5);o.x+=gt(-1e3,nt(et),1e3),o.y+=gt(-1e3,nt(tt),1e3),tt&&!et&&(o.x=gt(R.x[0],o.x,R.x[1])),!tt&&et&&(o.y=gt(R.y[0],o.y,R.y[1])),P.x=et,P.y=tt;break;case V.ZoomTo:o.scale=f.scale||1;break;case V.ZoomIn:o.scale=o.scale*(f.scale||2),G||(o.scale=Math.min(o.scale,rt()));break;case V.ZoomOut:o.scale=o.scale*(f.scale||.5),G||(o.scale=Math.max(o.scale,k()));break;case V.ToggleCover:Ot=[W(),ut()];break;case V.ToggleFull:Ot=[W(),Z()];break;case V.ToggleMax:Ot=[W(),rt()];break;case V.IterateZoom:Ot=[W(),Z(),rt()];break;case V.Zoom:const u=Z();o.scale>=u-.05?o.scale=W():o.scale=Math.min(u,o.scale*(f.scale||2));break;case V.RotateCW:o.angle+=90;break;case V.RotateCCW:o.angle-=90;break;case V.FlipX:o.flipX*=-1;break;case V.FlipY:o.flipY*=-1}if(a.angle!==void 0&&Math.abs(a.angle)>=360&&(o.angle-=360*Math.floor(a.angle/360),a.angle-=360*Math.floor(a.angle/360)),Ot.length){const nt=Ot.findIndex(u=>u>o.scale+1e-4);o.scale=Ot[nt]||Ot[0]}if(G&&(o.scale=gt(k()*(G?.8:1),o.scale,rt()*(G?1.6:1))),K()){const nt=wt(o.scale);if(nt){const{x:u,y:p}=nt;o.x=u,o.y=p}}else if(o.scale!==E.scale){let nt=0,u=0;if(ot)nt=ot.x,u=ot.y;else{const j=t.getBoundingClientRect();nt=j.x+.5*j.width,u=j.y+.5*j.height}let p=nt-U.left,b=u-U.top;p-=.5*U.width,b-=.5*U.height;const $=(p-E.x)/E.scale,Y=(b-E.y)/E.scale;o.x=p-$*o.scale,o.y=b-Y*o.scale,!G&&v("bounds")&&(R=yt(o.scale),o.x=gt(R.x[0],o.x,R.x[1]),o.y=gt(R.y[0],o.y,R.y[1]))}if(c===V.Swipe){let nt=94,u=17,p=500*o.scale,b=P;g.spring({tension:nt,friction:u,maxSpeed:p,restDelta:.1,restSpeed:.1,velocity:b})}else c===V.Pan||G?g.spring({tension:750,friction:17,restDelta:.01,restSpeed:.01,maxSpeed:1}):g.spring({tension:170,friction:17,restDelta:.001,restSpeed:.001,maxSpeed:1/0,velocity:P});c===V.Reset&&f.velocity===0?a=Object.assign({},o):g.from(a).to(o).start(),h("action",c)}function Q(){if(!n||!s)return;if(s instanceof HTMLImageElement){const{width:G,height:et}=J();n.style.maxWidth=`min(${G}px, 100%)`,n.style.maxHeight=`min(${et}px, 100%)`}let{x:c,y:f,scale:x,angle:E,flipX:R,flipY:P}=a;const U=function(){const G=q(),et=G.width,tt=G.height,{width:ot,height:at}=J();if(!t)return{x:0,y:0,width:0,height:0,scale:0,flipX:0,flipY:0,angle:0,fitWidth:et,fitHeight:tt,fullWidth:ot,fullHeight:at};let{x:pt,y:Ot,scale:nt,angle:u,flipX:p,flipY:b}=a,$=1/Z(),Y=ot,j=at,A=a.scale*$,z=o.scale*$;const X=Math.max(et,tt),st=Math.min(et,tt);ot>at?(Y=X,j=st):(Y=st,j=X),A=ot>at?X*nt/ot||1:X*nt/at||1;let dt=Y?ot*z:0,ht=j?at*z:0;return pt=pt+.5*Y-.5*dt,Ot=Ot+.5*j-.5*ht,{x:pt,y:Ot,width:dt,height:ht,scale:Y&&j?ot*A/dt:0,flipX:p,flipY:b,angle:u,fitWidth:et,fitHeight:tt,fullWidth:ot,fullHeight:at}}();if(n&&U){const{x:G,y:et,width:tt,height:ot,scale:at,flipX:pt,flipY:Ot}=U;let nt=`translate(${Rt(G)}px, ${Rt(et)}px)`;nt+=pt!==1||Ot!==1?` scaleX(${Rt(at*pt)}) scaleY(${Rt(at*Ot)})`:` scale(${Rt(at)})`,E!==0&&(nt+=` rotate(${E}deg)`),r&&(r.style.width=`${Rt(tt)}px`,r.style.height=`${Rt(ot)}px`,r.style.transform=`${nt}`)}h("render")}function lt(){let c=o.scale;const f=v("clickAction");let x=W();if(f){let E=[];switch(f){case V.ZoomIn:x=2*c;break;case V.ZoomOut:x=.5*c;break;case V.ToggleCover:E=[W(),ut()];break;case V.ToggleFull:E=[W(),Z()];break;case V.ToggleMax:E=[W(),rt()];break;case V.IterateZoom:E=[W(),Z(),rt()];break;case V.Zoom:const R=Z();x=c>=R-.05?W():Math.min(R,2*c)}if(E.length){const R=E.findIndex(P=>P>c+1e-4);x=E[R]||W()}}return x=gt(k(),x,rt()),x}function Et(){return w===3&&lt()>o.scale}function $t(){return w===3&&lt()<o.scale}function zt(){return w===3&&o.scale<rt()}function It(){return w===3&&o.scale>k()}function Lt(){return w===3&&F()&&!!l&&!K()}function y(){return w===3&&(l==null?void 0:l.isPointerDown())&&!K()}function F(){return w===3&&o.scale>W()}function I(){return w===3&&o.scale>=Z()}const C={canDrag:Lt,canZoomIn:zt,canZoomOut:It,destroy:function(){h("destroy");for(const c of Object.values(d))c==null||c.destroy(C);for(const c of L)c();return n&&(n.style.aspectRatio="",n.style.maxWidth="",n.style.maxHeight=""),r&&(r.style.width="",r.style.height="",r.style.transform=""),n=void 0,s=void 0,r=void 0,a=Object.assign({},Dt),o=Object.assign({},Dt),g==null||g.destroy(),g=void 0,l==null||l.destroy(),l=void 0,w=4,C},emit:h,execute:N,getBoundaries:yt,getContainer:function(){return t},getFullDim:J,getGestures:function(){return l},getMousemovePos:wt,getOptions:function(){return m},getScale:ct,getState:function(){return w},getTransform:function(c){return c===!0?o:a},getTween:function(){return g},getViewport:function(){return r},getWrapper:function(){return n},init:function(){return w=0,h("init"),function(){for(const[c,f]of Object.entries(Object.assign(Object.assign({},i),m.plugins||{})))if(c&&!d[c]&&f instanceof Function){const x=f();x.init(C),d[c]=x}h("initPlugins")}(),function(){if(!t)return;const c=Object.assign(Object.assign({},Se.classes),v("classes"));if(bt(t,c.container),s=t.querySelector("."+c.content),!!s&&(s.setAttribute("draggable","false"),n=t.querySelector("."+c.wrapper),n||(n=document.createElement("div"),bt(n,c.wrapper),s.insertAdjacentElement("beforebegin",n),n.insertAdjacentElement("afterbegin",s)),s instanceof HTMLImageElement||s instanceof HTMLPictureElement)){if(r=t.querySelector("."+c.viewport),!r){r=document.createElement("div"),bt(r,c.viewport);const f=s.cloneNode(!0);f.classList.remove("is-lazyloading"),f.classList.remove("is-lazyloaded"),r.insertAdjacentElement("afterbegin",f),n.insertAdjacentElement("beforeend",r)}s instanceof HTMLPictureElement&&(s=s.querySelector("img")),r instanceof HTMLPictureElement&&(r=r.querySelector("img")),r.style.visibility="hidden",h("initLayout")}}(),function(){if(!(s&&s instanceof HTMLImageElement))return;const c=()=>{s&&s instanceof HTMLImageElement&&s.decode().then(()=>{requestAnimationFrame(()=>{D()})}).catch(()=>{D()})};if(s.src&&s.complete)return void c();w=1,function(){const f=t==null?void 0:t.querySelector(".f-spinner");if(!t||f)return;const x=v("spinnerTpl"),E=Kt(x);E&&(E.classList.add("f-spinner"),t.classList.add("is-loading"),n==null||n.insertAdjacentElement("afterbegin",E))}(),h("loading"),s.addEventListener("load",c,!1),s.addEventListener("error",c,!1),L.push(()=>{s==null||s.removeEventListener("load",c,!1),s==null||s.removeEventListener("error",c,!1)})}(),function(){if(t&&!M){let c=null;M=new ResizeObserver(()=>{c||(c=requestAnimationFrame(()=>{t&&t.parentElement&&w===3&&(B(),it(),h("refresh")),c=null}))}),M.observe(t),L.push(()=>{M==null||M.disconnect(),M=void 0,c&&(cancelAnimationFrame(c),c=null)})}}(),C},isDragging:y,isExpanded:F,isFullsize:I,localize:function(c,f=[]){const x=v("l10n")||{};c=String(c).replace(/\{\{(\w+)\}\}/g,(E,R)=>x[R]||E);for(let E=0;E<f.length;E++)c=c.split(f[E][0]).join(f[E][1]);return c=c.replace(/\{\{(.*?)\}\}/g,(E,R)=>R)},off:function(c,f){for(const x of c instanceof Array?c:[c])O.has(x)&&O.set(x,O.get(x).filter(E=>E!==f));return C},on:function(c,f){for(const x of c instanceof Array?c:[c])O.set(x,[...O.get(x)||[],f]);return C},version:"6.0.5",willZoomIn:Et,willZoomOut:$t};return C};Te.l10n={en_EN:Ce},Te.getDefaults=()=>Se;/*! License details at fancyapps.com/license */const xe=(t,e)=>{let i=[];return t.childNodes.forEach(n=>{n.nodeType!==Node.ELEMENT_NODE||e&&!n.matches(e)||i.push(n)}),i};/*! License details at fancyapps.com/license */const Ht=(t,...e)=>{const i=e.length;for(let n=0;n<i;n++){const s=e[n]||{};Object.entries(s).forEach(([r,l])=>{const g=Array.isArray(l)?[]:{};t[r]||Object.assign(t,{[r]:g}),kt(l)?Object.assign(t[r],Ht(g,l)):Array.isArray(l)?Object.assign(t,{[r]:[...l]}):Object.assign(t,{[r]:l})})}return t};/*! License details at fancyapps.com/license */const Pe=function(t=0,e=0,i=0,n=0,s=0,r=!1){const l=(t-e)/(i-e)*(s-n)+n;return r?n<s?gt(n,l,s):gt(s,l,n):l};/*! License details at fancyapps.com/license */const Ut=(t,e="")=>{t&&t.classList&&e.split(" ").forEach(i=>{i&&t.classList.remove(i)})};/*! License details at fancyapps.com/license */const Zt=(t,e="",i)=>{t&&t.classList&&e.split(" ").forEach(n=>{n&&t.classList.toggle(n,i||!1)})};/*! License details at fancyapps.com/license */const _e=Object.assign(Object.assign({},Ce),{ERROR:"Something went wrong. <br /> Please try again later.",NEXT:"Next page",PREV:"Previous page",GOTO:"Go to page #%d",DOWNLOAD:"Download",TOGGLE_FULLSCREEN:"Toggle full-screen mode",TOGGLE_EXPAND:"Toggle full-size mode",TOGGLE_THUMBS:"Toggle thumbnails",TOGGLE_AUTOPLAY:"Toggle slideshow"});/*! License details at fancyapps.com/license */const te=t=>{t.cancelable&&t.preventDefault()},ee={adaptiveHeight:!1,center:!0,classes:{container:"f-carousel",isEnabled:"is-enabled",isLTR:"is-ltr",isRTL:"is-rtl",isHorizontal:"is-horizontal",isVertical:"is-vertical",hasAdaptiveHeight:"has-adaptive-height",viewport:"f-carousel__viewport",slide:"f-carousel__slide",isSelected:"is-selected"},dragFree:!1,enabled:!0,errorTpl:'<div class="f-html">{{ERROR}}</div>',fill:!1,infinite:!0,initialPage:0,l10n:_e,rtl:!1,slides:[],slidesPerPage:"auto",spinnerTpl:'<div class="f-spinner"></div>',transition:"fade",tween:{clamp:!0,mass:1,tension:200,friction:25,restDelta:1,restSpeed:1,velocity:0},vertical:!1};let De,He=0;const he=(t,e={},i={})=>{He++;let n,s,r,l,g,M=0,S=Object.assign({},ee),w=Object.assign({},ee),m={},d=null,a=null,o=!1,L=!1,v=!1,O="height",h=0,_=!0,T=0,H=0,D=0,q=0,J="*",K=[],wt=[];const ct=new Set;let k=[],W=0,ut=0;function Z(u,...p){let b=w[u];return b&&b instanceof Function?b(nt,...p):b}function rt(u,p=[]){const b=Z("l10n")||{};u=String(u).replace(/\{\{(\w+)\}\}/g,($,Y)=>b[Y]||$);for(let $=0;$<p.length;$++)u=u.split(p[$][0]).join(p[$][1]);return u=u.replace(/\{\{(.*?)\}\}/g,($,Y)=>Y)}const yt=new Map;function it(u,...p){const b=yt.get(u)||[];w.on&&b.push(w.on[u]);for(const $ of b)$&&$ instanceof Function&&$(nt,...p);u!=="*"&&it("*",u,...p)}function B(){var u,p;const b=Ht({},ee,S);Ht(b,ee,S);let $="";const Y=S.breakpoints||{};if(Y)for(const[j,A]of Object.entries(Y))window.matchMedia(j).matches&&($+=j,Ht(b,A));if(g===void 0||$!==g){if(g=$,M!==0){let j=(p=(u=k[T])===null||u===void 0?void 0:u.slides[0])===null||p===void 0?void 0:p.index;j===void 0&&(j=w.initialSlide),b.initialSlide=j,b.slides=[];for(const A of K)A.isVirtual&&b.slides.push(A)}Ot(),w=b,w.enabled!==!1&&(M=0,it("init"),function(){for(const[j,A]of Object.entries(Object.assign(Object.assign({},i),w.plugins||{})))if(j&&!m[j]&&A instanceof Function){const z=A();z.init(nt,he),m[j]=z}it("initPlugins")}(),function(){if(!d)return;const j=Z("classes")||{};bt(d,j.container),bt(d,j.isEnabled);const A=Z("style");if(A&&kt(A))for(const[z,X]of Object.entries(A))d.style.setProperty(z,X);a=d.querySelector(`.${j.viewport}`),a||(a=document.createElement("div"),bt(a,j.viewport),a.append(...xe(d,`.${j.slide}`)),d.insertAdjacentElement("afterbegin",a)),d.carousel=nt,it("initLayout")}(),function(){if(!a)return;const j=Z("classes")||{};K=[],[...xe(a,`.${j.slide}`)].forEach(A=>{A.parentElement&&(K.push(I(Object.assign({el:A,isVirtual:!1},A.dataset||{}))),A.parentElement.removeChild(A))}),F(Z("slides"));for(const A of K)it("addSlide",A);it("initSlides")}(),s=Jt().on("start",()=>{_=!1,n&&n.isPointerDown()||(lt(),pt())}).on("step",j=>{h=j.pos,pt()}).on("end",j=>{n!=null&&n.isPointerDown()||(h=j.pos,s&&!o&&(h<D||h>q)?s.spring({clamp:!0,mass:1,tension:200,friction:25,velocity:0,restDelta:1,restSpeed:1}).from({pos:h}).to({pos:gt(D,h,q)}).start():_||(_=!0,it("settle")))}),function(){const j=Z("gestures");a&&j!==!1&&(n=ce(a,j).on("start",A=>{var z,X;if(!s)return;const{srcEvent:st}=A;function dt(St){const Pt=window.getComputedStyle(St),mt=new DOMMatrixReadOnly(Pt.transform);return{width:mt.m41||0,height:mt.m42||0}}v&&te(st),s.pause(),s.getCurrentVelocities().pos=0;const ht=(z=k[T])===null||z===void 0?void 0:z.slides[0];ht&&ct.has(ht.index)&&ht.el&&(h=ht.offset||0,h+=(dt(ht.el)[O]||0)*(L&&!v?1:-1)),P(),o||(h<D||h>q)&&s.spring({clamp:!0,mass:1,tension:500,friction:25,velocity:((X=s.getCurrentVelocities())===null||X===void 0?void 0:X.pos)||0,restDelta:1,restSpeed:1}).from({pos:h}).to({pos:gt(D,h,q)}).start()}).on("move",A=>{const{srcEvent:z,axis:X}=A,st=A.srcEvent.target;st&&le(st)||(X||(z.stopPropagation(),z.stopImmediatePropagation()),(X==="y"&&v||X==="x"&&!v)&&(te(z),z.stopPropagation()))}).on("panstart",A=>{(A==null?void 0:A.axis)===(v?"y":"x")&&bt(a,"is-dragging")}).on("panend",()=>{Ut(a,"is-dragging")}).on("pan",A=>{var z;const{deltaX:X,deltaY:st,currentTouch:dt,axis:ht}=A;if(!s||dt.length>1||ht==="y"&&!v||ht==="x"&&v)return;const St=L&&!v?1:-1;let Pt=v?st:X,mt=s!=null&&s.isRunning()?s.getEndValues().pos:h,vt=1;o||(mt<=D&&Pt*St<0?(vt=Math.max(.01,1-Math.abs(1/Lt()*Math.abs(mt-D))),vt*=.2):mt>=q&&Pt*St>0&&(vt=Math.max(.01,1-Math.abs(1/Lt()*Math.abs(mt-q))),vt*=.2)),mt+=Pt*vt*St,s.spring({clamp:!0,mass:1,tension:700,friction:25,velocity:((z=s.getCurrentVelocities())===null||z===void 0?void 0:z.pos)||0,restDelta:1,restSpeed:1}).from({pos:h}).to({pos:mt}).start()}).on("end",A=>{var z,X;const{axis:st,velocityX:dt,velocityY:ht,currentTouch:St}=A,Pt=k.length,mt=Z("dragFree");if(St.length>0||!s||!Pt)return;const vt=Z("vertical")?ht:dt;let _t=s!=null&&s.isRunning()?s.getEndValues().pos:h;const Ft=L&&!v?1:-1;if(_t+=vt*(mt?5:1)*Ft,!o&&(vt*Ft<=0&&_t<D||vt*Ft>=0&&_t>q)){let Tt=0;return Math.abs(vt)>0&&(Tt=2*Math.abs(vt),Tt=Math.min(.3*Lt(),Tt)),_t=gt(D+-1*Tt,_t,q+Tt),void s.spring({clamp:!0,mass:1,tension:380,friction:25,velocity:-1*vt,restDelta:1,restSpeed:1}).from({pos:h}).to({pos:_t}).start()}if(mt||!((z=m.Autoscroll)===null||z===void 0)&&z.isEnabled())return void(Math.abs(vt)>10?s.spring({clamp:!0,mass:1,tension:150,friction:25,velocity:-1*vt,restDelta:1,restSpeed:1}).from({pos:h}).to({pos:_t}).start():s.isRunning()||_||(_=!0,it("settle")));if(!mt&&!(!((X=m.Autoscroll)===null||X===void 0)&&X.isEnabled())&&(!A.offsetX&&!A.offsetY||st==="y"&&!v||st==="x"&&v))return void at(T,{transition:"tween"});let xt=zt(_t);Math.abs(vt)>10&&xt===T&&(xt+=vt>0?L&&!v?1:-1:L&&!v?-1:1),at(xt,{transition:"tween",tween:{tension:160,friction:25,velocity:-1*vt}})}).init())}(),E(),function(){if(d&&(d.addEventListener("click",G,{passive:!1}),document.addEventListener("mousemove",N),!r)){let j=null;r=new ResizeObserver(A=>{j||(j=requestAnimationFrame(()=>{(function(z){if(!d)return;let X=z[0].contentBoxSize[0].blockSize,st=z[0].contentBoxSize[0].inlineSize;if(M===0)return W=X,ut=st,M=1,pt(),Et(),void it("ready");if(M!==1)return;const dt=k.length;E();const ht=d.getBoundingClientRect();X=ht.height,st=ht.width,dt>1&&(v&&Math.abs(X-W)<.5||!v&&Math.abs(st-ut)<.5)||(W=X,ut=st,v&&!X||!v&&!st||d&&a&&(dt===k.length&&(n!=null&&n.isPointerDown()||Z("dragFree")&&(s!=null&&s.isRunning()))||at(T,{transition:!1})))})(A),j=null}))}),r.observe(d)}}())}}function N(u){De=u}function Q(u="*"){var p;const b=[];for(const $ of K)(u==="*"||$.class&&$.class.includes(u)||$.el&&(!((p=$.el)===null||p===void 0)&&p.classList.contains(u)))&&b.push($);l=void 0,J=u,wt=[...b]}function lt(){if(!s)return;const u=zt(s!=null&&s.isRunning()?s.getEndValues().pos:h);u!==T&&(l=T,T=u,ot(),Et(),$t(),it("change",T,l))}function Et(){var u;if(!d)return;Zt(a,"is-draggable",!!n&&k.length>0);for(const $ of d.querySelectorAll("[data-carousel-index]"))$.innerHTML=T+"";for(const $ of d.querySelectorAll("[data-carousel-page]"))$.innerHTML=T+1+"";for(const $ of d.querySelectorAll("[data-carousel-pages]"))$.innerHTML=k.length+"";let p=!1;const b=(u=k[T])===null||u===void 0?void 0:u.slides[0];b&&(b.downloadSrc||b.type==="image"&&b.src)&&(p=!0);for(const $ of d.querySelectorAll("[data-carousel-download]"))$.toggleAttribute("aria-disabled",!p)}function $t(u){var p;if(!d)return;u||(u=(p=k[T])===null||p===void 0?void 0:p.slides[0]);const b=u.el;if(b)for(const $ of b.querySelectorAll("[data-slide-index]"))$.innerHTML=u.index+1+""}function zt(u){if(!k.length||!s)return 0;const p=y();let b=u;o?b-=Math.floor((u-k[0].pos)/p)*p:b=gt(k[0].pos,u,k[k.length-1].pos);const $=new Map;let Y=0;for(const A of k){const z=Math.abs(A.pos-b),X=Math.abs(A.pos-b-p),st=Math.abs(A.pos-b+p),dt=Math.min(z,X,st);$.set(Y,dt),Y++}const j=$.size>0?[...$.entries()].reduce((A,z)=>z[1]<A[1]?z:A):[T,0];return parseInt(j[0])}function It(){return a&&parseFloat(getComputedStyle(a).getPropertyValue("--f-carousel-gap"))||0}function Lt(){return a&&a.getBoundingClientRect()[O]||0}function y(u=!0){const p=It();return wt.reduce((b,$)=>b+$.dim,0)+(wt.length-(o&&u?0:1))*p}function F(u,p){const b=[];for(const $ of Array.isArray(u)?u:[u]){const Y=I(Object.assign(Object.assign({},$),{isVirtual:!0}));b.push(Y)}K.splice(p===void 0?K.length:p,0,...b),x();for(const $ of b)C($);return Q(J),b}function I(u){return(Ct(u)||u instanceof HTMLElement)&&(u={html:u}),Object.assign({index:-1,el:void 0,class:"",isVirtual:!0,dim:0,pos:0,offset:0,html:"",src:""},u)}function C(u){if(!u)return;let p=u.el;p||(p=document.createElement("div"),u.el=p);const b=u.html?u.html instanceof HTMLElement?u.html:Kt(u.html):void 0;b&&(bt(b,"f-html"),u.htmlEl=b,bt(p,"has-html"),p.append(b),it("contentReady",u))}function c(u){if(!a||!u)return;let p=u.el;if(p){if(p.setAttribute("index",u.index+""),p.parentElement!==a){let b;bt(p,w.classes.slide),bt(p,u.class),ot(u);for(const $ of K)if($.index>u.index){b=$.el;break}a.insertBefore(p,b&&a.contains(b)?b:null),Et(),$t(u),it("attachSlideEl",u)}return p}}function f(u){const p=u==null?void 0:u.el;p&&(p.remove(),R(p),it("detachSlideEl",u))}function x(){for(let u=0;u<K.length;u++){const p=K[u],b=p.el;b&&(p.index!==u&&R(b),b.setAttribute("index",`${u}`)),p.index=u}}function E(){var u,p,b,$;if(!d||!a)return;L=Z("rtl"),v=Z("vertical"),O=v?"height":"width";const Y=Z("classes");Zt(d,Y.isLTR,!L),Zt(d,Y.isRTL,L),Zt(d,Y.isHorizontal,!v),Zt(d,Y.isVertical,v),Zt(d,Y.hasAdaptiveHeight,Z("adaptiveHeight"));const j=function(){let A=0;if(a){let z=document.createElement("div");bt(z,w.classes.slide),a.appendChild(z),A=z.getBoundingClientRect()[O],z.remove(),z=void 0}return A}();for(const A of wt){const z=A.el;let X=0;if(!A.isVirtual&&z&&ne(z)){let st=!1;z.parentElement&&z.parentElement===a||(a.appendChild(z),st=!0),X=z.getBoundingClientRect()[O],st&&((u=z.parentElement)===null||u===void 0||u.removeChild(z))}else X=j;A.dim=X}if(function(){if(!d)return;x();const A=Lt(),z=It(),X=y(!1);let st=Z("slidesPerPage");st=st==="auto"?1/0:parseFloat(st+""),k=[];let dt=0,ht=0;for(const xt of wt)(!k.length||dt+xt.dim-A>.05||ht>=st)&&(k.push({index:k.length,slides:[],dim:0,offset:0,pos:0}),dt=0,ht=0),k[k.length-1].slides.push(xt),dt+=xt.dim+z,ht++;const St=Z("center"),Pt=Z("fill"),mt=Z("infinite");let vt=0;for(const xt of k){xt.dim=(xt.slides.length-1)*z;for(const Tt of xt.slides)xt.dim+=Tt.dim;xt.offset=vt,xt.pos=vt,St!==!1&&(xt.pos-=.5*(A-xt.dim)),Pt&&!mt&&X>A&&(xt.pos=gt(0,xt.pos,X-A)),vt+=xt.dim+z}const _t=[];let Ft;for(const xt of k){const Tt=Object.assign({},xt);Ft&&Tt.pos===Ft.pos?(Ft.dim+=Tt.dim,Ft.slides=[...Ft.slides,...Tt.slides]):(Ft=Tt,Tt.index=_t.length,_t.push(Tt))}k=_t}(),o=Z("infinite")&&k.length>1&&y()-(Lt()+(((p=wt[0])===null||p===void 0?void 0:p.dim)||0))>-.5,D=((b=k[0])===null||b===void 0?void 0:b.pos)||0,q=(($=k[k.length-1])===null||$===void 0?void 0:$.pos)||0,M===0)(function(){var A;l=void 0,T=Z("initialPage");const z=Z("initialSlide")||void 0;z!==void 0&&(T=nt.getPageIndex(z)||0),T=gt(0,T,k.length-1),h=((A=k[T])===null||A===void 0?void 0:A.pos)||0,H=h})();else{const A=s!=null&&s.isRunning()?s.getEndValues().pos:h;(A<D||A>q)&&(T=gt(0,T,k.length-1))}it("refresh")}function R(u){if(!u||!ne(u))return;const p=parseInt(u.getAttribute("index")||"-1");let b="";for(const Y of Array.from(u.classList)){const j=Y.match(/^f-(\w+)(Out|In)$/);j&&j[1]&&(b=j[1]+"")}if(!u||!b)return;const $=[`f-${b}Out`,`f-${b}In`,"to-prev","to-next","from-prev","from-next"];u.removeEventListener("animationend",U),Ut(u,$.join(" ")),ct.delete(p)}function P(){if(!a)return;const u=ct.size;for(const p of wt)R(p.el);ct.clear(),u&&pt()}function U(u){u.animationName.substring(0,2)==="f-"&&(R(u.target),ct.size||(Ut(d,"in-transition"),!_&&Math.abs(nt.getPosition(!0)-H)<.5&&(_=!0,it("settle"))),pt())}function G(u){if(u.defaultPrevented)return;const p=u.composedPath()[0];if(p.closest("[data-carousel-go-prev]"))return te(u),void nt.prev();if(p.closest("[data-carousel-go-next]"))return te(u),void nt.next();const b=p.closest("[data-carousel-go-to]");if(b)return te(u),void nt.goTo(parseFloat(b.dataset.carouselGoTo||"")||0);if(p.closest("[data-carousel-download]")){te(u);const $=k[T].slides[0];if($.downloadSrc||$.type==="image"&&$.src){const Y=$.downloadFilename,j=document.createElement("a");j.href=$.downloadSrc||$.src||"",j.target="_blank",Y&&(j.download=Y),j.click()}}else it("click",u)}function et(u){var p;const b=u.el;b&&((p=b.querySelector(".f-spinner"))===null||p===void 0||p.remove(),Ut(b,"is-loading"))}function tt(u){var p;const b=u.el;b&&((p=b.querySelector(".f-html.is-error"))===null||p===void 0||p.remove(),Ut(b,"has-error"))}function ot(u){var p;u||(u=(p=k[T])===null||p===void 0?void 0:p.slides[0]);const b=u==null?void 0:u.el;if(!b)return;let $=Z("formatCaption",u);$===void 0&&($=u.caption),$=$||"";const Y=Z("captionEl");if(Y&&Y instanceof HTMLElement){if(u.index!==T)return;if(Ct($)&&(Y.innerHTML=rt($+"")),$ instanceof HTMLElement){if($.parentElement===Y)return;Y.innerHTML="",$.parentElement&&($=$.cloneNode(!0)),Y.append($)}return}if(!$)return;let j=u.captionEl||b.querySelector(".f-caption");!j&&$ instanceof HTMLElement&&$.classList.contains("f-caption")&&(j=$),j||(j=document.createElement("div"),bt(j,"f-caption"),Ct($)?j.innerHTML=rt($+""):$ instanceof HTMLElement&&($.parentElement&&($=$.cloneNode(!0)),j.append($)));const A=`f-caption-${He}_${u.index}`;j.setAttribute("id",A),j.dataset.selectable="true",bt(b,"has-caption"),b.setAttribute("aria-labelledby",A),u.captionEl=j,b.insertAdjacentElement("beforeend",j)}function at(u,p){let{transition:b,tween:$}=Object.assign({transition:w.transition,tween:w.tween},p||{});if(!d||!s)return;const Y=k.length;if(!Y||function(A,z){var X,st,dt;if(!(d&&s&&z&&Ct(z)&&z!=="tween"))return!1;const ht=k.length;let St=A>T?1:-1;A=o?(A%ht+ht)%ht:gt(0,A,ht-1),L&&(St*=-1);const Pt=(X=k[T])===null||X===void 0?void 0:X.slides[0],mt=Pt==null?void 0:Pt.index,vt=(st=k[A])===null||st===void 0?void 0:st.slides[0],_t=vt==null?void 0:vt.index,Ft=(dt=k[A])===null||dt===void 0?void 0:dt.pos;if(_t===void 0||mt===void 0||mt===_t||h===Ft||Math.abs(Lt()-((vt==null?void 0:vt.dim)||0))>1)return!1;_=!1,s.pause(),P(),bt(d,"in-transition"),h=H=Ft,lt();const xt=c(Pt),Tt=c(vt);return xt&&(ct.add(mt),xt.style.transform="",xt.addEventListener("animationend",U),Ut(xt,w.classes.isSelected),bt(xt,`f-${z}Out to-${St>0?"next":"prev"}`)),Tt&&(ct.add(_t),Tt.style.transform="",Tt.addEventListener("animationend",U),bt(Tt,w.classes.isSelected),bt(Tt,`f-${z}In from-${St>0?"prev":"next"}`)),pt(),!0}(u,b))return;u=o?(u%Y+Y)%Y:gt(0,u,Y-1),H=k[u||0].pos||0;const j=s.isRunning()?s.getEndValues().pos:h;if(Math.abs(H-j)<1)return h=H,T!==u&&(ot(),Et(),$t(),l=T,T=u,it("change",T,l)),pt(),void(_||(_=!0,it("settle")));if(s.pause(),P(),o){const A=y(),z=Math.floor((j-k[0].pos)/A),X=H+z*A;H=[X+A,X,X-A].reduce(function(st,dt){return Math.abs(dt-j)<Math.abs(st-j)?dt:st})}b!==!1&&kt($)?s.spring($).from({pos:h}).to({pos:H}).start():(h=H,lt(),pt(),_||(_=!0,it("settle")))}function pt(){var u;if(!d||!a)return;const p=k[T],b=function(A){const z=It(),X=y(),st=Lt(),dt=[];if(!X||!st)return dt;A=A===void 0?h:A,o&&(A-=Math.floor(A/X)*X);let ht=0,St=0,Pt=0;do{for(let mt of wt)dt.indexOf(mt)>-1||(mt.offset=St,mt.pos=St-A,mt.offset+mt.dim>A+.51&&mt.offset<A+st-.51&&dt.push(mt),St+=mt.dim+z,ht=A+st-((mt.pos||0)+mt.dim+z));if(Pt++,Pt>100||!o)break}while(ht>0&&X>0);return dt}(),$=new Set,Y=new Set;let j;for(const A of b){let z=c(A);if(!z)continue;$.add(z);const X=((u=p==null?void 0:p.slides)===null||u===void 0?void 0:u.indexOf(A))>-1;X&&Y.add(z);const st=A.pos?Math.round(1e4*A.pos)/1e4:0,dt=v?0:L?-1*st:st,ht=v?st:0,St=Pe(dt,0,A.dim,0,100),Pt=Pe(ht,0,A.dim,0,100),mt=w.setTransform||void 0;if(mt instanceof Function?mt(nt,A,{x:dt,y:ht,xPercent:St,yPercent:Pt}):z.style.transform=dt||ht?`translate3d(${St}%, ${Pt}%,0)`:"",Z("adaptiveHeight")&&!v&&X){const vt=(z.firstElementChild||z).getBoundingClientRect().height;j=j==null?vt:Math.max(j,vt)}}[...xe(a,`.${w.classes.slide}`)].forEach(A=>{const z=parseInt(A.getAttribute("index")||"-1"),X=K[z];X||A.remove(),Zt(A,w.classes.isSelected,Y.has(A)),ct.has(z)||$.has(A)||f(X)}),a&&j!==void 0&&(a.style.height=`${j}px`),it("render",b)}function Ot(){var u;d==null||d.removeEventListener("click",G),P(),document.removeEventListener("mousemove",N),r==null||r.disconnect(),r=void 0;for(const p of Object.values(m))p==null||p.destroy();m={};for(const p of K)p.el&&ne(p.el)&&(p.state=void 0,et(p),tt(p),f(p),p.isVirtual?((u=p.el)===null||u===void 0||u.remove(),p.el=void 0):(p.el.style.transform="",a==null||a.appendChild(p.el)));n==null||n.destroy(),n=void 0,s==null||s.destroy(),s=void 0;for(const p of Object.values(w.classes||{}))Ut(d,p);Ut(a,"is-draggable")}const nt={add:function(u,p){const b=F(u,p);for(const $ of b)it("addSlide",$);return Q(J),E(),pt(),nt},canGoPrev:function(){return o||T>0},canGoNext:function(){return o||T<k.length-1},destroy:function(){return it("destroy"),window.removeEventListener("resize",B),Ot(),yt.clear(),d=null,k=[],K=[],w=Object.assign({},ee),m={},wt=[],g="",J="*",M=2,nt},emit:it,filter:function(u="*"){return Q(u),E(),pt(),it("filter",u),nt},getContainer:function(){return d},getGapDim:It,getGestures:function(){return n},getLastMouseMove:function(){return De},getOptions:function(){return w},getPage:function(){return k[T]},getPageIndex:function(u){if(u!==void 0){for(const p of k||[])for(const b of p.slides)if(b.index===u)return p.index;return-1}return T},getPageProgress:function(u,p){u===void 0&&(u=T);const b=k[u];if(!b)return u>T?-1:1;let $=b.pos;const Y=It(),j=nt.getPosition(),A=y();if(o&&p!==!0){const z=$+A*Math.floor((j-k[0].pos)/A);$=[z+A,z,z-A].reduce(function(X,st){return Math.abs(st-j)<Math.abs(X-j)?st:X})}return(j-$)/(b.dim+Y)},getPageVisibility:function(u){u===void 0&&(u=T);const p=k[u];if(!p)return u>T?-1:1;const b=nt.getPosition(),$=Lt();let Y=p.pos;if(o){const j=nt.getPosition(),A=y(),z=Y+Math.floor((j-k[0].pos)/A)*A;Y=[z+A,z,z-A].reduce(function(X,st){return Math.abs(st-j)<Math.abs(X-j)?st:X})}return Y>b&&Y+p.dim<b+$?1:Y<b?(Y+p.dim-b)/p.dim:Y+p.dim>b+$?(b+$-Y)/p.dim:0},getPages:function(){return k},getPlugins:function(){return m},getPosition:function(u){var p;let b=h;if(o&&u!==!0){const $=y();b-=Math.floor((h-((p=k[0])===null||p===void 0?void 0:p.pos)||0)/$)*$}return b},getSlides:function(){return K},getState:function(){return M},getTotalSlideDim:y,getTween:function(){return s},getViewport:function(){return a},getViewportDim:Lt,goTo:at,hasNavigated:function(){return l!==void 0},hideError:tt,hideLoading:et,init:function(){if(!t||!ne(t))throw new Error("No Element found");return M!==0&&(Ot(),M=0),d=t,S=e,window.removeEventListener("resize",B),S.breakpoints&&window.addEventListener("resize",B),B(),nt},isInfinite:function(){return o},isInTransition:function(){return ct.size>0},isRTL:function(){return L},isSettled:function(){return _},localize:function(u,p=[]){return rt(u,p)},next:function(u={}){return at(T+1,u),nt},off:function(u,p){for(const b of u instanceof Array?u:[u])yt.has(b)&&yt.set(b,yt.get(b).filter($=>$!==p));return nt},on:function(u,p){for(const b of u instanceof Array?u:[u])yt.set(b,[...yt.get(b)||[],p]);return nt},prev:function(u={}){return at(T-1,u),nt},remove:function(u){u===void 0&&(u=K.length-1);const p=K[u];return p&&(it("removeSlide",p),p.el&&(R(p.el),p.el.remove(),p.el=void 0),K.splice(u,1),Q(J),E(),pt()),nt},setPosition:function(u){h=u,lt(),pt()},showError:function(u,p){et(u),tt(u);const b=u.el;if(b){const $=document.createElement("div");bt($,"f-html"),bt($,"is-error"),$.innerHTML=rt(p||"<p>{{ERROR}}</p>"),u.htmlEl=$,bt(b,"has-html"),bt(b,"has-error"),b.insertAdjacentElement("afterbegin",$),it("contentReady",u)}return nt},showLoading:function(u){const p=u.el,b=p==null?void 0:p.querySelector(".f-spinner");if(!p||b)return nt;const $=Z("spinnerTpl"),Y=Kt($);return Y&&(bt(Y,"f-spinner"),bt(p,"is-loading"),p.insertAdjacentElement("beforeend",Y)),nt},version:"6.0.5"};return nt};he.l10n={en_EN:_e},he.getDefaults=()=>ee;/*! License details at fancyapps.com/license */const Be=(t=!0,e="--f-scrollbar-compensate",i="--f-body-margin",n="hide-scrollbar")=>{const s=document,r=s.body,l=s.documentElement;if(t){if(r.classList.contains(n))return;let g=window.innerWidth-l.getBoundingClientRect().width;g<0&&(g=0),l.style.setProperty(e,`${g}px`);const M=parseFloat(window.getComputedStyle(r).marginRight);M&&r.style.setProperty(i,`${M}px`),r.classList.add(n)}else r.classList.remove(n),r.style.setProperty(i,""),s.documentElement.style.setProperty(e,"")};/*! License details at fancyapps.com/license */function ln(){return!(typeof window>"u"||!window.document||!window.document.createElement)}/*! License details at fancyapps.com/license */const Xt=function(t="",e="",i=""){return t.split(e).join(i)};/*! License details at fancyapps.com/license */const Ne={tpl:t=>`<img class="f-panzoom__content" 
    ${t.srcset?'data-lazy-srcset="{{srcset}}"':""} 
    ${t.sizes?'data-lazy-sizes="{{sizes}}"':""} 
    data-lazy-src="{{src}}" alt="{{alt}}" />`},yn=()=>{let t;function e(w,m){const d=t==null?void 0:t.getOptions().Zoomable;let a=(kt(d)?Object.assign(Object.assign({},Ne),d):Ne)[w];return a&&typeof a=="function"&&m?a(m):a}function i(){t&&(t.on("addSlide",r),t.on("removeSlide",l),t.on("attachSlideEl",g),t.on("click",s),t.on("change",n))}function n(){M()}function s(w,m){const d=m.target;d&&!m.defaultPrevented&&d.dataset.panzoomAction&&S(d.dataset.panzoomAction)}function r(w,m){if(!t)return;const d=m.el;if(!d)return;const a=m.src||m.lazySrc||"",o=m.srcset||m.lazySrcset||"",L=m.sizes||m.lazySizes||"";if(a&&Ct(a)&&!m.html&&(!m.type||m.type==="image")){let _=e("tpl",m);_=Xt(_,"{{src}}",a+""),_=Xt(_,"{{srcset}}",o+""),_=Xt(_,"{{sizes}}",L+""),_=Xt(_,"{{alt}}",`${m.alt||m.caption||`Image #${m.index}`}`),d.insertAdjacentHTML("afterbegin",_)}if(!d.querySelector(".f-panzoom__content"))return;const v=m.width&&m.width!=="auto"?parseFloat(m.width+""):"auto",O=m.height&&m.height!=="auto"?parseFloat(m.height+""):"auto",h=Te(d,Object.assign({width:v,height:O,event:()=>t==null?void 0:t.getLastMouseMove(),classes:{container:"f-zoomable"}},e("Panzoom")));h.on("*",(_,T,...H)=>{t&&(T==="loading"&&(m.state=0),T==="loaded"&&(m.state=1),T==="error"&&(m.state=2,t==null||t.showError(m,"{{IMAGE_ERROR}}")),t.emit(`panzoom:${T}`,m,...H),T==="ready"&&t.emit("contentReady",m),m.index===t.getPageIndex()&&M())}),m.panzoomRef=h}function l(w,m){m.panzoomRef&&(m.panzoomRef.destroy(),m.panzoomRef=void 0)}function g(w,m){const d=m.panzoomRef;if(d)switch(d.getState()){case 0:d.init();break;case 3:d.execute(V.Reset,{velocity:0})}}function M(){var w;const m=t==null?void 0:t.getContainer();if(!m)return;const d=(w=t==null?void 0:t.getPage())===null||w===void 0?void 0:w.slides[0].panzoomRef,a=(d==null?void 0:d.canZoomIn())||!1,o=(d==null?void 0:d.canZoomOut())||!1,L=(d==null?void 0:d.isFullsize())||!1,v=!d||(d==null?void 0:d.getState())!==3;for(const O of(m==null?void 0:m.querySelectorAll("[data-panzoom-action]"))||[]){const h=O.dataset.panzoomAction;let _=!1;if(v)_=!0;else switch(h){case V.ZoomIn:a||(_=!0);break;case V.ZoomOut:o||(_=!0);break;case V.ToggleFull:a||o||(_=!0);const T=O.querySelector("g");T&&(T.style.display=L?"none":"");break;case V.ToggleCover:case V.ToggleMax:a||o||(_=!0)}_?(O.setAttribute("aria-disabled",""),O.setAttribute("tabindex","-1")):(O.removeAttribute("aria-disabled"),O.removeAttribute("tabindex"))}}function S(w,...m){var d;(d=t==null?void 0:t.getPage().slides[0].panzoomRef)===null||d===void 0||d.execute(w,...m)}return{init:function(w){t=w,t.getOptions().Zoomable!==!1&&t.on("initPlugins",i)},destroy:function(){if(t){t.off("addSlide",r),t.off("removeSlide",l),t.off("attachSlideEl",g),t.off("change",n);for(const w of t.getSlides())l(0,w)}t=void 0},execute:S}};/*! License details at fancyapps.com/license */const Ve={syncOnChange:!1,syncOnClick:!0,syncOnHover:!1},cn=()=>{let t,e;function i(){const a=t==null?void 0:t.getOptions().Sync;return kt(a)?Object.assign(Object.assign({},Ve),a):Ve}function n(a){var o,L,v;t&&a&&(e=a,t.getOptions().classes=Object.assign(Object.assign({},t.getOptions().classes),{isSelected:""}),t.getOptions().initialSlide=((L=(o=e.getPage())===null||o===void 0?void 0:o.slides[0])===null||L===void 0?void 0:L.index)||0,i().syncOnChange&&t.on("change",l),i().syncOnClick&&t.on("click",M),i().syncOnHover&&((v=t.getViewport())===null||v===void 0||v.addEventListener("mouseover",S)),function(){!t||!e||(t.on("ready",r),t.on("refresh",w),e.on("change",g),e.on("filter",m))}())}function s(){const a=i().target;t&&a&&n(a)}function r(){d()}function l(){var a;if(t&&e){const o=((a=t.getPage())===null||a===void 0?void 0:a.slides)||[],L=e.getPageIndex(o[0].index||0);L>-1&&e.goTo(L,t.hasNavigated()?void 0:{tween:!1,transition:!1}),d()}}function g(){var a;if(t&&e){const o=t.getPageIndex(((a=e.getPage())===null||a===void 0?void 0:a.slides[0].index)||0);o>-1&&t.goTo(o,e.hasNavigated()?void 0:{tween:!1,transition:!1}),d()}}function M(a,o){var L;if(!t||!e||!((L=t.getTween())===null||L===void 0)&&L.isRunning())return;const v=t==null?void 0:t.getOptions().classes.slide;if(!v)return;const O=v?o.target.closest(`.${v}`):null;if(O){const h=parseInt(O.getAttribute("index")||"")||0,_=e.getPageIndex(h);e.goTo(_)}}function S(a){t&&M(0,a)}function w(){var a;if(t&&e){const o=t.getPageIndex(((a=e.getPage())===null||a===void 0?void 0:a.slides[0].index)||0);o>-1&&t.goTo(o,{tween:!1,transition:!1}),d()}}function m(a,o){t&&e&&(t.filter(o),g())}function d(){var a,o,L;if(!e)return;const v=((o=(a=e.getPage())===null||a===void 0?void 0:a.slides[0])===null||o===void 0?void 0:o.index)||0;for(const O of(t==null?void 0:t.getSlides())||[])(L=O.el)===null||L===void 0||L.classList.toggle("is-selected",O.index===v)}return{init:function(a){t=a,t.on("initSlides",s)},destroy:function(){var a;t==null||t.off("ready",r),t==null||t.off("refresh",w),t==null||t.off("change",l),t==null||t.off("click",M),(a=t==null?void 0:t.getViewport())===null||a===void 0||a.removeEventListener("mouseover",S),e==null||e.off("change",g),e==null||e.off("filter",m),e=void 0,t==null||t.off("initSlides",s),t=void 0},getTarget:function(){return e}}};/*! License details at fancyapps.com/license */const qe={showLoading:!0,preload:1},pe="is-lazyloading",We="is-lazyloaded",un=()=>{let t;function e(){const r=t==null?void 0:t.getOptions().Lazyload;return kt(r)?Object.assign(Object.assign({},qe),r):qe}function i(r){const l=r.el;if(!l)return;const g="[data-lazy-src],[data-lazy-srcset],[data-lazy-bg]",M=Array.from(l.querySelectorAll(g));l.matches(g)&&M.push(l);for(const S of M){const w=S.dataset.lazySrc,m=S.dataset.lazySrcset,d=S.dataset.lazySizes,a=S.dataset.lazyBg,o=(S instanceof HTMLImageElement||S instanceof HTMLSourceElement)&&(w||m),L=S instanceof HTMLElement&&a;if(!o&&!L)continue;const v=w||m||a;v&&(o&&v?(e().showLoading&&(t==null||t.showLoading(r)),S.addEventListener("load",()=>{t==null||t.hideLoading(r),S instanceof HTMLImageElement?S.decode().then(()=>{S.classList.remove(pe),S.classList.add(We)}):(S.classList.remove(pe),S.classList.add(We)),t==null||t.emit("lazyLoad:loaded",r,S,v)}),S.addEventListener("error",()=>{t==null||t.hideLoading(r),S.classList.remove(pe),S.classList.add("has-lazyerror"),t==null||t.emit("lazyLoad:error",r,S,v)}),S.classList.add("f-lazyload"),S.classList.add(pe),t==null||t.emit("lazyLoad:load",r,S,v),w&&(S.src=w),m&&(S.srcset=m),d&&(S.sizes=d)):L&&(document.body.contains(S)||(document.createElement("img").src=a),S.style.backgroundImage=`url('${a}')`),delete S.dataset.lazySrc,delete S.dataset.lazySrcset,delete S.dataset.lazySizes)}}function n(){var r;if(!t)return;const l=e().preload,g=t.getPages(),M=g.length,S=t.getPageIndex();for(let w=S-l;w<=S+l;w++){const m=(w%M+M)%M;for(const d of((r=g[m])===null||r===void 0?void 0:r.slides)||[])i(d)}}function s(r,l){i(l)}return{init:function(r){t=r,t.on(["ready","change"],n),t.on("attachSlideEl",s)},destroy:function(){t==null||t.off(["ready","change"],n),t==null||t.off("attachSlideEl",s),t=void 0}}};/*! License details at fancyapps.com/license */const Ue={prevTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M15 3l-9 9 9 9"></path></svg>',nextTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M9 3l9 9-9 9"></path></svg>'},wn=()=>{let t,e,i;function n(l){if(!t)return;const g=`<button data-carousel-go-${l} tabindex="0" class="f-button is-arrow is-${l}" title="{{${l.toUpperCase()}}}">`+function(){const M=t==null?void 0:t.getOptions().Arrows;return kt(M)?Object.assign(Object.assign({},Ue),M):Ue}()[`${l}Tpl`]+"</button";return Kt(t.localize(g))||void 0}function s(){var l;e==null||e.remove(),e=void 0,i==null||i.remove(),i=void 0,(l=t==null?void 0:t.getContainer())===null||l===void 0||l.classList.remove("has-arrows")}function r(){t&&t.getOptions().Arrows!==!1&&t.getPages().length>1?(function(){if(!t)return;const l=t.getViewport();l&&(e||(e=n("prev"),e&&l.insertAdjacentElement("beforebegin",e)),i||(i=n("next"),i&&l.insertAdjacentElement("afterend",i)),Zt(t.getContainer(),"has-arrows",!(!e&&!i)))}(),t&&(e==null||e.toggleAttribute("aria-disabled",!t.canGoPrev()),i==null||i.toggleAttribute("aria-disabled",!t.canGoNext()))):s()}return{init:function(l){t=l.on(["change","refresh"],r)},destroy:function(){s(),t==null||t.off(["change","refresh"],r),t=void 0}}};/*! License details at fancyapps.com/license */const dn={moveLeft:{tpl:'<button data-panzoom-action="moveLeft" class="f-button" title="{{MOVE_LEFT}}"><svg><path d="M5 12h14M5 12l6 6M5 12l6-6"/></svg></button>'},moveRight:{tpl:'<button data-panzoom-action="moveRight" class="f-button" title="{{MOVE_RIGHT}}"><svg><path d="M5 12h14M13 18l6-6M13 6l6 6"/></svg></button>'},moveUp:{tpl:'<button data-panzoom-action="moveUp" class="f-button" title="{{MOVE_UP}}"><svg><path d="M12 5v14M18 11l-6-6M6 11l6-6"/></svg></button>'},moveDown:{tpl:'<button data-panzoom-action="moveDown" class="f-button" title="{{MOVE_DOWN}}"><svg><path d="M12 5v14M18 13l-6 6M6 13l6 6"/></svg></button>'},zoomIn:{tpl:'<button data-panzoom-action="zoomIn" class="f-button" title="{{ZOOM_IN}}"><svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M11 8v6M8 11h6"/></svg></button>'},zoomOut:{tpl:'<button data-panzoom-action="zoomOut" class="f-button" title="{{ZOOM_OUT}}"><svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg></button>'},toggle1to1:{tpl:'<button data-panzoom-action="toggleFull" class="f-button" title="{{TOGGLE_FULL}}"><svg><path d="M3.51 3.07c5.74.02 11.48-.02 17.22.02 1.37.1 2.34 1.64 2.18 3.13 0 4.08.02 8.16 0 12.23-.1 1.54-1.47 2.64-2.79 2.46-5.61-.01-11.24.02-16.86-.01-1.36-.12-2.33-1.65-2.17-3.14 0-4.07-.02-8.16 0-12.23.1-1.36 1.22-2.48 2.42-2.46Z"/><path d="M5.65 8.54h1.49v6.92m8.94-6.92h1.49v6.92M11.5 9.4v.02m0 5.18v0"/></svg></button>'},toggleFull:{tpl:'<button data-panzoom-action="toggleFull" class="f-button" title="{{TOGGLE_FULL}}"><svg><g><line x1="11" y1="8" x2="11" y2="14"></line></g><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg></button>'},rotateCCW:{tpl:'<button data-panzoom-action="rotateCCW" class="f-button" title="{{ROTATE_CCW}}"><svg><path d="M15 4.55a8 8 0 0 0-6 14.9M9 15v5H4M18.37 7.16v.01M13 19.94v.01M16.84 18.37v.01M19.37 15.1v.01M19.94 11v.01"/></svg></button>'},rotateCW:{tpl:'<button data-panzoom-action="rotateCW" class="f-button" title="{{ROTATE_CW}}"><svg><path d="M9 4.55a8 8 0 0 1 6 14.9M15 15v5h5M5.63 7.16v.01M4.06 11v.01M4.63 15.1v.01M7.16 18.37v.01M11 19.94v.01"/></svg></button>'},flipX:{tpl:'<button data-panzoom-action="flipX" class="f-button" title="{{FLIP_X}}"><svg><path d="M12 3v18M16 7v10h5L16 7M8 7v10H3L8 7"/></svg></button>'},flipY:{tpl:'<button data-panzoom-action="flipY" class="f-button" title="{{FLIP_Y}}"><svg><path d="M3 12h18M7 16h10L7 21v-5M7 8h10L7 3v5"/></svg></button>'},reset:{tpl:'<button data-panzoom-action="reset" class="f-button" title="{{RESET}}"><svg><path d="M20 11A8.1 8.1 0 0 0 4.5 9M4 5v4h4M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"/></svg></button>'}};/*! License details at fancyapps.com/license */var Ye;(function(t){t.Left="left",t.middle="middle",t.right="right"})(Ye||(Ye={}));const Ze=Object.assign({counter:{tpl:'<div class="f-carousel__counter"><span data-carousel-page></span>/<span data-carousel-pages></span></div>'},download:{tpl:'<button data-carousel-download class="f-button" title="{{DOWNLOAD}}"><svg><path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2M7 11l5 5 5-5M12 4v12"/></svg></button>'},autoplay:{tpl:'<button data-autoplay-action="toggle" class="f-button" title="{{TOGGLE_AUTOPLAY}}"><svg><g><path d="M5 3.5 19 12 5 20.5Z"/></g><g><path d="M8 4v15M17 4v15"/></g></svg></button>'},thumbs:{tpl:'<button data-thumbs-action="toggle" class="f-button" title="{{TOGGLE_THUMBS}}"><svg><rect width="18" height="14" x="3" y="3" rx="2"/><path d="M4 21h1M9 21h1M14 21h1M19 21h1"/></svg></button>'}},dn),Ge={absolute:!1,display:{left:[],middle:["zoomIn","zoomOut","toggle1to1","rotateCCW","rotateCW","flipX","flipY","reset"],right:[]},enabled:"auto",items:{}},fn=()=>{let t,e;function i(){const s=t==null?void 0:t.getOptions().Toolbar;return kt(s)?Object.assign(Object.assign({},Ge),s):Ge}function n(){var s,r,l;if(!(t!=null&&t.getOptions().Toolbar)||!t||e)return;let g=i().enabled;if(!g)return;let M=i().absolute;const S=t.getSlides().length>1;let w=!1,m=!1;for(const O of t.getSlides())O.panzoomRef&&(w=!0),(O.downloadSrc||O.type==="image"&&O.src)&&(m=!0);let d=((s=t.getPlugins().Thumbs)===null||s===void 0?void 0:s.isEnabled())||!1,a=S&&t.getPlugins().Autoplay||!1,o=t.getPlugins().Fullscreen&&(document.fullscreenEnabled||document.webkitFullscreenEnabled);if(g==="auto"&&(g=w),!g)return;e=document.createElement("div"),e.classList.add("f-carousel__toolbar");const L=i().display,v=Ht({},Ze,i().items);for(const O of["left","middle","right"]){const h=L[O]||[],_=document.createElement("div");_.classList.add("f-carousel__toolbar__column"),_.classList.add(`is-${O}`);for(const T of h){let H;if(Ct(T)){if(T==="counter"&&!S||T==="autoplay"&&!a||dn[T]&&!w||T==="fullscreen"&&!o||T==="thumbs"&&!d||T==="download"&&!m)continue;H=v[T]}if(typeof T=="object"&&(H=T),H&&H.tpl){let D=t.localize(H.tpl);D=D.split("<svg>").join('<svg tabindex="-1" width="24" height="24" viewBox="0 0 24 24">');const q=Kt(D);q&&(typeof H.click=="function"&&t&&q.addEventListener("click",J=>{J.preventDefault(),J.stopPropagation(),typeof H.click=="function"&&t&&H.click(t,J)}),_.append(q))}}e.append(_)}e.childElementCount&&(M===!0&&e.classList.add("is-absolute"),(r=t.getContainer())===null||r===void 0||r.classList.add("has-toolbar"),(l=t.getViewport())===null||l===void 0||l.insertAdjacentElement("beforebegin",e))}return{init:function(s){t=s,t.on("initSlides",n)},destroy:function(){var s;t==null||t.off("initSlides",n),(s=t==null?void 0:t.getContainer())===null||s===void 0||s.classList.remove("has-toolbar"),e==null||e.remove(),e=void 0},add:function(s,r){Ze[s]=r},isEnabled:function(){return!!e}}};/*! License details at fancyapps.com/license */const Xe={autoStart:!0,pauseOnHover:!0,showProgressbar:!0,timeout:2e3},En=()=>{let t,e,i=!1,n=!1,s=!1,r=null;function l(D){const q=t==null?void 0:t.getOptions().Autoplay;let J=(kt(q)?Object.assign(Object.assign({},Xe),q):Xe)[D];return J&&typeof J=="function"&&t?J(t):J}function g(){var D;const q=((D=t==null?void 0:t.getPage())===null||D===void 0?void 0:D.slides)||[];for(const J of q)if(J.state===0)return!0;return!1}function M(){clearTimeout(e),e=void 0}function S(){if(e||s||g()||!(t!=null&&t.isSettled()))return;(function(){var q,J,K,wt;if(!t||(d(),!l("showProgressbar")))return;let ct=l("progressbarParentEl");if(!ct&&(!((q=t.getPlugins().Toolbar)===null||q===void 0)&&q.isEnabled())&&(ct=t.getContainer()),!ct&&((J=t.getPlugins().Toolbar)===null||J===void 0?void 0:J.isEnabled())!==!0){const W=((K=t.getPages()[0])===null||K===void 0?void 0:K.slides)||[],ut=((wt=t.getPage())===null||wt===void 0?void 0:wt.slides)||[];W.length===1&&ut.length===1&&(ct=ut[0].el)}if(ct||(ct=t.getViewport()),!ct)return;r=document.createElement("div"),r.classList.add("f-progressbar"),ct.prepend(r);const k=l("timeout")||1e3;r.style.animationDuration=`${k}ms`})();const D=l("timeout");e=setTimeout(()=>{t&&i&&!n&&(t.isInfinite()||t.getPageIndex()!==t.getPages().length-1?t.next():t.goTo(0))},D)}function w(){var D,q;if(!t||t.getPages().length<2||t.getOptions().Autoplay===!1||i)return;i=!0,t.emit("autoplay:start",l("timeout")),(D=t.getContainer())===null||D===void 0||D.classList.add("has-autoplay"),(q=t.getTween())===null||q===void 0||q.on("start",h);const J=t==null?void 0:t.getContainer();J&&l("pauseOnHover")&&matchMedia("(hover: hover)").matches&&(J.addEventListener("mouseenter",_,!1),J.addEventListener("mouseleave",T,!1)),t.on("change",v),t.on("settle",O),t.on("contentReady",o),t.on("panzoom:animationStart",m),t.isSettled()&&S()}function m(){var D,q;if(M(),d(),i&&t){t.emit("autoplay:end"),(D=t.getContainer())===null||D===void 0||D.classList.remove("has-autoplay"),(q=t.getTween())===null||q===void 0||q.off("start",h);const J=t==null?void 0:t.getContainer();J&&(J.removeEventListener("mouseenter",_,!1),J.removeEventListener("mouseleave",T,!1))}t&&(t.off("change",v),t.off("settle",O),t.off("contentReady",o),t.off("panzoom:animationStart",m)),i=!1,n=!1}function d(){r&&(r.remove(),r=null)}function a(){t&&t.getPages().length>1&&l("autoStart")&&w()}function o(D){t&&t.getPageIndex(D.index)===t.getPageIndex()&&(!i||s||g()||S())}function L(D,q){const J=q.target;J&&!q.defaultPrevented&&J.dataset.autoplayAction==="toggle"&&H.toggle()}function v(){!t||!(t!=null&&t.isInfinite())&&t.getPageIndex()===t.getPages().length-1?m():(d(),M())}function O(){!i||s||n||S()}function h(){M(),d()}function _(){s=!0,i&&(d(),M())}function T(){s=!1,i&&!n&&(t!=null&&t.isSettled())&&S()}const H={init:function(D){t=D,t.on("ready",a),t.on("click",L)},destroy:function(){m(),t==null||t.off("ready",a),t==null||t.off("click",L),t=void 0},isEnabled:()=>i,pause:function(){n=!0,M()},resume:function(){n=!1,i&&!s&&S()},start(){w()},stop(){m()},toggle(){i?m():w()}};return H};/*! License details at fancyapps.com/license */const Me={Carousel:{Lazyload:{showLoading:!1}},minCount:2,showOnStart:!0,thumbTpl:'<button aria-label="Slide to #{{page}}"><img draggable="false" alt="{{alt}}" data-lazy-src="{{src}}" /></button>',type:"modern"};let Le;const xn=()=>{let t,e,i,n=0,s=0,r=!0;function l(O){const h=t==null?void 0:t.getOptions().Thumbs;let _=(kt(h)?Object.assign(Object.assign({},Me),h):Me)[O];return _&&typeof _=="function"?_():_}function g(){if(!t||(t==null?void 0:t.getOptions().Thumbs)===!1)return!1;let O=0;for(const h of t.getSlides())h.thumbSrc&&O++;return O>=l("minCount")}function M(){return l("type")==="modern"}function S(O=!1){const h=t==null?void 0:t.getContainer();if(t&&h&&!i&&g()){if(!i){const _=h.nextElementSibling;_!=null&&_.classList.contains("f-thumbs")&&(i=_)}if(!i){i=document.createElement("div"),i.classList.add("f-thumbs");const _=l("parentEl");_?_.insertAdjacentElement("beforeend",i):h.insertAdjacentElement("afterend",i)}i.classList.add(`is-${l("type")}`),i.classList.add("is-syncing"),O&&(i.style.maxHeight="0px")}}function w(){var O,h;if(!Le||!t||!i||e)return;const _=[];for(const T of t.getSlides()){let H=T.thumb?T.thumb instanceof HTMLImageElement?T.thumb.src:T.thumb:T.thumbSrc||void 0,D=l("thumbTpl");D=Xt(D,"{{alt}}",`Thumbnail #${T.index}`),D=Xt(D,"{{src}}",H+""),D=Xt(D,"{{index}}",`${T.index}`),D=Xt(D,"{{page}}",`${T.index||1}`),_.push({html:D})}_.length&&(e=Le(i,Ht({},{Sync:{target:t},Lazyload:{preload:1},slides:_,classes:{container:"f-thumbs",viewport:"f-thumbs__viewport",slide:"f-thumbs__slide"},initialSlide:t.getOptions().initialPage,center:!0,fill:!M(),infinite:!1,dragFree:!0,rtl:t.getOptions().rtl||!1,slidesPerPage:T=>{let H=0;return M()&&(function(){if(!M()||!i)return;const D=q=>i&&parseFloat(getComputedStyle(i).getPropertyValue("--f-thumb-"+q))||0;n=D("width"),s=D("clip-width")}(),H=4*(n-s)),T&&T.getTotalSlideDim()<=T.getViewportDim()-H?1/0:1}},Me.Carousel||{},l("Carousel")||{}),{Sync:cn,Lazyload:un}).init(),(O=e.getGestures())===null||O===void 0||O.on("start",()=>{r=!1}),e.on("click",(T,H)=>{const D=H.target;if(D){const q=D.matches("button")?D:D.firstElementChild;q&&q.matches("button")&&q.focus({})}}),(h=t.getContainer())===null||h===void 0||h.classList.add("has-thumbs"),v())}function m(){var O;g()&&((O=t==null?void 0:t.getGestures())===null||O===void 0||O.on("start",d),l("showOnStart")&&(S(),w()))}function d(){var O,h;r=!0,!((O=document.activeElement)===null||O===void 0)&&O.closest(".f-thumbs")&&((h=document.activeElement)===null||h===void 0||h.blur())}function a(){var O,h;i==null||i.classList.toggle("is-syncing",(t==null?void 0:t.hasNavigated())===!1||((O=t==null?void 0:t.getTween())===null||O===void 0?void 0:O.isRunning())),v(),!((h=t==null?void 0:t.getGestures())===null||h===void 0)&&h.isPointerDown()&&function(){if(!M()||!t||!e||!r)return;const _=e.getTween(),T=e.getPages(),H=t.getPageIndex()||0,D=t.getPageProgress()||0;if(!(t&&T&&T[H]&&_))return;const q=_.isRunning()?_.getCurrentValues().pos:e.getPosition();if(q===void 0)return;let J=T[H].pos+D*(n-s);J=gt(T[0].pos,J,T[T.length-1].pos),_.from({pos:q}).to({pos:J}).start()}()}function o(){r=!0}function L(O,h){const _=h.target;_&&!h.defaultPrevented&&_.dataset.thumbsAction==="toggle"&&function(){if(i||(S(!0),w()),!i)return;const T=i.style.maxHeight;i.style.maxHeight=T?"":"0px"}()}function v(){if(!M()||!t||!e)return;const O=(e==null?void 0:e.getSlides())||[];let h=-.5*n;for(const _ of O){const T=_.el;if(!T)continue;let H=t.getPageProgress(_.index)||0;H=Math.max(-1,Math.min(1,H)),H>-1&&H<1&&(h+=.5*n*(1-Math.abs(H))),H=Math.round(1e4*H)/1e4,h=Math.round(1e4*h)/1e4,T.style.setProperty("--progress",`${Math.abs(H)}`),T.style.setProperty("--shift",`${t!=null&&t.isRTL()?-1*h:h}px`),H>-1&&H<1&&(h+=.5*n*(1-Math.abs(H)))}}return{init:function(O,h){Le=h,t=O,t.on("ready",m),t.on("render",a),t.on("change",o),t.on("click",L)},destroy:function(){var O,h;t==null||t.off("ready",m),t==null||t.off("render",a),t==null||t.off("change",o),t==null||t.off("click",L),(O=t==null?void 0:t.getGestures())===null||O===void 0||O.off("start",d),(h=t==null?void 0:t.getContainer())===null||h===void 0||h.classList.remove("has-thumbs"),t=void 0,e==null||e.destroy(),e=void 0,i==null||i.remove(),i=void 0},getContainer:function(){return i},isEnabled:function(){return g()}}};/*! License details at fancyapps.com/license */const Ke={iframeAttr:{allow:"autoplay; fullscreen",scrolling:"auto",credentialless:""}},Mn=()=>{let t;function e(s,r){let l=r.src;if(!Ct(l))return;let g=r.type;if(!g){if(g||(l.charAt(0)==="#"?g="inline":l.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.((a)?png|avif|gif|jp(g|eg)|pjp(eg)?|jfif|svg|webp|bmp|ico|tif(f)?)((\?|#).*)?$)/i)?g="image":l.match(/\.(pdf)((\?|#).*)?$/i)?g="pdf":l.match(/\.(html|php)((\?|#).*)?$/i)&&(g="iframe")),!g){const M=l.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:(?:(?:maps\/(?:place\/(?:.*)\/)?\@(.*),(\d+.?\d+?)z))|(?:\?ll=))(.*)?/i);M&&(l=`https://maps.google.${M[1]}/?ll=${(M[2]?M[2]+"&z="+Math.floor(parseFloat(M[3]))+(M[4]?M[4].replace(/^\//,"&"):""):M[4]+"").replace(/\?/,"&")}&output=${M[4]&&M[4].indexOf("layer=c")>0?"svembed":"embed"}`,g="gmap")}if(!g){const M=l.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:maps\/search\/)(.*)/i);M&&(l=`https://maps.google.${M[1]}/maps?q=${M[2].replace("query=","q=").replace("api=1","")}&output=embed`,g="gmap")}r.src=l,r.type=g}}function i(s,r){r.type!=="iframe"&&r.type!=="pdf"&&r.type!=="gmap"||function(l){if(!t||!l.el||!l.src)return;const g=document.createElement("iframe");g.classList.add("f-iframe");for(const[S,w]of Object.entries(function(){const m=t==null?void 0:t.getOptions().Html;return kt(m)?Object.assign(Object.assign({},Ke),m):Ke}().iframeAttr||{}))g.setAttribute(S,w);g.onerror=()=>{t&&t.getState()===1&&t.showError(l,"{{IFRAME_ERROR}}")},g.src=l.src;const M=document.createElement("div");if(M.classList.add("f-html"),M.append(g),l.width){let S=`${l.width}`;S.match(/^\d+$/)&&(S+="px"),M.style.maxWidth=`${S}`}if(l.height){let S=`${l.height}`;S.match(/^\d+$/)&&(S+="px"),M.style.maxHeight=`${S}`}if(l.aspectRatio){const S=l.el.getBoundingClientRect();M.style.aspectRatio=`${l.aspectRatio}`,M.style[S.width>S.height?"width":"height"]="auto",M.style[S.width>S.height?"maxWidth":"maxHeight"]="none"}l.contentEl=g,l.htmlEl=M,l.el.classList.add("has-html"),l.el.classList.add("has-iframe"),l.el.classList.add(`has-${l.type}`),l.el.prepend(M),t.emit("contentReady",l)}(r)}function n(s,r){var l,g;r.type!=="iframe"&&r.type!=="pdf"&&r.type!=="gmap"||(t==null||t.hideError(r),(l=r.contentEl)===null||l===void 0||l.remove(),r.contentEl=void 0,(g=r.htmlEl)===null||g===void 0||g.remove(),r.htmlEl=void 0)}return{init:function(s){t=s,t.on("addSlide",e),t.on("attachSlideEl",i),t.on("detachSlideEl",n)},destroy:function(){t==null||t.off("addSlide",e),t==null||t.off("attachSlideEl",i),t==null||t.off("detachSlideEl",n),t=void 0}}};/*! License details at fancyapps.com/license */const Je=(t,e={})=>{const i=new URL(t),n=new URLSearchParams(i.search),s=new URLSearchParams;for(const[g,M]of[...n,...Object.entries(e)]){let S=M+"";if(g==="t"){let w=S.match(/((\d*)m)?(\d*)s?/);w&&s.set("start",60*parseInt(w[2]||"0")+parseInt(w[3]||"0")+"")}else s.set(g,S)}let r=s+"",l=t.match(/#t=((.*)?\d+s)/);return l&&(r+=`#t=${l[1]}`),r},Qe={autoplay:!1,html5videoTpl:`<video class="f-html5video" playsinline controls controlsList="nodownload" poster="{{poster}}">
    <source src="{{src}}" type="{{format}}" />Sorry, your browser doesn't support embedded videos.</video>`,iframeAttr:{allow:"autoplay; fullscreen",scrolling:"auto",credentialless:""},vimeo:{byline:1,color:"00adef",controls:1,dnt:1,muted:0},youtube:{controls:1,enablejsapi:1,nocookie:1,rel:0,fs:1}},Ln=()=>{let t,e=!1;function i(){const d=t==null?void 0:t.getOptions().Video;return kt(d)?Object.assign(Object.assign({},Qe),d):Qe}function n(){var d;return(d=t==null?void 0:t.getPage())===null||d===void 0?void 0:d.slides[0]}const s=d=>{var a;try{let o=JSON.parse(d.data);if(d.origin==="https://player.vimeo.com"){if(o.event==="ready")for(let L of Array.from(((a=t==null?void 0:t.getContainer())===null||a===void 0?void 0:a.getElementsByClassName("f-iframe"))||[]))L instanceof HTMLIFrameElement&&L.contentWindow===d.source&&(L.dataset.ready="true")}else if(d.origin.match(/^https:\/\/(www.)?youtube(-nocookie)?.com$/)&&o.event==="onReady"){const L=document.getElementById(o.id);L&&(L.dataset.ready="true")}}catch{}};function r(d,a){const o=a.src;if(!Ct(o))return;let L=a.type;if(!L||L==="html5video"){const v=o.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i);v&&(L="html5video",a.html5videoFormat=a.html5videoFormat||"video/"+(v[1]==="ogv"?"ogg":v[1]))}if(!L||L==="youtube"){const v=o.match(/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(?:watch\?(?:.*&)?v=|v\/|u\/|shorts\/|embed\/?)?(videoseries\?list=(?:.*)|[\w-]{11}|\?listType=(?:.*)&list=(?:.*))(?:.*)/i);if(v){const O=Object.assign(Object.assign({},i().youtube),a.youtube||{}),h=`www.youtube${O.nocookie?"-nocookie":""}.com`,_=Je(o,O),T=encodeURIComponent(v[2]);a.videoId=T,a.src=`https://${h}/embed/${T}?${_}`,a.thumb=a.thumb||`https://i.ytimg.com/vi/${T}/mqdefault.jpg`,L="youtube"}}if(!L||L==="vimeo"){const v=o.match(/^.+vimeo.com\/(?:\/)?([\d]+)((\/|\?h=)([a-z0-9]+))?(.*)?/);if(v){const O=Object.assign(Object.assign({},i().vimeo),a.vimeo||{}),h=Je(o,O),_=encodeURIComponent(v[1]),T=v[4]||"";a.videoId=_,a.src=`https://player.vimeo.com/video/${_}?${T?`h=${T}${h?"&":""}`:""}${h}`,L="vimeo"}}a.type=L}function l(d,a){a.type==="html5video"&&function(o){if(!t||!o.el||!o.src)return;const{el:L,src:v}=o;if(!L||!v)return;const O=o.html5videoTpl||i().html5videoTpl,h=o.html5videoFormat||i().html5videoFormat;if(!O)return;const _=o.poster||(o.thumb&&Ct(o.thumb)?o.thumb:""),T=Kt(O.replace(/\{\{src\}\}/gi,v+"").replace(/\{\{format\}\}/gi,h||"").replace(/\{\{poster\}\}/gi,_+""));if(!T)return;const H=document.createElement("div");H.classList.add("f-html"),H.append(T),o.contentEl=T,o.htmlEl=H,L.classList.add(`has-${o.type}`),L.prepend(H),w(o),t.emit("contentReady",o)}(a),a.type!=="youtube"&&a.type!=="vimeo"||function(o){if(!t||!o.el||!o.src)return;const L=document.createElement("iframe");L.classList.add("f-iframe"),L.setAttribute("id",`f-iframe_${o.videoId}`);for(const[O,h]of Object.entries(i().iframeAttr||{}))L.setAttribute(O,h);L.onload=()=>{var O;t&&t.getState()===1&&o.type==="youtube"&&((O=L.contentWindow)===null||O===void 0||O.postMessage(JSON.stringify({event:"listening",id:L.getAttribute("id")}),"*"))},L.onerror=()=>{t&&t.getState()===1&&(t==null||t.showError(o,"{{IFRAME_ERROR}}"))},L.src=o.src;const v=document.createElement("div");v.classList.add("f-html"),v.append(L),o.contentEl=L,o.htmlEl=v,o.el.classList.add("has-html"),o.el.classList.add("has-iframe"),o.el.classList.add(`has-${o.type}`),o.el.prepend(v),w(o),t.emit("contentReady",o)}(a)}function g(d,a){var o,L;a.type!=="html5video"&&a.type!=="youtube"&&a.type!=="vimeo"||((o=a.contentEl)===null||o===void 0||o.remove(),a.contentEl=void 0,(L=a.htmlEl)===null||L===void 0||L.remove(),a.htmlEl=void 0),a.poller&&clearTimeout(a.poller)}function M(){e=!1}function S(){if(e)return;e=!0;const d=n();(d&&d.autoplay!==void 0?d.autoplay:i().autoplay)&&(function(){var a;const o=n(),L=o==null?void 0:o.el;if(L&&(o==null?void 0:o.type)==="html5video")try{const O=L.querySelector("video");if(O){const h=O.play();h!==void 0&&h.then(()=>{}).catch(_=>{O.muted=!0,O.play()})}}catch{}const v=o==null?void 0:o.htmlEl;v instanceof HTMLIFrameElement&&((a=v.contentWindow)===null||a===void 0||a.postMessage('{"event":"command","func":"stopVideo","args":""}',"*"))}(),function(){const a=n(),o=a==null?void 0:a.type;if(!(a!=null&&a.el)||o!=="youtube"&&o!=="vimeo")return;const L=()=>{if(a.contentEl&&a.contentEl instanceof HTMLIFrameElement&&a.contentEl.contentWindow){let v;if(a.contentEl.dataset.ready==="true")return v=a.type==="youtube"?{event:"command",func:"playVideo"}:{method:"play",value:"true"},v&&a.contentEl.contentWindow.postMessage(JSON.stringify(v),"*"),void(a.poller=void 0);a.type==="youtube"&&(v={event:"listening",id:a.contentEl.getAttribute("id")},a.contentEl.contentWindow.postMessage(JSON.stringify(v),"*"))}a.poller=setTimeout(L,250)};L()}())}function w(d){const a=d==null?void 0:d.el,o=d==null?void 0:d.htmlEl;if(!d||!o)return;o.style.aspectRatio="",o.style.width="",o.style.height="",o.style.maxWidth="",o.style.maxHeight="",o.offsetHeight;const L=o.getBoundingClientRect(),v=L.width||1,O=L.height||1;if(d.width){let D=`${d.width}`;D.match(/^\d+$/)&&(D+="px"),o.style.maxWidth=`${D}`}if(d.height){let D=`${d.height}`;D.match(/^\d+$/)&&(D+="px"),o.style.maxHeight=`${D}`}if(!a||!d.aspectRatio)return;const h=d.aspectRatio.split("/"),_=parseFloat(h[0].trim()),T=h[1]?parseFloat(h[1].trim()):0,H=(_&&T?_/T:_)<v/O;o.style.aspectRatio=`${d.aspectRatio}`,o.style.width=H?"auto":"",o.style.height=H?"":"auto"}function m(){w(n())}return{init:function(d){t=d,t.on("addSlide",r),t.on("attachSlideEl",l),t.on("detachSlideEl",g),t.on("ready",S),t.on("change",M),t.on("settle",S),t.on("refresh",m),window.addEventListener("message",s)},destroy:function(){t==null||t.off("addSlide",r),t==null||t.off("attachSlideEl",l),t==null||t.off("detachSlideEl",g),t==null||t.off("ready",S),t==null||t.off("change",M),t==null||t.off("settle",S),t==null||t.off("refresh",m),window.removeEventListener("message",s),t=void 0}}};/*! License details at fancyapps.com/license */const tn={autoStart:!1,btnTpl:'<button data-fullscreen-action="toggle" class="f-button" title="{{TOGGLE_FULLSCREEN}}"><svg><g><path d="M8 3H5a2 2 0 0 0-2 2v3M21 8V5a2 2 0 0 0-2-2h-3M3 16v3a2 2 0 0 0 2 2h3M16 21h3a2 2 0 0 0 2-2v-3"/></g><g><path d="M15 19v-2a2 2 0 0 1 2-2h2M15 5v2a2 2 0 0 0 2 2h2M5 15h2a2 2 0 0 1 2 2v2M5 9h2a2 2 0 0 0 2-2V5"/></g></svg></button>'},en="in-fullscreen-mode",On=()=>{let t;function e(m){const d=t==null?void 0:t.getOptions().Fullscreen;let a=(kt(d)?Object.assign(Object.assign({},tn),d):tn)[m];return a&&typeof a=="function"&&t?a(t):a}function i(){var m;(m=t==null?void 0:t.getPlugins().Toolbar)===null||m===void 0||m.add("fullscreen",{tpl:e("btnTpl")})}function n(){if(e("autoStart")){const m=l();m&&M(m)}}function s(m,d){const a=d.target;a&&!d.defaultPrevented&&a.dataset.fullscreenAction==="toggle"&&w()}function r(m){l()&&m.key==="Escape"&&!m.defaultPrevented&&w()}function l(){return e("el")||(t==null?void 0:t.getContainer())||void 0}function g(){const m=document;return m.fullscreenEnabled?!!m.fullscreenElement:!!m.webkitFullscreenEnabled&&!!m.webkitFullscreenElement}function M(m){const d=document;let a;return m||(m=d.documentElement),d.fullscreenEnabled?a=m.requestFullscreen():d.webkitFullscreenEnabled&&(a=m.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)),a&&a.then(()=>{m.classList.add(en)}),a}function S(){const m=document;let d;return m.fullscreenEnabled?d=m.fullscreenElement&&m.exitFullscreen():m.webkitFullscreenEnabled&&(d=m.webkitFullscreenElement&&m.webkitExitFullscreen()),d&&d.then(()=>{var a;(a=l())===null||a===void 0||a.classList.remove(en)}),d}function w(){const m=l();m&&(g()?S():M(m))}return{init:function(m){t=m,t.on("initPlugins",i),t.on("ready",n),t.on("click",s)},destroy:function(){t==null||t.off("initPlugins",i),t==null||t.off("ready",n),t==null||t.off("click",s),document.removeEventListener("keydown",r,!0)},exit:S,inFullscreen:g,request:M,toggle:w}};/*! License details at fancyapps.com/license */let Bt,ve=!1,nn=!1,ae=!1,$e=!1;const be=()=>{const t=new URL(document.URL).hash,e=t.slice(1).split("-"),i=e[e.length-1],n=i&&/^\+?\d+$/.test(i)&&parseInt(e.pop()||"1",10)||1;return{hash:t,slug:e.join("-"),index:n}},Re=()=>{if(!Bt||Bt.getInstance())return;const{slug:t,index:e}=be();if(!t)return;let i=document.querySelector(`[data-slug="${t}"]`);if(i&&i.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})),!Bt||Bt.getInstance())return;const n=document.querySelectorAll(`[data-fancybox="${t}"]`);n.length&&(i=n[e-1],i&&i.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})))},Sn=()=>{var t,e,i;if(!Bt||ae)return;const n=Bt==null?void 0:Bt.getInstance();if((n==null?void 0:n.getOptions().Hash)===!1)return;const{slug:s,index:r}=be(),l=((t=n==null?void 0:n.getSlide())===null||t===void 0?void 0:t.fancybox)||((e=n==null?void 0:n.getSlide())===null||e===void 0?void 0:e.slug)||void 0;n&&l&&(s===l?(i=n.getCarousel())===null||i===void 0||i.goTo(r-1):($e=!0,n.close(),$e=!1)),Re()},on=()=>{Bt&&setTimeout(()=>{ve=!0,Re(),ve=!1,window.addEventListener("hashchange",Sn,!1)},300)},Ae=()=>{let t,e="auto",i="";function n(){if(!(t!=null&&t.isTopMost())||(t==null?void 0:t.getOptions().Hash)===!1)return;const l=t==null?void 0:t.getCarousel();if(!l)return;const{hash:g,slug:M}=be(),S=t==null?void 0:t.getSlide();if(!S)return;let w=S.fancybox||"",m=parseInt(S.index+"",10)+1;if(!w)return;let d=`#${w}-${m}`;if(g!==d&&(i=g),history.scrollRestoration&&(e=history.scrollRestoration,history.scrollRestoration="manual"),l.on("change",s),!ve)if(w===M)try{window.history.replaceState({},document.title,window.location.pathname+window.location.search+d)}catch{}else try{window.history.pushState({},document.title,window.location.pathname+window.location.search+d),nn=!0}catch{}}function s(){if(!(t!=null&&t.isTopMost()))return;const{slug:l}=be(),g=t==null?void 0:t.getSlide();if(!g)return;let M=g.fancybox||"",S=`#${M}-${g.index+1}`;if(M===l){ae=!0;try{window.history.replaceState({},document.title,window.location.pathname+window.location.search+S)}catch{}ae=!1}}function r(){if(!(t!=null&&t.isTopMost())||(t==null?void 0:t.getOptions().Hash)===!1)return;const l=t==null?void 0:t.getSlide();if(l&&l.fancybox&&!$e){ae=!0;try{!nn||ve||function(){if(window.parent===window)return!1;try{var g=window.frameElement}catch{g=null}return g===null?location.protocol==="data:":g.hasAttribute("sandbox")}()?window.history.replaceState({},document.title,window.location.pathname+window.location.search+i):window.history.back()}catch{}ae=!1}}return{init:function(l){t=l,t.on("ready",n),t.on("close",r)},destroy:function(){t==null||t.off("ready",n),t==null||t.off("close",r);const l=t==null?void 0:t.getCarousel();l&&l.off("change",s),t=void 0,history.scrollRestoration&&e&&(history.scrollRestoration=e)}}};Ae.startFromUrl=Re,Ae.setup=function(t){Bt||(Bt=t,ln()&&(/complete|interactive|loaded/.test(document.readyState)?on():document.addEventListener("DOMContentLoaded",on)))};/*! License details at fancyapps.com/license */const Tn=Object.assign(Object.assign({},_e),{CLOSE:"Close",NEXT:"Next",PREV:"Previous",MODAL:"You can close this modal content with the ESC key",ELEMENT_NOT_FOUND:"HTML Element Not Found",IFRAME_ERROR:"Error Loading Page"});/*! License details at fancyapps.com/license */const gn='<button class="f-button" title="{{CLOSE}}" data-fancybox-close><svg><path d="M19.286 4.714 4.714 19.286M4.714 4.714l14.572 14.572" /></svg></button>';fn().add("close",{tpl:gn});const pn=t=>{t&&t.dispatchEvent(new CustomEvent("animationend",{bubbles:!1,cancelable:!0,currentTarget:t}))},sn=(t=null,e="",i)=>{if(!t||!t.parentElement||!e)return void(i&&i());pn(t);const n=s=>{s.target===t&&t.dataset.animationName&&(t.removeEventListener("animationend",n),delete t.dataset.animationName,i&&i(),t.classList.remove(e))};t.dataset.animationName=e,t.addEventListener("animationend",n),bt(t,e)};var At;(function(t){t[t.Init=0]="Init",t[t.Ready=1]="Ready",t[t.Closing=2]="Closing",t[t.Destroyed=3]="Destroyed"})(At||(At={}));const re={backdropClick:"close",Carousel:{},closeButton:"auto",closeExisting:!1,delegateEl:void 0,dragToClose:!0,fadeEffect:!0,groupAll:!1,groupAttr:"data-fancybox",hideClass:"f-fadeOut",hideScrollbar:!0,id:void 0,idle:!1,keyboard:{Escape:"close",Delete:"close",Backspace:"close",PageUp:"next",PageDown:"prev",ArrowUp:"prev",ArrowDown:"next",ArrowRight:"next",ArrowLeft:"prev"},l10n:Tn,mainClass:"",mainStyle:{},mainTpl:`<dialog class="fancybox__dialog">
    <div class="fancybox__container" tabindex="0" aria-label="{{MODAL}}">
      <div class="fancybox__backdrop"></div>
      <div class="fancybox__carousel"></div>
    </div>
  </dialog>`,on:{},parentEl:void 0,placeFocusBack:!0,showClass:"f-zoomInUp",startIndex:0,sync:void 0,theme:"dark",triggerEl:void 0,triggerEvent:void 0,zoomEffect:!0},Vt=new Map;let Pn=0;const $n=()=>{let t,e,i,n,s,r=At.Init,l=Object.assign({},re),g=-1,M={},S=[],w=!1,m=!0;function d(y,...F){let I=l[y];return I&&typeof I=="function"?I(Lt,...F):I}function a(y,F=[]){const I=d("l10n")||{};y=String(y).replace(/\{\{(\w+)\}\}/g,(C,c)=>I[c]||C);for(let C=0;C<F.length;C++)y=y.split(F[C][0]).join(F[C][1]);return y=y.replace(/\{\{(.*?)\}\}/g,(C,c)=>c)}const o=new Map;function L(y,...F){const I=o.get(y)||[];for(const[C,c]of Object.entries(l.on||{}))(C===y||C.split(" ").indexOf(y)>-1)&&I.push(c);for(const C of I)C&&typeof C=="function"&&C(Lt,...F);y!=="*"&&L("*",y,...F)}function v(y=[],F={}){r!==At.Init&&(Lt.destroy(),r=At.Init),l=Ht({},re,F),g=d("id")||"fancybox-"+ ++Pn;const I=Vt.get(g);if(I&&I.destroy(),Vt.set(g,Lt),L("init"),function(){for(const[C,c]of Object.entries(Object.assign(Object.assign({},Mt.Plugins),l.plugins||{})))if(C&&!M[C]&&c instanceof Function){const f=c();f.init(Lt),M[C]=f}L("initPlugins")}(),function(C=[]){L("initSlides",C),S=[...C]}(y),function(){const C=d("parentEl")||document.body;if(!(C&&C instanceof HTMLElement))return;const c=a(d("mainTpl")||"");if(t=Kt(c)||void 0,!(t&&t instanceof HTMLDialogElement)||(e=t.querySelector(".fancybox__container"),!(e&&e instanceof HTMLElement)))return;const f=d("mainClass");f&&bt(e,f);const x=d("mainStyle");if(x&&kt(x))for(const[P,U]of Object.entries(x))e.style.setProperty(P,U);const E=d("theme"),R=E==="auto"?window.matchMedia("(prefers-color-scheme:light)").matches:E==="light";e.setAttribute("theme",R?"light":"dark"),t.setAttribute("id",`${g}`),t.addEventListener("keydown",P=>{P.key==="Escape"&&P.preventDefault()}),C.append(t),Vt.size===1&&(d("hideScrollbar")&&Be(!0),document.documentElement.classList.add("with-fancybox")),t.showModal(),L("initLayout")}(),function(){if(i=(t==null?void 0:t.querySelector(".fancybox__carousel"))||void 0,!i)return;const C=Ht({Autoplay:{autoStart:!1,pauseOnHover:!1,progressbarParentEl:c=>{const f=c.getContainer();return(f==null?void 0:f.querySelector(".f-carousel__toolbar [data-autoplay-action]"))||f}},Fullscreen:{el:e},Toolbar:{absolute:!0,display:{left:["counter"],right:["toggleFull","autoplay","fullscreen","thumbs","close"]}},Video:{autoplay:!0},Zoomable:{Panzoom:{event:d("triggerEvent")}},classes:{container:"fancybox__carousel",viewport:"fancybox__viewport",slide:"fancybox__slide"},spinnerTpl:'<div class="f-spinner" data-fancybox-close></div>',dragFree:!1,slidesPerPage:1,plugins:{Sync:cn,Arrows:wn,Lazyload:un,Zoomable:yn,Html:Mn,Video:Ln,Autoplay:En,Fullscreen:On,Thumbs:xn,Toolbar:fn}},d("Carousel")||{},{slides:S,enabled:!0,initialPage:d("startIndex")||0,l10n:d("l10n")});n=he(i,C),L("initCarousel",n),n.on("*",(c,f,...x)=>{L(`Carousel.${f}`,c,...x)}),n==null||n.on("addSlide",T),n.on("attachSlideEl",H),n.on("detachSlideEl",D),n.on("contentReady",k),n.on("ready",K),n.on("change",J),n.on("settle",wt),n.init()}(),d("closeExisting"))for(const[C,c]of Vt.entries())C!==g&&c.close();d("fadeEffect")&&e&&(setTimeout(()=>{e==null||e.classList.remove("is-revealing")},500),bt(e,"is-revealing")),e==null||e.classList.add("is-ready"),r=At.Ready,L("ready")}function O(y){if(!Z())return;if(r!==At.Ready)return y.preventDefault(),void y.stopPropagation();if(y.defaultPrevented||!ce.isClickAllowed())return;const F=y.composedPath()[0];F.closest(".fancybox__carousel")&&F.classList.contains("fancybox__slide")&&h(y)}function h(y){if(y.composedPath()[0].closest("[data-fancybox-close]"))return void $t(y);L("backdropClick",y),!y.defaultPrevented&&d("backdropClick")&&$t(y)}function _(y){if(!Z()||r!==At.Ready||(lt(),y.defaultPrevented))return;const F=y.composedPath()[0],I=!!F.closest("[data-fancybox-close]"),C=F.classList.contains("fancybox__backdrop");(I||C)&&h(y)}function T(y,F){var I;(I=F.el)===null||I===void 0||I.addEventListener("click",O)}function H(y,F){q(F),function(I){if(!n||!I||!I.el||I.type!=="inline"&&I.type!=="clone")return;let C=null;if(Ct(I.src)){const c=I.src.split("#",2).pop();C=c?document.getElementById(c):null}if(C){if(bt(C,"f-html"),I.type==="clone"||C.closest(".fancybox__carousel")){C=C.cloneNode(!0);const c=C.dataset.animationName;c&&(C.classList.remove(c),delete C.dataset.animationName);let f=C.getAttribute("id");f=f?`${f}--clone`:`clone-${g}-${I.index}`,C.setAttribute("id",f)}else if(C.parentNode){const c=document.createElement("div");c.inert=!0,C.parentNode.insertBefore(c,C),I.placeholderEl=c}I.htmlEl=C,bt(I.el,"has-html"),I.el.prepend(C),C.classList.remove("hidden"),C.style.display==="none"&&(C.style.display=""),getComputedStyle(C).getPropertyValue("display")==="none"&&(C.style.display=C.dataset.display||"flex"),n==null||n.emit("contentReady",I)}else n==null||n.showError(I,"{{ELEMENT_NOT_FOUND}}")}(F)}function D(y,F){(function(I){I.closeButtonEl&&(I.closeButtonEl.remove(),I.closeButtonEl=void 0)})(F),function(I){if(I.type!=="inline")return;const C=I.htmlEl,c=I.placeholderEl;C&&(getComputedStyle(C).getPropertyValue("display")!=="none"&&(C.style.display="none"),C.offsetHeight),c&&(C&&c.parentNode&&c.parentNode.insertBefore(C,c),c.remove()),I.htmlEl=void 0,I.placeholderEl=void 0}(F)}function q(y){var F;const{el:I,htmlEl:C,closeButtonEl:c}=y;if(!I||!C||c)return;let f=d("closeButton");if(f==="auto"&&(f=((F=n==null?void 0:n.getPlugins().Toolbar)===null||F===void 0?void 0:F.isEnabled())!==!0),f){const x=Kt(a(gn));x&&(y.closeButtonEl=C.insertAdjacentElement("afterbegin",x),I.classList.add("has-close-btn"))}}function J(){m=!1,e&&n&&e.classList.remove("is-revealing");const y=d("sync");if(n&&y){const F=y.getPageIndex(n.getPageIndex())||0;y.goTo(F,{transition:!1})}}function K(){var y;if(r!==At.Ready)return;ct(rt()),function(){if(!d("dragToClose")||!n||!n.getViewport())return;const I=n.getGestures();if(!I)return;let C=0,c=0,f=Jt().on("step",x=>{C=x.y;const E=n==null?void 0:n.getViewport();if(e&&E){const R=Pe(Math.abs(C),0,.5*E.getBoundingClientRect().height,1,.5);e.style.setProperty("--f-drag-opacity",R+""),e.style.setProperty("--f-drag-offset",C+"px")}}).on("end",()=>{if(!C){e&&e.style.removeProperty("--f-opacity");const x=n==null?void 0:n.getViewport();x&&(x.style.transform="")}});I.on("start",function(){f.pause()}).on("panstart",x=>{var E;const R=x.srcEvent.target;R&&!le(R)&&((E=n==null?void 0:n.getViewport())===null||E===void 0||E.classList.add("is-dragging"))}).on("pan",function(x){const E=x.srcEvent.target;E&&le(E)||n!=null&&n.getViewport()&&x.axis==="y"&&(c+=x.deltaY,f.spring({clamp:!0,mass:1,tension:860,friction:17,restDelta:.01,restSpeed:.01}).from({y:C}).to({y:c}).start())}).on("end",function(x){f.pause(),x.axis==="y"&&Math.abs(x.velocityY)>5&&Math.abs(c)>0?$t(x.srcEvent,"f-throwOut"+(x.velocityY>0?"Down":"Up")):c!==0&&(c=0,f.spring({clamp:!0,mass:1,tension:140,friction:25,restDelta:.1,restSpeed:.1,maxSpeed:1/0}).from({y:C}).to({y:c}).start())})}(),document.body.addEventListener("click",_),document.body.addEventListener("keydown",ut,{passive:!1,capture:!0}),N();const F=d("sync");F&&((y=F.getTween())===null||y===void 0||y.start())}function wt(){n!=null&&n.canGoNext()?N():Et()}function ct(y){if(!(m&&n&&n.getState()===1&&y&&y.index===n.getOptions().initialPage&&y.el&&y.el.parentElement))return;const F=y.panzoomRef,I=F==null?void 0:F.getTween();if(F&&y.state!==1)return;m=!1;const C=d("zoomEffect")?it(y):void 0;if(F&&I&&C){const f=F.getScale("base")||1,{x,y:E}=F.getMousemovePos(f)||{x:0,y:0};return void I.spring({tension:225,friction:25,restDelta:.001,restSpeed:.001,maxSpeed:1/0}).from(C).to({x,y:E,scale:f}).start()}const c=(F==null?void 0:F.getWrapper())||y.htmlEl;c&&sn(c,d("showClass",y))}function k(y,F){q(F),ct(F)}function W(){lt()}function ut(y){if(!Z()||r!==At.Ready)return;const F=y.key,I=d("keyboard");if(!I||y.ctrlKey||y.altKey||y.shiftKey)return;const C=y.composedPath()[0];if(!ne(C)||F!=="Escape"&&(f=>{const x=["input","textarea","select","option","video","iframe","[contenteditable]","[data-selectable]","[data-draggable]"].join(",");return f.matches(x)||f.closest(x)})(C)||(L("keydown",y),y.defaultPrevented))return;const c=I[F];if(c)switch(c){case"close":$t(y);break;case"next":y.preventDefault(),n==null||n.next();break;case"prev":y.preventDefault(),n==null||n.prev()}}function Z(){var y;return((y=Mt.getInstance())===null||y===void 0?void 0:y.getId())===g}function rt(){var y;return(y=n==null?void 0:n.getPage())===null||y===void 0?void 0:y.slides[0]}function yt(){const y=rt();return y?y.triggerEl||d("triggerEl"):void 0}function it(y){var F,I;const C=(I=(F=y.panzoomRef)===null||F===void 0?void 0:F.getWrapper())===null||I===void 0?void 0:I.getBoundingClientRect();if(!C||!C.width||!C.height)return;const c=y.thumbEl;if(!c)return;const f=c.getBoundingClientRect();if(!(!f||!f.width||!f.height)&&function(x){const E=x.getBoundingClientRect(),R=x.closest("[style]"),P=R==null?void 0:R.parentElement;if(R&&R.style.transform&&P){const et=P.getBoundingClientRect();if(E.left<et.left||E.left>et.left+et.width-E.width||E.top<et.top||E.top>et.top+et.height-E.height)return!1}const U=Math.max(document.documentElement.clientHeight,window.innerHeight),G=Math.max(document.documentElement.clientWidth,window.innerWidth);return!(E.bottom<0||E.top-U>=0)&&!(E.right<0||E.left-G>=0)}(c)&&!(Math.abs(C.width/C.height-f.width/f.height)>.1))return{x:f.left+.5*f.width-(C.left+.5*C.width),y:f.top+.5*f.height-(C.top+.5*C.height),scale:f.width/C.width}}function B(){s&&clearTimeout(s),s=void 0,document.removeEventListener("mousemove",W)}function N(){if(w||s)return;const y=d("idle");y&&(s=setTimeout(Q,y))}function Q(){e&&(B(),bt(e,"is-idle"),document.addEventListener("mousemove",W),w=!0)}function lt(){w&&(Et(),N())}function Et(){B(),e==null||e.classList.remove("is-idle"),w=!1}function $t(y,F){var I,C,c,f,x,E;if(r===At.Closing||r===At.Destroyed)return;if(r=At.Closing,B(),y){if(y.defaultPrevented)return;y.cancelable&&y.preventDefault(),y.stopPropagation(),y.stopImmediatePropagation()}if(n){(I=n.getGestures())===null||I===void 0||I.destroy(),(C=n.getTween())===null||C===void 0||C.pause();const P=rt(),U=P==null?void 0:P.panzoomRef;P&&U&&Ht(U.getOptions(),{clickAction:!1,wheelAction:!1,bounds:!1,minScale:0,maxScale:1/0});for(const G of n.getSlides())(f=(c=G.panzoomRef)===null||c===void 0?void 0:c.getGestures())===null||f===void 0||f.destroy(),(E=(x=G.panzoomRef)===null||x===void 0?void 0:x.getTween())===null||E===void 0||E.pause()}const R=n==null?void 0:n.getPlugins().fullscreen;R&&R.inFullscreen()?Promise.resolve(R.exit()).then(()=>{setTimeout(()=>{zt(y,F)},150)}):zt(y,F)}function zt(y,F){var I,C,c,f,x;if(r!==At.Closing)return;if(L("close",y),d("placeFocusBack")){const ot=yt();!ot||(x=ot.getBoundingClientRect()).bottom>0&&x.right>0&&x.left<(window.innerWidth||document.documentElement.clientWidth)&&x.top<(window.innerHeight||document.documentElement.clientHeight)||ot.scrollIntoView({behavior:"instant",block:"center",inline:"center"})}d("fadeEffect")&&(e==null||e.classList.remove("is-ready"),e==null||e.classList.add("is-hiding")),e==null||e.classList.add("is-closing");const E=rt(),R=E==null?void 0:E.panzoomRef,P=(I=E==null?void 0:E.panzoomRef)===null||I===void 0?void 0:I.getTween(),U=F||d("hideClass");let G=!1,et=!1;if(n&&E&&R&&P){let ot;d("zoomEffect")&&(((c=(C=n.getTween())===null||C===void 0?void 0:C.getCurrentVelocities())===null||c===void 0?void 0:c.pos)||0)<700&&E.state===1&&(ot=it(E)),ot&&(G=!0,n.on("refresh",()=>{const at=it(E);at&&P.to(Object.assign(Object.assign({},Dt),at))}),P.easing(Jt.Easings.EaseOut).duration(350).from(Object.assign({},R.getTransform())).to(Object.assign(Object.assign({},Dt),ot)).start())}const tt=(E==null?void 0:E.htmlEl)||((f=E==null?void 0:E.panzoomRef)===null||f===void 0?void 0:f.getWrapper());tt&&pn(tt),!G&&U&&tt&&(et=!0,sn(tt,U,()=>{It()})),G||et?setTimeout(()=>{It()},350):It()}function It(){var y,F,I,C,c;if(r===At.Destroyed)return;r=At.Destroyed,document.body.removeEventListener("click",_),document.body.removeEventListener("keydown",ut,{passive:!1,capture:!0});for(const x of Object.values(M))x==null||x.destroy();M={};const f=yt();if(L("destroy"),(F=(y=d("sync"))===null||y===void 0?void 0:y.getPlugins().Autoplay)===null||F===void 0||F.resume(),(C=(I=d("sync"))===null||I===void 0?void 0:I.getPlugins().Autoscroll)===null||C===void 0||C.resume(),t instanceof HTMLDialogElement&&t.close(),(c=n==null?void 0:n.getContainer())===null||c===void 0||c.classList.remove("is-idle"),n==null||n.destroy(),t==null||t.remove(),t=void 0,e=void 0,n=void 0,Vt.delete(g),!Vt.size&&(Be(!1),document.documentElement.classList.remove("with-fancybox"),d("placeFocusBack")))try{f==null||f.focus({preventScroll:!0})}catch{}}const Lt={close:$t,destroy:It,getCarousel:function(){return n},getContainer:function(){return e},getId:function(){return g},getOptions:function(){return l},getPlugins:function(){return M},getSlide:function(){return rt()},getState:function(){return r},init:function(y=[],F={}){return v(y,F),Lt},isCurrentSlide:function(y){const F=rt();return!(!y||!F)&&F.index===y.index},isTopMost:function(){return Z()},off:function(y,F){return o.has(y)&&o.set(y,o.get(y).filter(I=>I!==F)),Lt},on:function(y,F){return o.set(y,[...o.get(y)||[],F]),Lt},toggleIdle(y){console.log(`[F] toggleIdle(); force: ${y}`),(w||y===!0)&&Q(),w&&y!==!1||Et()}};return Lt},Mt={Plugins:{Hash:Ae},version:"6.0.5",openers:new Map,bind:function(t,e,i){if(!ln())return;let n=document.body,s="[data-fancybox]",r={};if(Ct(t)?(n=document.body,s=t,typeof e=="object"&&(r=e||{})):t instanceof Element&&(n=t,Ct(e)&&(s=e),typeof i=="object"&&(r=i||{})),!(n&&n instanceof Element&&s))return!1;const l=Mt.openers.get(n)||new Map;if(l.set(s,r),Mt.openers.set(n,l),l.size===1){n.addEventListener("click",Mt.fromEvent);for(const g of Object.values(Mt.Plugins)){const M=g.setup;typeof M=="function"&&M(Mt)}}return!0},close:function(t=!0,...e){if(t)for(const i of Vt.values())i.close(...e);else{const i=Mt.getInstance();i&&i.close(...e)}},destroy:function(){let t;for(;t=Mt.getInstance();)t.destroy();for(const e of Mt.openers.keys())e.removeEventListener("click",Mt.fromEvent);Mt.openers.clear()},fromEvent:function(t){var e,i,n;if(t.defaultPrevented||t.button&&t.button!==0||t.ctrlKey||t.metaKey||t.shiftKey)return;let s=t.composedPath()[0];if(s.closest(".fancybox__container.is-hiding"))return t.preventDefault(),void t.stopPropagation();const r=s.closest("[data-fancybox-delegate]")||void 0;if(r){const v=r.dataset.fancyboxDelegate||"",O=document.querySelectorAll(`[data-fancybox="${v}"]`);s=O[parseInt(r.dataset.fancyboxIndex||"",10)||0]||O[0]}if(!(s&&s instanceof Element))return;let l,g,M;for(const v of Array.from(Mt.openers.keys()).reverse()){const O=Mt.openers.get(v);if(O&&v.contains(s))for(const h of Array.from(O.keys()).reverse()){let _=null;try{_=s.closest(h)}catch{}if(_){s=_,l=v,g=h,M=O.get(h);break}}}if(!(l&&g&&M))return;t.preventDefault();const S=Ht({},re,{triggerEvent:t,triggerEl:s,delegateEl:r},M),w=S.groupAll,m=S.groupAttr,d=m&&s?s.getAttribute(`${m}`):"";let a=[];const o=(e=s.closest(".f-carousel"))===null||e===void 0?void 0:e.carousel;if(o){const v=[];for(const O of o==null?void 0:o.getSlides()){const h=O.el;h&&(h.matches(g)?v.push(h):v.push(...[].slice.call(h.querySelectorAll(g))))}v.length&&(a=[...v],(i=o.getPlugins().Autoplay)===null||i===void 0||i.pause(),(n=o.getPlugins().Autoscroll)===null||n===void 0||n.pause(),S.sync=o)}else(!s||d||w)&&(a=[].slice.call(l.querySelectorAll(g)));if(s&&!w&&(a=d?a.filter(v=>v.getAttribute(`${m}`)===d):[s]),!a.length)return;const L=Mt.getInstance();if(L){const v=L.getOptions().triggerEl;if(v&&a.indexOf(v)>-1)return}return Object.assign({},S.Carousel||{}).rtl&&(a=a.reverse()),s&&(S.startIndex=a.indexOf(s)),Mt.fromNodes(a,S)},fromNodes:function(t,e){e=Ht({},re,e||{});const i=[],n=s=>s instanceof HTMLImageElement?s:s instanceof HTMLElement?s.querySelector("img:not([aria-hidden])"):void 0;for(const s of t){const r=s.dataset||{},l=e.delegateEl&&t.indexOf(s)===e.startIndex?e.delegateEl:void 0,g=n(l)||n(s)||void 0,M=r.src||s.getAttribute("href")||s.getAttribute("currentSrc")||s.getAttribute("src")||void 0,S=r.thumb||r.thumbSrc||(g==null?void 0:g.getAttribute("currentSrc"))||(g==null?void 0:g.getAttribute("src"))||(g==null?void 0:g.dataset.lazySrc)||void 0,w={src:M,alt:r.alt||(g==null?void 0:g.getAttribute("alt"))||void 0,thumbSrc:S,thumbEl:g,triggerEl:s,delegateEl:l};for(const m in r){let d=r[m]+"";d=d!=="false"&&(d==="true"||d),w[m]=d}i.push(w)}return Mt.show(i,e)},fromSelector:function(t,e,i){let n=document.body,s="",r={};if(Ct(t)?s=t:t instanceof Element&&(n=t,Ct(e)&&(s=e),typeof i=="object"&&(r=i||{})),!(n&&n instanceof Element&&s))return;const l=Mt.openers.get(n);return l?(r=Ht({},l.get(s)||{},r),r?Mt.fromNodes(Array.from(n.querySelectorAll(s)),r):void 0):void 0},getCarousel:function(){var t;return((t=Mt.getInstance())===null||t===void 0?void 0:t.getCarousel())||void 0},getDefaults:function(){return re},getInstance:function(t){if(t){const e=Vt.get(t);return e&&e.getState()!==At.Destroyed?e:void 0}return Array.from(Vt.values()).reverse().find(e=>{if(e.getState()!==At.Destroyed)return e})||void 0},getSlide:function(){var t;return((t=Mt.getInstance())===null||t===void 0?void 0:t.getSlide())||void 0},show:function(t=[],e={}){return $n().init(t,e)},unbind:function(t,e){let i=document.body,n="";if(Ct(t)?n=t:t instanceof Element&&(i=t,Ct(e)&&(n=e)),i){const s=Mt.openers.get(i);s&&n&&s.delete(n),s!=null&&s.size&&n||Mt.openers.delete(i),i.removeEventListener("click",Mt.fromEvent)}}},Qt=hn();function An(t){return btoa(JSON.stringify(t))}function Cn(){return{showAdvancedFilters:!1,isActionSheetOpen:!1,selectedPropertyId:null,propertyActions:[],propertyStatuses:[],isLoading:!0,filters:{user_id:"",city_id:"",category_id:"",type_id:"",min_price:"",max_price:"",floor_id:"",orientation_id:"",contract_type_id:"",amenities:[]},currentPage:1,ITEMS_PER_PAGE:5,allPropertiesData:[],allPropertiesPaginationData:null,previousStatus:"",isOwnerModalOpen:!1,isOwnerLoading:!1,selectedOwner:null,async openOwnerModal(t){if(t){this.isOwnerModalOpen=!0,this.isOwnerLoading=!0,this.selectedOwner=null;try{const e=qt("api.users.show",{user:t}),i=await Qt.get(e);this.selectedOwner=i.data.data}catch(e){console.error("Failed to fetch owner details:",e),this.isOwnerModalOpen=!1,Nt.fire("Error","Could not load owner details.","error")}finally{this.isOwnerLoading=!1}}},blacklistOwner(){if(!this.selectedOwner)return;const t=this.selectedOwner.name;Nt.fire({title:ft("confirm_blacklist_title"),html:ft("confirm_blacklist_text",{name:t}),icon:"warning",showCancelButton:!0,confirmButtonText:ft("confirm_blacklist_button"),cancelButtonText:ft("cancel_button"),confirmButtonColor:"#d33",reverseButtons:!0}).then(async e=>{if(e.isConfirmed){const i=qt("api.users.blacklist",{user:this.selectedOwner.id});try{await Qt.post(i),Nt.fire(ft("blacklist_success_title"),ft("blacklist_success_text",{name:t}),"success"),this.isOwnerModalOpen=!1}catch(n){console.error("Failed to blacklist owner:",n)}}})},openActionSheet(t){this.selectedPropertyId=t,this.allPropertiesData.find(i=>i.id===t)&&(this.propertyActions=[{label:ft("edit_tooltip"),icon:"fas fa-edit",classes:"hover:bg-gray-200",handler:()=>this.editProperty(this.selectedPropertyId)},{label:ft("delete_tooltip"),icon:"fas fa-trash",classes:"text-danger hover:bg-red-100",handler:()=>this.deletePropertyWithConfirmation(this.selectedPropertyId)}],this.isActionSheetOpen=!0)},toggleAdvancedFilterDrawer(t){const e=document.body;e.classList.toggle("filter-drawer-open",t),e.classList.toggle("drawer-scroll-lock",t)},async init(){this.isLoading=!0,this.loadFiltersFromUrl();try{const t=[];t.push(this.fetchPropertyStatuses()),t.push(this.fetchProperties(this.currentPage)),await Promise.all(t),this.renderTableAndCards(),this.setupPagination(),this.updatePaginationInfo(),this.setupTableEventListeners()}catch(t){console.error("Failed to initialize component:",t),document.querySelector("#propertiesDataTable tbody").innerHTML=`<tr><td colspan="11" class="text-center text-danger p-5">${ft("error_loading_properties")}</td></tr>`}finally{this.isLoading=!1}},async fetchPropertyStatuses(){try{const t=await Qt.get(qt("api.properties-statuses"));this.propertyStatuses=t.data.data}catch(t){console.error("Failed to fetch property statuses:",t)}},async fetchProperties(t=this.currentPage){this.isLoading=!0,document.querySelector("#propertiesDataTable tbody").innerHTML="",document.querySelector("#propertiesCardsContainer").innerHTML="",document.getElementById("paginationInfo").innerHTML="",document.getElementById("paginationControls").innerHTML="";try{const e=new URLSearchParams({page:t,perPage:this.ITEMS_PER_PAGE}),i=[];Object.entries(this.filters).forEach(([r,l])=>{if(l&&(!Array.isArray(l)||l.length>0)){if(r==="min_price"||r==="max_price")return;i.push({id:r,value:l,filterFns:"equals"})}}),(this.filters.min_price||this.filters.max_price)&&i.push({id:"price",value:[this.filters.min_price||"",this.filters.max_price||""],filterFns:"between"}),i.length>0&&e.append("filters",An(i));const n=qt("api.dashboard-properties")+"?"+e.toString(),s=await Qt.get(n);this.allPropertiesData=s.data.data,this.allPropertiesPaginationData=s.data.pagination,this.currentPage=t,this.updateUrlWithFilters(),this.renderTableAndCards(),this.setupPagination(),this.updatePaginationInfo()}catch(e){console.error("Failed to fetch properties:",e),document.querySelector("#propertiesDataTable tbody").innerHTML=`<tr><td colspan="11" class="text-center text-danger p-5">${ft("error_loading_properties")}</td></tr>`}finally{this.isLoading=!1}},updatePaginationInfo(){const t=document.getElementById("paginationInfo");if(!t||!this.allPropertiesPaginationData||this.allPropertiesPaginationData.total===0){t&&(t.innerHTML="");return}const{from:e,to:i,total:n}=this.allPropertiesPaginationData;e&&i&&n&&(t.innerHTML=ft("pagination_info",{from:e,to:i,total:n}))},renderTableAndCards(){const t=document.querySelector("#propertiesDataTable tbody"),e=document.querySelector("#propertiesCardsContainer");!t||!e||(t.innerHTML="",e.innerHTML="",this.allPropertiesData.forEach(i=>{const n=i.created_at||"N/A",s=i.image_url||"https://via.placeholder.com/150",r=i.owner,l=i.owner_is_me?this.propertyStatuses.filter(a=>a.id!="rejected"):this.propertyStatuses,g=i.owner_is_me,M=`<i class="fas fa-user-slash text-danger text-xs ms-2" title="${ft("user_is_blacklisted")}"></i>`,w=(a=>{switch(a){case"active":return{text:"Active",classes:"bg-success-light text-success"};case"rejected":return{text:"Rejected",classes:"bg-danger-light text-danger"};default:return{text:"Pending",classes:"bg-warning-light text-warning"}}})(i.status_id),m=t.insertRow();m.className="hover:bg-gray-50 transition-colors",m.innerHTML=`
                    <td class="p-3"><input type="checkbox" class="property-checkbox rounded border-gray-300 text-accent-primary focus:ring-accent-primary" data-id="${i.id}"></td>
                    <td class="p-3"><img src="${s}" alt="${i.title}" class="w-16 h-16 object-cover rounded-md"></td>
                    <td class="p-3 font-medium text-text-primary whitespace-nowrap">${i.title||"N/A"}</td>
                  ${window.AppConfig.isAdmin?`
                    <td class="p-3">
                        
                    ${g?ft("owner_is_me"):`<button @click.prevent="openOwnerModal(${r.id})" class="text-accent-primary hover:underline">
                                ${r.name}
                                ${r.is_blacklisted?M:""}
                            </button>`}
                    </td>`:""}
                    <td class="p-3">${i.city||"N/A"}</td>
                    <td class="p-3">${i.type||"N/A"}</td>
                    <td class="p-3">${i.category||"N/A"}</td>
                    <td class="p-3">
                        ${i.status_id!="rejected"?`<select class="status-select w-full p-1 border border-gray-300 rounded focus:ring-accent-primary focus:border-accent-primary"
                                      data-id="${i.id}"
                                      data-old-status="${i.status_id}">
                                 ${l.map(a=>`
                                     <option value="${a.id}" ${i.status_id===a.id?"selected":""}>
                                         ${a.name}
                                     </option>
                                 `).join("")}
                               </select>`:`<span class="px-2 py-1 text-xs font-medium rounded-full ${w.classes}">
                                   ${w.text}
                               </span>`}
                    </td>
                    <td class="p-3 text-center">${i.views_count||0}</td>
                    <td class="p-3 font-medium text-text-primary">${i.price_display?i.price_display.toLocaleString():"N/A"}</td>
                    <td class="p-3">${n}</td>
                    <td class="p-3">
                        <div class="flex items-center gap-3">
                            <button class="text-accent-primary hover:text-opacity-80 edit-action" title="${ft("edit_tooltip")}" data-id="${i.id}"><i class="fas fa-edit"></i></button>
                            <button class="text-danger hover:text-opacity-80 delete-action" title="${ft("delete_tooltip")}" data-id="${i.id}"><i class="fas fa-trash"></i></button>
                        </div>
                    </td>
                `;const d=document.createElement("div");d.className="bg-card-bg rounded-xl shadow-custom p-4 border border-border-color",d.innerHTML=`
            <div class="flex gap-4">
                <img src="${s}" alt="${i.title}" class="w-20 h-20 object-cover rounded-lg flex-shrink-0">
                <div class="flex-1 min-w-0">
                    <div class="flex justify-between items-start">
                        ${i.status_id!="rejected"?`<select class="status-select w-full max-w-[120px] p-1 text-xs border border-gray-300 rounded focus:ring-accent-primary focus:border-accent-primary"
                                      data-id="${i.id}"
                                      data-old-status="${i.status_id}">
                                 ${l.map(a=>`
                                     <option value="${a.id}" ${i.status_id===a.id?"selected":""}>
                                         ${a.name}
                                     </option>
                                 `).join("")}
                               </select>`:`<span class="text-xs font-semibold px-2 py-1 rounded-full ${w.classes}">
                                   ${w.text}
                               </span>`}
                        <button @click="openActionSheet(${i.id})" class="text-lg text-text-secondary hover:text-text-primary p-1 rounded-full -m-1">
                            <i class="fas fa-ellipsis-v"></i>
                        </button>
                    </div>
                    <h3 class="font-bold text-text-primary truncate mt-1">${i.title||"N/A"}</h3>
                    <p class="text-sm text-text-secondary truncate">${i.city||""}, ${i.category||""}</p>
                    <p class="text-lg font-bold text-accent-primary mt-1">${i.price_display?i.price_display.toLocaleString():"N/A"}</p>
                </div>
            </div>
            <div class="flex items-center justify-between mt-3 pt-3 border-t border-border-color text-xs text-text-secondary">
                <span><i class="fas fa-calendar-alt me-1"></i> ${n}</span>
                 ${r?`<span>
                        ${r.is_blacklisted?M:'<i i class="fas fa-user me-1" ></i >'}
                        <button @click.prevent = "openOwnerModal(${r.id})" class= "hover:underline" >
                        ${g?ft("owner_is_me"):r.name}
                        </button >
                    </span > `:""}
                <span><i class="fas fa-eye me-1"></i> ${i.views_count||0}</span>
                </div>
                `,e.appendChild(d)}))},setupPagination(){const t=document.getElementById("paginationControls");!t||!this.allPropertiesPaginationData||!this.allPropertiesPaginationData.links||(t.innerHTML="",this.allPropertiesPaginationData.links.forEach(e=>{const i=document.createElement("button");i.innerHTML=e.label.replace("«",'<i class="fas fa-angle-left"></i>').replace("»",'<i class="fas fa-angle-right"></i>'),i.disabled=!e.url||e.active;let n="px-3 py-1.5 text-sm rounded-md border transition-colors disabled:opacity-50 disabled:cursor-not-allowed",s=e.active?"bg-accent-primary text-white border-accent-primary":"border-border-color hover:bg-page-bg";i.className=`${n} ${s}`,i.addEventListener("click",()=>{if(e.url){const r=new URL(e.url).searchParams.get("page");this.fetchProperties(parseInt(r))}}),t.appendChild(i)}))},unblacklistOwner(){if(!this.selectedOwner)return;const t=this.selectedOwner.name;Nt.fire({title:ft("confirm_reactivate_title"),html:ft("confirm_reactivate_text",{name:t}),icon:"question",showCancelButton:!0,confirmButtonText:ft("confirm_reactivate_button"),cancelButtonText:ft("cancel_button"),confirmButtonColor:"#28a745",reverseButtons:!0}).then(async e=>{if(e.isConfirmed){const i=qt("api.users.unblacklist",{user:this.selectedOwner.id});try{await Qt.delete(i),Nt.fire(ft("reactivate_success_title"),ft("reactivate_success_text",{name:t}),"success"),this.isOwnerModalOpen=!1,this.updateLocalOwnerStatus(this.selectedOwner.id,!1)}catch(n){console.error("Failed to reactivate owner:",n)}}})},updateLocalOwnerStatus(t,e){this.allPropertiesData.forEach(i=>{i.owner&&i.owner.id===t&&(i.owner.is_blacklisted=e)}),this.renderTableAndCards()},applyFilters(){this.currentPage=1,this.fetchProperties()},resetFilters(){Object.keys(this.filters).forEach(t=>this.filters[t]=Array.isArray(this.filters[t])?[]:""),this.applyFilters()},updateUrlWithFilters(){const t=new URLSearchParams(window.location.search);t.set("page",this.currentPage),Object.entries(this.filters).forEach(([e,i])=>{i&&(!Array.isArray(i)||i.length>0)?t.set(e,Array.isArray(i)?i.join(","):i):t.delete(e)}),t.get("page")=="1"&&t.delete("page"),history.replaceState(null,"",`${window.location.pathname}?${t.toString()}`)},loadFiltersFromUrl(){const t=new URLSearchParams(window.location.search);this.currentPage=parseInt(t.get("page"))||1,Object.keys(this.filters).forEach(e=>{t.has(e)&&(this.filters[e]=e==="amenities"?t.get(e).split(","):t.get(e))})},setupTableEventListeners(){document.addEventListener("click",t=>{const e=t.target.closest(".edit-action");e&&this.editProperty(e.dataset.id);const i=t.target.closest(".delete-action");i&&this.deletePropertyWithConfirmation(i.dataset.id)}),document.addEventListener("change",t=>{const e=t.target.closest(".status-select");if(e){const i=e.dataset.id,n=e.value,s=e.getAttribute("data-old-status");this.confirmAndUpdateStatus(i,s,n,e)}})},editProperty(t){window.location.href=qt("dashboard.properties.edit",{property:t})},confirmAndUpdateStatus(t,e,i,n){const s=n.querySelector(`option[value="${e}"]`).textContent,r=n.querySelector(`option[value="${i}"]`).textContent;Nt.fire({title:ft("confirm_status_change_title"),html:ft("confirm_status_change_text",{oldStatus:s,newStatus:r}),icon:"warning",showCancelButton:!0,confirmButtonText:ft("confirm_button"),cancelButtonText:ft("cancel_button"),confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",reverseButtons:!0}).then(l=>{l.isConfirmed?this.updatePropertyStatus(t,i,e,n):n.value=e})},async updatePropertyStatus(t,e,i,n){const s=qt("api.dashboard-properties.update",{property:t});n.disabled=!0;try{await Qt.put(s,{status_id:e,_source:"status_update_from_list"});const r=this.allPropertiesData.findIndex(l=>l.id==t);r!==-1&&(this.allPropertiesData[r].status_id=e,n.setAttribute("data-old-status",e)),Nt.fire({title:ft("update_success_title"),text:ft("update_success_text"),icon:"success",timer:2e3,showConfirmButton:!1})}catch(r){n.value=i,console.error("Update status failed:",r)}finally{n.disabled=!1}},async deletePropertyWithConfirmation(t){Nt.fire({title:ft("confirm_delete_title"),text:ft("confirm_delete_text"),icon:"warning",showCancelButton:!0,confirmButtonText:ft("confirm_delete_button"),cancelButtonText:ft("cancel_button"),confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",reverseButtons:!0}).then(async e=>{e.isConfirmed&&await this.deleteProperty(t)})},async deleteProperty(t){const e=qt("api.dashboard-properties.destroy",{property:t});try{await Qt.delete(e),Nt.fire(ft("delete_success_title"),ft("delete_success_text"),"success"),this.allPropertiesData.length===1&&this.currentPage>1&&this.currentPage--,this.fetchProperties(this.currentPage)}catch(i){console.error("Delete failed:",i)}}}}mn.data("propertyFilters",Cn);document.addEventListener("DOMContentLoaded",()=>{Mt.bind("[data-fancybox]",{})});
