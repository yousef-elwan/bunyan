import{S as Bt}from"./main-9Qm2jZ7z.js";import{m as hn}from"./module.esm-Cm4okMZt.js";import{g as Vt,t as ft}from"./helpers-DwlY0Bzp.js";import{h as mn}from"./api-C5g70RCE.js";import"./index-xsH4HHeE.js";/*! License details at fancyapps.com/license */const At=t=>typeof t=="string";/*! License details at fancyapps.com/license */const ne=t=>t&&t!==null&&t instanceof Element&&"nodeType"in t;/*! License details at fancyapps.com/license */const vn=function(t){if(!(t&&t instanceof Element&&t.offsetParent))return!1;const e=t.scrollHeight>t.clientHeight,i=window.getComputedStyle(t).overflowY,n=i.indexOf("hidden")!==-1,s=i.indexOf("visible")!==-1;return e&&!n&&!s},le=function(t,e=void 0){return!t||t===document.body||e&&t===e?null:vn(t)?t:le(t.parentElement,e)};/*! License details at fancyapps.com/license */const Jt=function(t){var e=new DOMParser().parseFromString(t,"text/html").body;if(e.childElementCount>1){for(var i=document.createElement("div");e.firstChild;)i.appendChild(e.firstChild);return i}let n=e.firstChild;return!n||n instanceof HTMLElement?n:((i=document.createElement("div")).appendChild(n),i)};/*! License details at fancyapps.com/license */const gt=function(t=0,e=0,i=0){return Math.max(Math.min(e,i),t)};/*! License details at fancyapps.com/license */const kt=t=>typeof t=="object"&&t!==null&&t.constructor===Object&&Object.prototype.toString.call(t)==="[object Object]";/*! License details at fancyapps.com/license */function je(t){return kt(t)||Array.isArray(t)}function Oe(t,e){const i=Object.keys(t),n=Object.keys(e);return i.length===n.length&&i.every(s=>{const u=t[s],d=e[s];return typeof u=="function"?`${u}`==`${d}`:je(u)&&je(d)?Oe(u,d):u===d})}/*! License details at fancyapps.com/license */const an=function(t){for(const e of he)e.getState()===jt.Running&&e.tick(be?t-be:0);be=t,ie=window.requestAnimationFrame(an)};var jt,Gt,oe;(function(t){t[t.Initializing=0]="Initializing",t[t.Running=1]="Running",t[t.Paused=2]="Paused",t[t.Completed=3]="Completed",t[t.Destroyed=4]="Destroyed"})(jt||(jt={})),function(t){t[t.Spring=0]="Spring",t[t.Ease=1]="Ease"}(Gt||(Gt={})),function(t){t[t.Loop=0]="Loop",t[t.Reverse=1]="Reverse"}(oe||(oe={}));const he=new Set;let ie=null,be=0;function Kt(){let t=jt.Initializing,e=Gt.Ease,i=0,n=0,s=Kt.Easings.Linear,u=500,d=0,g=0,M=0,S=0,w=1/0,h=.01,c=.01,a=!1,o={},L=null,v={},O={},m={},C=0,T=0,H=oe.Loop,D=Kt.Easings.Linear;const V=new Map;function K(W,...ut){for(const Z of V.get(W)||[])Z(...ut)}function J(W){return n=0,W?L=setTimeout(()=>{wt()},W):wt(),k}function wt(){t=jt.Running,K("start",v,O)}function ct(){if(t=jt.Completed,m={},K("end",v),t===jt.Completed)if(i<C){if(i++,H===oe.Reverse){const W=Object.assign({},o);o=Object.assign({},O),O=W}J(T)}else i=0;return k}const k={getState:function(){return t},easing:function(W){return s=W,e=Gt.Ease,m={},k},duration:function(W){return u=W,k},spring:function(W={}){e=Gt.Spring;const ut={velocity:0,mass:1,tension:170,friction:26,restDelta:.1,restSpeed:.1,maxSpeed:1/0,clamp:!0},{velocity:Z,mass:rt,tension:bt,friction:it,restDelta:N,restSpeed:B,maxSpeed:Q,clamp:lt}=Object.assign(Object.assign({},ut),W);return d=Z,g=rt,M=bt,S=it,c=N,h=B,w=Q,a=lt,m={},k},isRunning:function(){return t===jt.Running},isSpring:function(){return e===Gt.Spring},from:function(W){return v=Object.assign({},W),k},to:function(W){return O=W,k},repeat:function(W,ut=0,Z=oe.Loop,rt){return C=W,T=ut,H=Z,D=rt||s,k},on:function(W,ut){var Z,rt;return Z=W,rt=ut,V.set(Z,[...V.get(Z)||[],rt]),k},off:function(W,ut){var Z,rt;return Z=W,rt=ut,V.has(Z)&&V.set(Z,V.get(Z).filter(bt=>bt!==rt)),k},start:function(W){return t=jt.Initializing,o=Object.assign({},v),Oe(o,O)||(he.add(this),ie||(ie=window.requestAnimationFrame(an)),J(W)),k},pause:function(){return L&&(clearTimeout(L),L=null),t===jt.Running&&(t=jt.Paused,K("pause",v)),k},end:ct,tick:function(W){W>50&&(W=50),n+=W;let ut=0,Z=!1;if(t!==jt.Running)return k;if(e===Gt.Ease){ut=gt(0,n/u,1),Z=ut===1;const bt=H===oe.Reverse?D:s;for(const it in v)v[it]=o[it]+(O[it]-o[it])*bt(ut)}if(e===Gt.Spring){const bt=.001*W;let it=0;for(const N in v){const B=O[N];let Q=v[N];if(typeof B!="number"||isNaN(B)||typeof Q!="number"||isNaN(Q))continue;if(Math.abs(B-Q)<=c){v[N]=B,m[N]=0;continue}m[N]||(typeof d=="object"&&typeof d[N]=="number"?m[N]=d[N]:m[N]=typeof d=="number"?d:0);let lt=m[N];lt=gt(-1*Math.abs(w),lt,Math.abs(w));const Et=lt*g*S;lt+=((Q>B?-1:1)*(Math.abs(B-Q)*M)-Et)/g*bt,Q+=lt*bt;const $t=v[N]>B?Q<B:Q>B;let zt=Math.abs(lt)<h&&Math.abs(B-Q)<=c;a&&$t&&(zt=!0),zt?(Q=B,lt=0):it++,v[N]=Q,m[N]=lt}Z=!it}const rt=Object.assign({},O);return K("step",v,o,O,ut),Z&&t===jt.Running&&Oe(O,rt)&&(t=jt.Completed,ct()),k},getStartValues:function(){return o},getCurrentValues:function(){return v},getCurrentVelocities:function(){return m},getEndValues:function(){return O},destroy:function(){t=jt.Destroyed,L&&(clearTimeout(L),L=null),o=v=O={},he.delete(this)}};return k}Kt.destroy=()=>{for(const t of he)t.destroy();ie&&(cancelAnimationFrame(ie),ie=null)},Kt.Easings={Linear:function(t){return t},EaseIn:function(t){return t===0?0:Math.pow(2,10*t-10)},EaseOut:function(t){return t===1?1:1-Math.pow(2,-10*t)},EaseInOut:function(t){return t===0?0:t===1?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2}};/*! License details at fancyapps.com/license */function we(t){const e=[],i=typeof TouchEvent<"u"&&t instanceof TouchEvent?t.touches:t instanceof MouseEvent&&t.type!=="mouseup"?[t]:[];for(const n of i)e.push({x:n.clientX,y:n.clientY,ts:Date.now()});return e}function rn(t){const e=[],i=typeof TouchEvent<"u"&&t instanceof TouchEvent?t.changedTouches:t instanceof MouseEvent?[t]:[];for(const n of i)e.push({x:n.clientX,y:n.clientY,ts:Date.now()});return e}function Yt(t){const e=t[0],i=t[1]||e;return{x:(e.x+i.x)/2,y:(e.y+i.y)/2,ts:i.ts}}function ue(t){const e=t[0],i=t[1]||t[0];return e&&i?-1*Math.sqrt((i.x-e.x)*(i.x-e.x)+(i.y-e.y)*(i.y-e.y)):0}const ke=t=>{t.cancelable&&t.preventDefault()},Wt={passive:!1},yn={panThreshold:5,swipeThreshold:3,ignore:["textarea","input","select","[contenteditable]","[data-selectable]","[data-draggable]"]};let Ee=!1,se=!0;const ce=(t,e)=>{let i,n,s,u=Object.assign(Object.assign({},yn),e),d=[],g=[],M=[],S=!1,w=!1,h=!1,c=0,a=0,o=0,L=0,v=0,O=0,m=0,C=0,T=0,H=[],D=0,V=0;const K=new Map;function J(N){const B=ue(g),Q=ue(M),lt=B&&Q?B/Q:0,Et=Math.abs(m)>Math.abs(C)?m:C,$t={srcEvent:i,isPanRecognized:S,isSwipeRecognized:w,firstTouch:d,previousTouch:M,currentTouch:g,deltaX:o,deltaY:L,offsetX:v,offsetY:O,velocityX:m,velocityY:C,velocity:Et,angle:T,axis:s,scale:lt,center:n};for(const zt of K.get(N)||[])zt($t)}function wt(N){const B=Date.now();H=H.filter(Q=>!Q.ts||Q.ts>B-100),N&&H.push(N)}function ct(){if(m=0,C=0,H.length>3){const N=H[0],B=H[H.length-1];if(N&&B){const Q=B.x-N.x,lt=B.y-N.y,Et=N.ts&&B.ts?B.ts-N.ts:0;Et>0&&(m=Math.abs(Q)>3?Q/(Et/30):0,C=Math.abs(lt)>3?lt/(Et/30):0)}}}function k(N){if(N instanceof MouseEvent){if(Ee)return}else Ee=!0;const B=N.composedPath()[0],Q=u.ignore.join(",");if(B.matches(Q)||B.closest(Q)||typeof MouseEvent<"u"&&N instanceof MouseEvent&&(!N.buttons||N.button!==0))return;N instanceof MouseEvent&&ke(N);const lt=Date.now(),Et=lt-(c||lt);h=Et>0&&Et<=250,c=lt,clearTimeout(D),i=N,N instanceof MouseEvent&&(window.addEventListener("mousemove",W),window.addEventListener("mouseup",ut)),window.addEventListener("blur",Z),g=we(N),d=[...g],M=[],a=g.length,n=Yt(g),a===1&&(S=!1,w=!1),a&&wt(Yt(g)),J("start")}function W(N){var B;if(!d.length||N.defaultPrevented)return;i=N,M=[...g],g=we(N),a=g.length,n=Yt(g);const Q=n,lt=Yt(M);if(o=Q.x-lt.x,L=Q.y-lt.y,wt(Q),ct(),J("move"),g.length>1){const Et=ue(g),$t=ue(M);Math.abs(Et-$t)>=.1&&J("pinch")}if(!S&&d.length){const Et=Yt(d);v=Q.x-Et.x,O=Q.y-Et.y,S=Math.abs(v)>u.panThreshold||Math.abs(O)>u.panThreshold,S&&(se=!1,clearTimeout(V),V=0,T=Math.abs(180*Math.atan2(O,v)/Math.PI),s=T>45&&T<135?"y":"x",d=[...g],M=[...g],(B=window.getSelection())===null||B===void 0||B.removeAllRanges(),J("panstart"))}S&&(o||L)&&J("pan")}function ut(N){if(i=N,!d.length)return;const B=we(N),Q=rn(N);if(a=B.length,n=Yt(Q),Q.length&&wt(Yt(Q)),ct(),M=[...g],g=[...B],d=[...B],B.length>0)J("end"),S=!1,w=!1,H=[];else{const lt=u.swipeThreshold;(Math.abs(m)>lt||Math.abs(C)>lt)&&(w=!0),S&&J("panend"),w&&J("swipe"),S||w||(J("tap"),h?J("doubleTap"):D=setTimeout(function(){J("singleTap")},250)),J("end"),rt()}}function Z(){clearTimeout(D),rt(),S&&J("panend"),J("end")}function rt(){S=!1,w=!1,h=!1,a=0,H=[],g=[],M=[],d=[],o=0,L=0,v=0,O=0,m=0,C=0,T=0,s=void 0,window.removeEventListener("mousemove",W),window.removeEventListener("mouseup",ut),window.removeEventListener("blur",Z),se||V||(V=setTimeout(()=>{se=!0,V=0},100))}function bt(N){const B=N.target;Ee=!1,B&&!N.defaultPrevented&&(se||(ke(N),N.stopPropagation()))}const it={init:function(){if(t)return t.addEventListener("click",bt,Wt),t.addEventListener("mousedown",k,Wt),t.addEventListener("touchstart",k,Wt),t.addEventListener("touchmove",W,Wt),t.addEventListener("touchend",ut),t.addEventListener("touchcancel",ut),it},on:function(N,B){return function(Q,lt){K.set(Q,[...K.get(Q)||[],lt])}(N,B),it},off:function(N,B){return K.has(N)&&K.set(N,K.get(N).filter(Q=>Q!==B)),it},isPointerDown:()=>a>0,destroy:function(){clearTimeout(D),clearTimeout(V),V=0,t&&(t.removeEventListener("click",bt,Wt),t.removeEventListener("mousedown",k,Wt),t.removeEventListener("touchstart",k,Wt),t.removeEventListener("touchmove",W,Wt),t.removeEventListener("touchend",ut),t.removeEventListener("touchcancel",ut)),t=null,rt()}};return it};ce.isClickAllowed=()=>se;/*! License details at fancyapps.com/license */const Ae={IMAGE_ERROR:"This image couldn't be loaded. <br /> Please try again later.",MOVE_UP:"Move up",MOVE_DOWN:"Move down",MOVE_LEFT:"Move left",MOVE_RIGHT:"Move right",ZOOM_IN:"Zoom in",ZOOM_OUT:"Zoom out",TOGGLE_FULL:"Toggle zoom level",TOGGLE_1TO1:"Toggle zoom level",ITERATE_ZOOM:"Toggle zoom level",ROTATE_CCW:"Rotate counterclockwise",ROTATE_CW:"Rotate clockwise",FLIP_X:"Flip horizontally",FLIP_Y:"Flip vertically",RESET:"Reset"};/*! License details at fancyapps.com/license */const yt=(t,e="")=>{t&&t.classList&&e.split(" ").forEach(i=>{i&&t.classList.add(i)})};/*! License details at fancyapps.com/license */const de=t=>{t.cancelable&&t.preventDefault()},Rt=(t,e=1e4)=>(t=parseFloat(t+"")||0,Math.round((t+Number.EPSILON)*e)/e);var q,ze;(function(t){t.Reset="reset",t.Zoom="zoom",t.ZoomIn="zoomIn",t.ZoomOut="zoomOut",t.ZoomTo="zoomTo",t.ToggleCover="toggleCover",t.ToggleFull="toggleFull",t.ToggleMax="toggleMax",t.IterateZoom="iterateZoom",t.Pan="pan",t.Swipe="swipe",t.Move="move",t.MoveLeft="moveLeft",t.MoveRight="moveRight",t.MoveUp="moveUp",t.MoveDown="moveDown",t.RotateCCW="rotateCCW",t.RotateCW="rotateCW",t.FlipX="flipX",t.FlipY="flipY"})(q||(q={})),function(t){t.Cover="cover",t.Full="full",t.Max="max"}(ze||(ze={}));const Dt={x:0,y:0,scale:1,angle:0,flipX:1,flipY:1},Se={bounds:!0,classes:{container:"f-panzoom",wrapper:"f-panzoom__wrapper",content:"f-panzoom__content",viewport:"f-panzoom__viewport"},clickAction:q.ToggleFull,dblClickAction:!1,gestures:{},height:"auto",l10n:Ae,maxScale:4,minScale:1,mouseMoveFactor:1,panMode:"drag",singleClickAction:!1,spinnerTpl:'<div class="f-spinner"></div>',wheelAction:q.Zoom,width:"auto"};let fe,Ie=0,Fe=0,ge=0;const Te=(t,e={},i={})=>{let n,s,u,d,g,M,S,w=0,h=Object.assign(Object.assign({},Se),e),c={},a=Object.assign({},Dt),o=Object.assign({},Dt);const L=[];function v(r){let f=h[r];return f&&typeof f=="function"?f(A):f}const O=new Map;function m(r,...f){const x=O.get(r)||[];h.on&&x.push(h.on[r]);for(const E of x)E&&E instanceof Function&&E(A,...f);r!=="*"&&m("*",r,...f)}function C(r){if(w!==3)return;const f=r.target;if(le(f))return;const x=Date.now(),E=[-r.deltaX||0,-r.deltaY||0,-r.detail||0].reduce(function(et,tt){return Math.abs(tt)>Math.abs(et)?tt:et}),R=gt(-1,E,1);m("wheel",r,R);const P=v("wheelAction");if(!P||r.defaultPrevented)return;const U=o.scale;let G=U*(R>0?1.5:.5);if(P===q.Zoom){const et=Math.abs(r.deltaY)<100&&Math.abs(r.deltaX)<100;if(x-Fe<(et?200:45))return void de(r);Fe=x;const tt=k(),ot=rt();if(Rt(G)<Rt(tt)&&Rt(U)<=Rt(tt)?(ge+=Math.abs(R),G=tt):Rt(G)>Rt(ot)&&Rt(U)>=Rt(ot)?(ge+=Math.abs(R),G=ot):(ge=0,G=gt(tt,G,ot)),ge>7)return}switch(de(r),P){case q.Pan:B(P,{srcEvent:r,deltaX:2*-r.deltaX,deltaY:2*-r.deltaY});break;case q.Zoom:B(q.ZoomTo,{srcEvent:r,scale:G,center:{x:r.clientX,y:r.clientY}});break;default:B(P,{srcEvent:r})}}function T(r){var f,x;const E=r.composedPath()[0];if(!ce.isClickAllowed()||!ne(E)||r.defaultPrevented||!(t!=null&&t.contains(E))||E.hasAttribute("disabled")||E.hasAttribute("aria-disabled"))return;const R=E.closest("[data-panzoom-action]"),P=(f=R==null?void 0:R.dataset)===null||f===void 0?void 0:f.panzoomAction,U=((x=R==null?void 0:R.dataset)===null||x===void 0?void 0:x.panzoomValue)||"";if(P){switch(P){case q.ZoomTo:case q.ZoomIn:case q.ZoomOut:B(P,{scale:parseFloat(U||"")||void 0});break;case q.MoveLeft:case q.MoveRight:B(P,{deltaX:parseFloat(U||"")||void 0});break;case q.MoveUp:case q.MoveDown:B(P,{deltaY:parseFloat(U||"")||void 0});break;default:B(P)}return}if(!(n!=null&&n.contains(E)))return;const G={srcEvent:r};if(B(v("clickAction"),G),v("dblClickAction")){const et=Date.now(),tt=et-(Ie||et);Ie=et,tt>0&&tt<=250?(fe&&(clearTimeout(fe),fe=void 0),B(v("dblClickAction"),G)):fe=setTimeout(()=>{B(v("singleClickAction"),G)},250)}}function H(r){if(S=r,!J()||w!==3||a.scale<=1||o.scale<=1||((n==null?void 0:n.dataset.animationName)||"").indexOf("zoom")>-1)return;const f=wt(o.scale);if(!f)return;const{x,y:E}=f;B(q.Pan,{deltaX:x-o.x,deltaY:E-o.y})}function D(){var r;if(t&&((r=t.querySelector(".f-spinner"))===null||r===void 0||r.remove(),t.classList.remove("is-loading")),!t||!n)return;if(s instanceof HTMLImageElement&&(!s.complete||!s.naturalWidth))return w=2,n==null||n.classList.add("has-error"),void m("error");m("loaded");const{width:f,height:x}=K();s&&(s.setAttribute("width",f+""),s.setAttribute("height",x+"")),n&&(n.classList.remove("has-error"),n.setAttribute("width",f+""),n.setAttribute("height",x+""),n.style.aspectRatio=`${f/x||""}`),g=Kt().on("start",(R,P)=>{o=Object.assign(Object.assign({},Dt),P),P.angle!==void 0&&(P.angle=90*Math.round(P.angle/90)),P.flipX!==void 0&&(P.flipX=P.flipX>0?1:-1),P.flipY!==void 0&&(P.flipY=P.flipY>0?1:-1),N(),m("animationStart")}).on("pause",R=>{o=Object.assign(Object.assign({},Dt),R)}).on("step",R=>{if(w!==3||!g)return;if(!t||!t.parentElement)return void g.end();if(a=Object.assign(Object.assign({},Dt),R),J()||!v("bounds")||(d==null?void 0:d.isPointerDown())||o.scale>a.scale||o.scale<W())return void Q();const P=bt(o.scale);let U=!1,G=!1,et=!1,tt=!1;a.x<P.x[0]&&(U=!0),a.x>P.x[1]&&(G=!0),a.y<P.y[0]&&(tt=!0),a.y>P.y[1]&&(et=!0);let ot=!1,at=!1,pt=!1,Ot=!1;o.x<P.x[0]&&(ot=!0),o.x>P.x[1]&&(at=!0),o.y<P.y[0]&&(Ot=!0),o.y>P.y[1]&&(pt=!0);let nt=!1;(G&&at||U&&ot)&&(o.x=gt(P.x[0],o.x,P.x[1]),nt=!0),(et&&pt||tt&&Ot)&&(o.y=gt(P.y[0],o.y,P.y[1]),nt=!0),nt&&g.spring({tension:94,friction:17,maxSpeed:555*o.scale,restDelta:.1,restSpeed:.1,velocity:g.getCurrentVelocities()}).from(a).to(o).start(),Q()}).on("end",()=>{it(),g!=null&&g.isRunning()||(N(),m("animationEnd"))}),function(){const R=v("gestures");R&&u&&s&&(d=ce(u,R).on("start",P=>{if(!g)return;const U=P.srcEvent;J()||((a.scale>1||P.currentTouch.length>1)&&(U==null||U.stopPropagation(),g.pause()),P.currentTouch.length===1&&m("touchStart"))}).on("move",P=>{J()||(o.scale!==1||P.currentTouch.length>1)&&(P.srcEvent.preventDefault(),P.srcEvent.stopPropagation())}).on("pan",P=>{if(J())return;const U=P.srcEvent;(o.scale!==1||P.currentTouch.length>1)&&(de(U),B(q.Pan,P))}).on("swipe",P=>{J()||o.scale>1&&B(q.Swipe,P)}).on("tap",P=>{m("click",P)}).on("singleTap",P=>{m("singleClick",P)}).on("doubleTap",P=>{m("dblClick",P)}).on("pinch",P=>{J()||(P.scale>W()?B(q.ZoomIn,P):P.scale<W()?B(q.ZoomOut,P):B(q.Pan,P))}).on("end",P=>{J()||(P.currentTouch.length?(P.srcEvent.stopPropagation(),de(P.srcEvent),g==null||g.end()):(N(),it(),m("touchEnd")))}).init())}(),u&&(u.addEventListener("wheel",C,{passive:!1}),L.push(()=>{u==null||u.removeEventListener("wheel",C,{passive:!1})})),t==null||t.addEventListener("click",T),document==null||document.addEventListener("mousemove",H),L.push(()=>{t==null||t.removeEventListener("click",T),document==null||document.removeEventListener("mousemove",H)});const E=Object.assign(Object.assign({},v("startPos")||{}),{scale:W()});if(a=Object.assign(Object.assign({},Dt),E),o=Object.assign(Object.assign({},Dt),E),J()){const R=wt(o.scale);if(R){const{x:P,y:U}=R;a.x=P,a.y=U,o.x=P,o.y=U}}w=3,Q(),N(),m("ready"),requestAnimationFrame(()=>{u&&(u.style.visibility="")})}function V(){const r={top:0,left:0,width:0,height:0};if(n){const f=n.getBoundingClientRect();o.angle%180==90?(r.top=f.top+.5*f.height-.5*f.width,r.left=f.left+.5*f.width-.5*f.height,r.width=f.height,r.height=f.width):(r.top=f.top,r.left=f.left,r.width=f.width,r.height=f.height)}return r}function K(){let r=v("width"),f=v("height");if(s&&r==="auto"){const x=s.getAttribute("width");r=x?parseFloat(x+""):s.dataset.width!==void 0?parseFloat(s.dataset.width+""):u instanceof HTMLImageElement?u.naturalWidth:s instanceof HTMLImageElement?s.naturalWidth:s.getBoundingClientRect().width}else r=At(r)?parseFloat(r):r;if(s&&f==="auto"){const x=s.getAttribute("height");f=x?parseFloat(x+""):s.dataset.height!==void 0?parseFloat(s.dataset.height+""):u instanceof HTMLImageElement?u.naturalHeight:s instanceof HTMLImageElement?s.naturalHeight:s.getBoundingClientRect().height}else f=At(f)?parseFloat(f):f;return{width:r,height:f}}function J(){return v("panMode")==="mousemove"&&matchMedia("(hover: hover)").matches}function wt(r){const f=S||v("event"),x=n==null?void 0:n.getBoundingClientRect();if(!f||!x||r<=1)return{x:0,y:0};const E=(f.clientX||0)-x.left,R=(f.clientY||0)-x.top,P=x.width,U=x.height,G=bt(r);if(r>1){const pt=v("mouseMoveFactor");pt>1&&(r*=pt)}let et=P*r,tt=U*r,ot=.5*(et-P)-E/P*100/100*(et-P),at=.5*(tt-U)-R/U*100/100*(tt-U);return ot=gt(G.x[0],ot,G.x[1]),at=gt(G.y[0],at,G.y[1]),{x:ot,y:at}}function ct(r="base"){if(!t)return 1;const f=t.getBoundingClientRect(),x=V(),{width:E,height:R}=K(),P=ot=>{if(typeof ot=="number")return ot;switch(ot){case"min":case"base":return 1;case"cover":return Math.max(f.height/x.height,f.width/x.width)||1;case"full":case"max":{const at=o.angle%180==90?R:E;return at&&x.width?at/x.width:1}}},U=v("minScale"),G=v("maxScale"),et=Math.min(P("full"),P(U)),tt=typeof G=="number"?P("full")*G:Math.min(P("full"),P(G));switch(r){case"min":return et;case"base":return gt(et,1,tt);case"cover":return P("cover");case"full":return Math.min(tt,P("full"));case"max":return tt}}function k(){return ct("min")}function W(){return ct("base")}function ut(){return ct("cover")}function Z(){return ct("full")}function rt(){return ct("max")}function bt(r){const f={x:[0,0],y:[0,0]},x=t==null?void 0:t.getBoundingClientRect();if(!x)return f;const E=V(),R=x.width,P=x.height;let U=E.width,G=E.height,et=r=r===void 0?o.scale:r,tt=r;if(J()&&r>1){const ot=v("mouseMoveFactor");ot>1&&(U*r>R+.01&&(et*=ot),G*r>P+.01&&(tt*=ot))}return U*=et,G*=tt,r>1&&(U>R&&(f.x[0]=.5*(R-U),f.x[1]=.5*(U-R)),f.x[0]-=.5*(E.left-x.left),f.x[1]-=.5*(E.left-x.left),f.x[0]-=.5*(E.left+E.width-x.right),f.x[1]-=.5*(E.left+E.width-x.right),G>P&&(f.y[0]=.5*(P-G),f.y[1]=.5*(G-P)),f.y[0]-=.5*(E.top-x.top),f.y[1]-=.5*(E.top-x.top),f.y[0]-=.5*(E.top+E.height-x.bottom),f.y[1]-=.5*(E.top+E.height-x.bottom)),f}function it(){if(!v("bounds")||w!==3||!(t!=null&&t.parentElement)||!g||!d)return;const r=k(),f=rt(),x=gt(r,o.scale,f);if(o.scale<r-.01||o.scale>f+.01)return void B(q.ZoomTo,{scale:x});if(g.isRunning()||d.isPointerDown())return;const E=bt(x);o.x<E.x[0]||o.x>E.x[1]||o.y<E.y[0]||o.y>E.y[1]?(o.x=gt(E.x[0],o.x,E.x[1]),o.y=gt(E.y[0],o.y,E.y[1]),g.spring({tension:170,friction:17,restDelta:.001,restSpeed:.001,maxSpeed:1/0,velocity:g.getCurrentVelocities()}),g.from(a).to(o).start()):Q()}function N(){if(!t||!t.parentElement||!n)return;const r=Lt(),f=b(),x=F(),E=I(),R=Et(),P=$t();n.classList.toggle("is-fullsize",E),n.classList.toggle("is-expanded",x),n.classList.toggle("is-dragging",f),n.classList.toggle("can-drag",r),n.classList.toggle("will-zoom-in",R),n.classList.toggle("will-zoom-out",P);const U=zt(),G=It(),et=w!==3;for(const tt of(t==null?void 0:t.querySelectorAll("[data-panzoom-action]"))||[]){const ot=tt.dataset.panzoomAction;let at=!1;if(et)at=!0;else switch(ot){case q.ZoomIn:U||(at=!0);break;case q.ZoomOut:G||(at=!0);break;case q.ToggleFull:U||G||(at=!0);const pt=tt.querySelector("g");pt&&(pt.style.display=E?"none":"");break;case q.ToggleCover:case q.ToggleMax:U||G||(at=!0)}at?(tt.setAttribute("aria-disabled",""),tt.setAttribute("tabindex","-1")):(tt.removeAttribute("aria-disabled"),tt.removeAttribute("tabindex"))}}function B(r,f){var x;if(!t||!s||!g||r===q.Swipe&&Math.abs(g.getCurrentVelocities().scale)>.01)return;let E=Object.assign({},o),R=bt(J()?o.scale:a.scale);const P=g.getCurrentVelocities(),U=V(),G=(((x=(f=f||{}).currentTouch)===null||x===void 0?void 0:x.length)||0)>1,et=f.velocityX||0,tt=f.velocityY||0;let ot=f.center;!ot&&f.srcEvent&&(ot=Yt(rn(f.srcEvent)));let at=f.deltaX||0,pt=f.deltaY||0;switch(r){case q.MoveRight:at=f.deltaX||100;break;case q.MoveLeft:at=f.deltaX||-100;break;case q.MoveUp:pt=f.deltaY||-100;break;case q.MoveDown:pt=f.deltaY||100}let Ot=[];switch(r){case q.Reset:o=Object.assign({},Dt),o.scale=W();break;case q.Pan:case q.Move:case q.MoveLeft:case q.MoveRight:case q.MoveUp:case q.MoveDown:if(d!=null&&d.isPointerDown()){let p=1,y=1;o.x<=R.x[0]&&et<=0&&(p=Math.max(.01,1-Math.abs(1/U.width*Math.abs(o.x-R.x[0]))),p*=.2),o.x>=R.x[1]&&et>=0&&(p=Math.max(.01,1-Math.abs(1/U.width*Math.abs(o.x-R.x[1]))),p*=.2),o.y<=R.y[0]&&tt<=0&&(y=Math.max(.01,1-Math.abs(1/U.height*Math.abs(o.y-R.y[0]))),y*=.2),o.y>=R.y[1]&&tt>=0&&(y=Math.max(.01,1-Math.abs(1/U.height*Math.abs(o.y-R.y[1]))),y*=.2),o.x+=at*p,o.y+=pt*y}else o.x=gt(R.x[0],o.x+at,R.x[1]),o.y=gt(R.y[0],o.y+pt,R.y[1]);break;case q.Swipe:const nt=(p=0)=>Math.sign(p)*Math.pow(Math.abs(p),1.5);o.x+=gt(-1e3,nt(et),1e3),o.y+=gt(-1e3,nt(tt),1e3),tt&&!et&&(o.x=gt(R.x[0],o.x,R.x[1])),!tt&&et&&(o.y=gt(R.y[0],o.y,R.y[1])),P.x=et,P.y=tt;break;case q.ZoomTo:o.scale=f.scale||1;break;case q.ZoomIn:o.scale=o.scale*(f.scale||2),G||(o.scale=Math.min(o.scale,rt()));break;case q.ZoomOut:o.scale=o.scale*(f.scale||.5),G||(o.scale=Math.max(o.scale,k()));break;case q.ToggleCover:Ot=[W(),ut()];break;case q.ToggleFull:Ot=[W(),Z()];break;case q.ToggleMax:Ot=[W(),rt()];break;case q.IterateZoom:Ot=[W(),Z(),rt()];break;case q.Zoom:const l=Z();o.scale>=l-.05?o.scale=W():o.scale=Math.min(l,o.scale*(f.scale||2));break;case q.RotateCW:o.angle+=90;break;case q.RotateCCW:o.angle-=90;break;case q.FlipX:o.flipX*=-1;break;case q.FlipY:o.flipY*=-1}if(a.angle!==void 0&&Math.abs(a.angle)>=360&&(o.angle-=360*Math.floor(a.angle/360),a.angle-=360*Math.floor(a.angle/360)),Ot.length){const nt=Ot.findIndex(l=>l>o.scale+1e-4);o.scale=Ot[nt]||Ot[0]}if(G&&(o.scale=gt(k()*(G?.8:1),o.scale,rt()*(G?1.6:1))),J()){const nt=wt(o.scale);if(nt){const{x:l,y:p}=nt;o.x=l,o.y=p}}else if(o.scale!==E.scale){let nt=0,l=0;if(ot)nt=ot.x,l=ot.y;else{const j=t.getBoundingClientRect();nt=j.x+.5*j.width,l=j.y+.5*j.height}let p=nt-U.left,y=l-U.top;p-=.5*U.width,y-=.5*U.height;const $=(p-E.x)/E.scale,Y=(y-E.y)/E.scale;o.x=p-$*o.scale,o.y=y-Y*o.scale,!G&&v("bounds")&&(R=bt(o.scale),o.x=gt(R.x[0],o.x,R.x[1]),o.y=gt(R.y[0],o.y,R.y[1]))}if(r===q.Swipe){let nt=94,l=17,p=500*o.scale,y=P;g.spring({tension:nt,friction:l,maxSpeed:p,restDelta:.1,restSpeed:.1,velocity:y})}else r===q.Pan||G?g.spring({tension:750,friction:17,restDelta:.01,restSpeed:.01,maxSpeed:1}):g.spring({tension:170,friction:17,restDelta:.001,restSpeed:.001,maxSpeed:1/0,velocity:P});r===q.Reset&&f.velocity===0?a=Object.assign({},o):g.from(a).to(o).start(),m("action",r)}function Q(){if(!n||!s)return;if(s instanceof HTMLImageElement){const{width:G,height:et}=K();n.style.maxWidth=`min(${G}px, 100%)`,n.style.maxHeight=`min(${et}px, 100%)`}let{x:r,y:f,scale:x,angle:E,flipX:R,flipY:P}=a;const U=function(){const G=V(),et=G.width,tt=G.height,{width:ot,height:at}=K();if(!t)return{x:0,y:0,width:0,height:0,scale:0,flipX:0,flipY:0,angle:0,fitWidth:et,fitHeight:tt,fullWidth:ot,fullHeight:at};let{x:pt,y:Ot,scale:nt,angle:l,flipX:p,flipY:y}=a,$=1/Z(),Y=ot,j=at,_=a.scale*$,z=o.scale*$;const X=Math.max(et,tt),st=Math.min(et,tt);ot>at?(Y=X,j=st):(Y=st,j=X),_=ot>at?X*nt/ot||1:X*nt/at||1;let dt=Y?ot*z:0,mt=j?at*z:0;return pt=pt+.5*Y-.5*dt,Ot=Ot+.5*j-.5*mt,{x:pt,y:Ot,width:dt,height:mt,scale:Y&&j?ot*_/dt:0,flipX:p,flipY:y,angle:l,fitWidth:et,fitHeight:tt,fullWidth:ot,fullHeight:at}}();if(n&&U){const{x:G,y:et,width:tt,height:ot,scale:at,flipX:pt,flipY:Ot}=U;let nt=`translate(${Rt(G)}px, ${Rt(et)}px)`;nt+=pt!==1||Ot!==1?` scaleX(${Rt(at*pt)}) scaleY(${Rt(at*Ot)})`:` scale(${Rt(at)})`,E!==0&&(nt+=` rotate(${E}deg)`),u&&(u.style.width=`${Rt(tt)}px`,u.style.height=`${Rt(ot)}px`,u.style.transform=`${nt}`)}m("render")}function lt(){let r=o.scale;const f=v("clickAction");let x=W();if(f){let E=[];switch(f){case q.ZoomIn:x=2*r;break;case q.ZoomOut:x=.5*r;break;case q.ToggleCover:E=[W(),ut()];break;case q.ToggleFull:E=[W(),Z()];break;case q.ToggleMax:E=[W(),rt()];break;case q.IterateZoom:E=[W(),Z(),rt()];break;case q.Zoom:const R=Z();x=r>=R-.05?W():Math.min(R,2*r)}if(E.length){const R=E.findIndex(P=>P>r+1e-4);x=E[R]||W()}}return x=gt(k(),x,rt()),x}function Et(){return w===3&&lt()>o.scale}function $t(){return w===3&&lt()<o.scale}function zt(){return w===3&&o.scale<rt()}function It(){return w===3&&o.scale>k()}function Lt(){return w===3&&F()&&!!d&&!J()}function b(){return w===3&&(d==null?void 0:d.isPointerDown())&&!J()}function F(){return w===3&&o.scale>W()}function I(){return w===3&&o.scale>=Z()}const A={canDrag:Lt,canZoomIn:zt,canZoomOut:It,destroy:function(){m("destroy");for(const r of Object.values(c))r==null||r.destroy(A);for(const r of L)r();return n&&(n.style.aspectRatio="",n.style.maxWidth="",n.style.maxHeight=""),u&&(u.style.width="",u.style.height="",u.style.transform=""),n=void 0,s=void 0,u=void 0,a=Object.assign({},Dt),o=Object.assign({},Dt),g==null||g.destroy(),g=void 0,d==null||d.destroy(),d=void 0,w=4,A},emit:m,execute:B,getBoundaries:bt,getContainer:function(){return t},getFullDim:K,getGestures:function(){return d},getMousemovePos:wt,getOptions:function(){return h},getScale:ct,getState:function(){return w},getTransform:function(r){return r===!0?o:a},getTween:function(){return g},getViewport:function(){return u},getWrapper:function(){return n},init:function(){return w=0,m("init"),function(){for(const[r,f]of Object.entries(Object.assign(Object.assign({},i),h.plugins||{})))if(r&&!c[r]&&f instanceof Function){const x=f();x.init(A),c[r]=x}m("initPlugins")}(),function(){if(!t)return;const r=Object.assign(Object.assign({},Se.classes),v("classes"));if(yt(t,r.container),s=t.querySelector("."+r.content),!!s&&(s.setAttribute("draggable","false"),n=t.querySelector("."+r.wrapper),n||(n=document.createElement("div"),yt(n,r.wrapper),s.insertAdjacentElement("beforebegin",n),n.insertAdjacentElement("afterbegin",s)),s instanceof HTMLImageElement||s instanceof HTMLPictureElement)){if(u=t.querySelector("."+r.viewport),!u){u=document.createElement("div"),yt(u,r.viewport);const f=s.cloneNode(!0);f.classList.remove("is-lazyloading"),f.classList.remove("is-lazyloaded"),u.insertAdjacentElement("afterbegin",f),n.insertAdjacentElement("beforeend",u)}s instanceof HTMLPictureElement&&(s=s.querySelector("img")),u instanceof HTMLPictureElement&&(u=u.querySelector("img")),u.style.visibility="hidden",m("initLayout")}}(),function(){if(!(s&&s instanceof HTMLImageElement))return;const r=()=>{s&&s instanceof HTMLImageElement&&s.decode().then(()=>{requestAnimationFrame(()=>{D()})}).catch(()=>{D()})};if(s.src&&s.complete)return void r();w=1,function(){const f=t==null?void 0:t.querySelector(".f-spinner");if(!t||f)return;const x=v("spinnerTpl"),E=Jt(x);E&&(E.classList.add("f-spinner"),t.classList.add("is-loading"),n==null||n.insertAdjacentElement("afterbegin",E))}(),m("loading"),s.addEventListener("load",r,!1),s.addEventListener("error",r,!1),L.push(()=>{s==null||s.removeEventListener("load",r,!1),s==null||s.removeEventListener("error",r,!1)})}(),function(){if(t&&!M){let r=null;M=new ResizeObserver(()=>{r||(r=requestAnimationFrame(()=>{t&&t.parentElement&&w===3&&(N(),it(),m("refresh")),r=null}))}),M.observe(t),L.push(()=>{M==null||M.disconnect(),M=void 0,r&&(cancelAnimationFrame(r),r=null)})}}(),A},isDragging:b,isExpanded:F,isFullsize:I,localize:function(r,f=[]){const x=v("l10n")||{};r=String(r).replace(/\{\{(\w+)\}\}/g,(E,R)=>x[R]||E);for(let E=0;E<f.length;E++)r=r.split(f[E][0]).join(f[E][1]);return r=r.replace(/\{\{(.*?)\}\}/g,(E,R)=>R)},off:function(r,f){for(const x of r instanceof Array?r:[r])O.has(x)&&O.set(x,O.get(x).filter(E=>E!==f));return A},on:function(r,f){for(const x of r instanceof Array?r:[r])O.set(x,[...O.get(x)||[],f]);return A},version:"6.0.5",willZoomIn:Et,willZoomOut:$t};return A};Te.l10n={en_EN:Ae},Te.getDefaults=()=>Se;/*! License details at fancyapps.com/license */const xe=(t,e)=>{let i=[];return t.childNodes.forEach(n=>{n.nodeType!==Node.ELEMENT_NODE||e&&!n.matches(e)||i.push(n)}),i};/*! License details at fancyapps.com/license */const Ht=(t,...e)=>{const i=e.length;for(let n=0;n<i;n++){const s=e[n]||{};Object.entries(s).forEach(([u,d])=>{const g=Array.isArray(d)?[]:{};t[u]||Object.assign(t,{[u]:g}),kt(d)?Object.assign(t[u],Ht(g,d)):Array.isArray(d)?Object.assign(t,{[u]:[...d]}):Object.assign(t,{[u]:d})})}return t};/*! License details at fancyapps.com/license */const Pe=function(t=0,e=0,i=0,n=0,s=0,u=!1){const d=(t-e)/(i-e)*(s-n)+n;return u?n<s?gt(n,d,s):gt(s,d,n):d};/*! License details at fancyapps.com/license */const Ut=(t,e="")=>{t&&t.classList&&e.split(" ").forEach(i=>{i&&t.classList.remove(i)})};/*! License details at fancyapps.com/license */const Zt=(t,e="",i)=>{t&&t.classList&&e.split(" ").forEach(n=>{n&&t.classList.toggle(n,i||!1)})};/*! License details at fancyapps.com/license */const Ce=Object.assign(Object.assign({},Ae),{ERROR:"Something went wrong. <br /> Please try again later.",NEXT:"Next page",PREV:"Previous page",GOTO:"Go to page #%d",DOWNLOAD:"Download",TOGGLE_FULLSCREEN:"Toggle full-screen mode",TOGGLE_EXPAND:"Toggle full-size mode",TOGGLE_THUMBS:"Toggle thumbnails",TOGGLE_AUTOPLAY:"Toggle slideshow"});/*! License details at fancyapps.com/license */const te=t=>{t.cancelable&&t.preventDefault()},ee={adaptiveHeight:!1,center:!0,classes:{container:"f-carousel",isEnabled:"is-enabled",isLTR:"is-ltr",isRTL:"is-rtl",isHorizontal:"is-horizontal",isVertical:"is-vertical",hasAdaptiveHeight:"has-adaptive-height",viewport:"f-carousel__viewport",slide:"f-carousel__slide",isSelected:"is-selected"},dragFree:!1,enabled:!0,errorTpl:'<div class="f-html">{{ERROR}}</div>',fill:!1,infinite:!0,initialPage:0,l10n:Ce,rtl:!1,slides:[],slidesPerPage:"auto",spinnerTpl:'<div class="f-spinner"></div>',transition:"fade",tween:{clamp:!0,mass:1,tension:200,friction:25,restDelta:1,restSpeed:1,velocity:0},vertical:!1};let De,He=0;const me=(t,e={},i={})=>{He++;let n,s,u,d,g,M=0,S=Object.assign({},ee),w=Object.assign({},ee),h={},c=null,a=null,o=!1,L=!1,v=!1,O="height",m=0,C=!0,T=0,H=0,D=0,V=0,K="*",J=[],wt=[];const ct=new Set;let k=[],W=0,ut=0;function Z(l,...p){let y=w[l];return y&&y instanceof Function?y(nt,...p):y}function rt(l,p=[]){const y=Z("l10n")||{};l=String(l).replace(/\{\{(\w+)\}\}/g,($,Y)=>y[Y]||$);for(let $=0;$<p.length;$++)l=l.split(p[$][0]).join(p[$][1]);return l=l.replace(/\{\{(.*?)\}\}/g,($,Y)=>Y)}const bt=new Map;function it(l,...p){const y=bt.get(l)||[];w.on&&y.push(w.on[l]);for(const $ of y)$&&$ instanceof Function&&$(nt,...p);l!=="*"&&it("*",l,...p)}function N(){var l,p;const y=Ht({},ee,S);Ht(y,ee,S);let $="";const Y=S.breakpoints||{};if(Y)for(const[j,_]of Object.entries(Y))window.matchMedia(j).matches&&($+=j,Ht(y,_));if(g===void 0||$!==g){if(g=$,M!==0){let j=(p=(l=k[T])===null||l===void 0?void 0:l.slides[0])===null||p===void 0?void 0:p.index;j===void 0&&(j=w.initialSlide),y.initialSlide=j,y.slides=[];for(const _ of J)_.isVirtual&&y.slides.push(_)}Ot(),w=y,w.enabled!==!1&&(M=0,it("init"),function(){for(const[j,_]of Object.entries(Object.assign(Object.assign({},i),w.plugins||{})))if(j&&!h[j]&&_ instanceof Function){const z=_();z.init(nt,me),h[j]=z}it("initPlugins")}(),function(){if(!c)return;const j=Z("classes")||{};yt(c,j.container),yt(c,j.isEnabled);const _=Z("style");if(_&&kt(_))for(const[z,X]of Object.entries(_))c.style.setProperty(z,X);a=c.querySelector(`.${j.viewport}`),a||(a=document.createElement("div"),yt(a,j.viewport),a.append(...xe(c,`.${j.slide}`)),c.insertAdjacentElement("afterbegin",a)),c.carousel=nt,it("initLayout")}(),function(){if(!a)return;const j=Z("classes")||{};J=[],[...xe(a,`.${j.slide}`)].forEach(_=>{_.parentElement&&(J.push(I(Object.assign({el:_,isVirtual:!1},_.dataset||{}))),_.parentElement.removeChild(_))}),F(Z("slides"));for(const _ of J)it("addSlide",_);it("initSlides")}(),s=Kt().on("start",()=>{C=!1,n&&n.isPointerDown()||(lt(),pt())}).on("step",j=>{m=j.pos,pt()}).on("end",j=>{n!=null&&n.isPointerDown()||(m=j.pos,s&&!o&&(m<D||m>V)?s.spring({clamp:!0,mass:1,tension:200,friction:25,velocity:0,restDelta:1,restSpeed:1}).from({pos:m}).to({pos:gt(D,m,V)}).start():C||(C=!0,it("settle")))}),function(){const j=Z("gestures");a&&j!==!1&&(n=ce(a,j).on("start",_=>{var z,X;if(!s)return;const{srcEvent:st}=_;function dt(St){const Pt=window.getComputedStyle(St),ht=new DOMMatrixReadOnly(Pt.transform);return{width:ht.m41||0,height:ht.m42||0}}v&&te(st),s.pause(),s.getCurrentVelocities().pos=0;const mt=(z=k[T])===null||z===void 0?void 0:z.slides[0];mt&&ct.has(mt.index)&&mt.el&&(m=mt.offset||0,m+=(dt(mt.el)[O]||0)*(L&&!v?1:-1)),P(),o||(m<D||m>V)&&s.spring({clamp:!0,mass:1,tension:500,friction:25,velocity:((X=s.getCurrentVelocities())===null||X===void 0?void 0:X.pos)||0,restDelta:1,restSpeed:1}).from({pos:m}).to({pos:gt(D,m,V)}).start()}).on("move",_=>{const{srcEvent:z,axis:X}=_,st=_.srcEvent.target;st&&le(st)||(X||(z.stopPropagation(),z.stopImmediatePropagation()),(X==="y"&&v||X==="x"&&!v)&&(te(z),z.stopPropagation()))}).on("panstart",_=>{(_==null?void 0:_.axis)===(v?"y":"x")&&yt(a,"is-dragging")}).on("panend",()=>{Ut(a,"is-dragging")}).on("pan",_=>{var z;const{deltaX:X,deltaY:st,currentTouch:dt,axis:mt}=_;if(!s||dt.length>1||mt==="y"&&!v||mt==="x"&&v)return;const St=L&&!v?1:-1;let Pt=v?st:X,ht=s!=null&&s.isRunning()?s.getEndValues().pos:m,vt=1;o||(ht<=D&&Pt*St<0?(vt=Math.max(.01,1-Math.abs(1/Lt()*Math.abs(ht-D))),vt*=.2):ht>=V&&Pt*St>0&&(vt=Math.max(.01,1-Math.abs(1/Lt()*Math.abs(ht-V))),vt*=.2)),ht+=Pt*vt*St,s.spring({clamp:!0,mass:1,tension:700,friction:25,velocity:((z=s.getCurrentVelocities())===null||z===void 0?void 0:z.pos)||0,restDelta:1,restSpeed:1}).from({pos:m}).to({pos:ht}).start()}).on("end",_=>{var z,X;const{axis:st,velocityX:dt,velocityY:mt,currentTouch:St}=_,Pt=k.length,ht=Z("dragFree");if(St.length>0||!s||!Pt)return;const vt=Z("vertical")?mt:dt;let Ct=s!=null&&s.isRunning()?s.getEndValues().pos:m;const Ft=L&&!v?1:-1;if(Ct+=vt*(ht?5:1)*Ft,!o&&(vt*Ft<=0&&Ct<D||vt*Ft>=0&&Ct>V)){let Tt=0;return Math.abs(vt)>0&&(Tt=2*Math.abs(vt),Tt=Math.min(.3*Lt(),Tt)),Ct=gt(D+-1*Tt,Ct,V+Tt),void s.spring({clamp:!0,mass:1,tension:380,friction:25,velocity:-1*vt,restDelta:1,restSpeed:1}).from({pos:m}).to({pos:Ct}).start()}if(ht||!((z=h.Autoscroll)===null||z===void 0)&&z.isEnabled())return void(Math.abs(vt)>10?s.spring({clamp:!0,mass:1,tension:150,friction:25,velocity:-1*vt,restDelta:1,restSpeed:1}).from({pos:m}).to({pos:Ct}).start():s.isRunning()||C||(C=!0,it("settle")));if(!ht&&!(!((X=h.Autoscroll)===null||X===void 0)&&X.isEnabled())&&(!_.offsetX&&!_.offsetY||st==="y"&&!v||st==="x"&&v))return void at(T,{transition:"tween"});let xt=zt(Ct);Math.abs(vt)>10&&xt===T&&(xt+=vt>0?L&&!v?1:-1:L&&!v?-1:1),at(xt,{transition:"tween",tween:{tension:160,friction:25,velocity:-1*vt}})}).init())}(),E(),function(){if(c&&(c.addEventListener("click",G,{passive:!1}),document.addEventListener("mousemove",B),!u)){let j=null;u=new ResizeObserver(_=>{j||(j=requestAnimationFrame(()=>{(function(z){if(!c)return;let X=z[0].contentBoxSize[0].blockSize,st=z[0].contentBoxSize[0].inlineSize;if(M===0)return W=X,ut=st,M=1,pt(),Et(),void it("ready");if(M!==1)return;const dt=k.length;E();const mt=c.getBoundingClientRect();X=mt.height,st=mt.width,dt>1&&(v&&Math.abs(X-W)<.5||!v&&Math.abs(st-ut)<.5)||(W=X,ut=st,v&&!X||!v&&!st||c&&a&&(dt===k.length&&(n!=null&&n.isPointerDown()||Z("dragFree")&&(s!=null&&s.isRunning()))||at(T,{transition:!1})))})(_),j=null}))}),u.observe(c)}}())}}function B(l){De=l}function Q(l="*"){var p;const y=[];for(const $ of J)(l==="*"||$.class&&$.class.includes(l)||$.el&&(!((p=$.el)===null||p===void 0)&&p.classList.contains(l)))&&y.push($);d=void 0,K=l,wt=[...y]}function lt(){if(!s)return;const l=zt(s!=null&&s.isRunning()?s.getEndValues().pos:m);l!==T&&(d=T,T=l,ot(),Et(),$t(),it("change",T,d))}function Et(){var l;if(!c)return;Zt(a,"is-draggable",!!n&&k.length>0);for(const $ of c.querySelectorAll("[data-carousel-index]"))$.innerHTML=T+"";for(const $ of c.querySelectorAll("[data-carousel-page]"))$.innerHTML=T+1+"";for(const $ of c.querySelectorAll("[data-carousel-pages]"))$.innerHTML=k.length+"";let p=!1;const y=(l=k[T])===null||l===void 0?void 0:l.slides[0];y&&(y.downloadSrc||y.type==="image"&&y.src)&&(p=!0);for(const $ of c.querySelectorAll("[data-carousel-download]"))$.toggleAttribute("aria-disabled",!p)}function $t(l){var p;if(!c)return;l||(l=(p=k[T])===null||p===void 0?void 0:p.slides[0]);const y=l.el;if(y)for(const $ of y.querySelectorAll("[data-slide-index]"))$.innerHTML=l.index+1+""}function zt(l){if(!k.length||!s)return 0;const p=b();let y=l;o?y-=Math.floor((l-k[0].pos)/p)*p:y=gt(k[0].pos,l,k[k.length-1].pos);const $=new Map;let Y=0;for(const _ of k){const z=Math.abs(_.pos-y),X=Math.abs(_.pos-y-p),st=Math.abs(_.pos-y+p),dt=Math.min(z,X,st);$.set(Y,dt),Y++}const j=$.size>0?[...$.entries()].reduce((_,z)=>z[1]<_[1]?z:_):[T,0];return parseInt(j[0])}function It(){return a&&parseFloat(getComputedStyle(a).getPropertyValue("--f-carousel-gap"))||0}function Lt(){return a&&a.getBoundingClientRect()[O]||0}function b(l=!0){const p=It();return wt.reduce((y,$)=>y+$.dim,0)+(wt.length-(o&&l?0:1))*p}function F(l,p){const y=[];for(const $ of Array.isArray(l)?l:[l]){const Y=I(Object.assign(Object.assign({},$),{isVirtual:!0}));y.push(Y)}J.splice(p===void 0?J.length:p,0,...y),x();for(const $ of y)A($);return Q(K),y}function I(l){return(At(l)||l instanceof HTMLElement)&&(l={html:l}),Object.assign({index:-1,el:void 0,class:"",isVirtual:!0,dim:0,pos:0,offset:0,html:"",src:""},l)}function A(l){if(!l)return;let p=l.el;p||(p=document.createElement("div"),l.el=p);const y=l.html?l.html instanceof HTMLElement?l.html:Jt(l.html):void 0;y&&(yt(y,"f-html"),l.htmlEl=y,yt(p,"has-html"),p.append(y),it("contentReady",l))}function r(l){if(!a||!l)return;let p=l.el;if(p){if(p.setAttribute("index",l.index+""),p.parentElement!==a){let y;yt(p,w.classes.slide),yt(p,l.class),ot(l);for(const $ of J)if($.index>l.index){y=$.el;break}a.insertBefore(p,y&&a.contains(y)?y:null),Et(),$t(l),it("attachSlideEl",l)}return p}}function f(l){const p=l==null?void 0:l.el;p&&(p.remove(),R(p),it("detachSlideEl",l))}function x(){for(let l=0;l<J.length;l++){const p=J[l],y=p.el;y&&(p.index!==l&&R(y),y.setAttribute("index",`${l}`)),p.index=l}}function E(){var l,p,y,$;if(!c||!a)return;L=Z("rtl"),v=Z("vertical"),O=v?"height":"width";const Y=Z("classes");Zt(c,Y.isLTR,!L),Zt(c,Y.isRTL,L),Zt(c,Y.isHorizontal,!v),Zt(c,Y.isVertical,v),Zt(c,Y.hasAdaptiveHeight,Z("adaptiveHeight"));const j=function(){let _=0;if(a){let z=document.createElement("div");yt(z,w.classes.slide),a.appendChild(z),_=z.getBoundingClientRect()[O],z.remove(),z=void 0}return _}();for(const _ of wt){const z=_.el;let X=0;if(!_.isVirtual&&z&&ne(z)){let st=!1;z.parentElement&&z.parentElement===a||(a.appendChild(z),st=!0),X=z.getBoundingClientRect()[O],st&&((l=z.parentElement)===null||l===void 0||l.removeChild(z))}else X=j;_.dim=X}if(function(){if(!c)return;x();const _=Lt(),z=It(),X=b(!1);let st=Z("slidesPerPage");st=st==="auto"?1/0:parseFloat(st+""),k=[];let dt=0,mt=0;for(const xt of wt)(!k.length||dt+xt.dim-_>.05||mt>=st)&&(k.push({index:k.length,slides:[],dim:0,offset:0,pos:0}),dt=0,mt=0),k[k.length-1].slides.push(xt),dt+=xt.dim+z,mt++;const St=Z("center"),Pt=Z("fill"),ht=Z("infinite");let vt=0;for(const xt of k){xt.dim=(xt.slides.length-1)*z;for(const Tt of xt.slides)xt.dim+=Tt.dim;xt.offset=vt,xt.pos=vt,St!==!1&&(xt.pos-=.5*(_-xt.dim)),Pt&&!ht&&X>_&&(xt.pos=gt(0,xt.pos,X-_)),vt+=xt.dim+z}const Ct=[];let Ft;for(const xt of k){const Tt=Object.assign({},xt);Ft&&Tt.pos===Ft.pos?(Ft.dim+=Tt.dim,Ft.slides=[...Ft.slides,...Tt.slides]):(Ft=Tt,Tt.index=Ct.length,Ct.push(Tt))}k=Ct}(),o=Z("infinite")&&k.length>1&&b()-(Lt()+(((p=wt[0])===null||p===void 0?void 0:p.dim)||0))>-.5,D=((y=k[0])===null||y===void 0?void 0:y.pos)||0,V=(($=k[k.length-1])===null||$===void 0?void 0:$.pos)||0,M===0)(function(){var _;d=void 0,T=Z("initialPage");const z=Z("initialSlide")||void 0;z!==void 0&&(T=nt.getPageIndex(z)||0),T=gt(0,T,k.length-1),m=((_=k[T])===null||_===void 0?void 0:_.pos)||0,H=m})();else{const _=s!=null&&s.isRunning()?s.getEndValues().pos:m;(_<D||_>V)&&(T=gt(0,T,k.length-1))}it("refresh")}function R(l){if(!l||!ne(l))return;const p=parseInt(l.getAttribute("index")||"-1");let y="";for(const Y of Array.from(l.classList)){const j=Y.match(/^f-(\w+)(Out|In)$/);j&&j[1]&&(y=j[1]+"")}if(!l||!y)return;const $=[`f-${y}Out`,`f-${y}In`,"to-prev","to-next","from-prev","from-next"];l.removeEventListener("animationend",U),Ut(l,$.join(" ")),ct.delete(p)}function P(){if(!a)return;const l=ct.size;for(const p of wt)R(p.el);ct.clear(),l&&pt()}function U(l){l.animationName.substring(0,2)==="f-"&&(R(l.target),ct.size||(Ut(c,"in-transition"),!C&&Math.abs(nt.getPosition(!0)-H)<.5&&(C=!0,it("settle"))),pt())}function G(l){if(l.defaultPrevented)return;const p=l.composedPath()[0];if(p.closest("[data-carousel-go-prev]"))return te(l),void nt.prev();if(p.closest("[data-carousel-go-next]"))return te(l),void nt.next();const y=p.closest("[data-carousel-go-to]");if(y)return te(l),void nt.goTo(parseFloat(y.dataset.carouselGoTo||"")||0);if(p.closest("[data-carousel-download]")){te(l);const $=k[T].slides[0];if($.downloadSrc||$.type==="image"&&$.src){const Y=$.downloadFilename,j=document.createElement("a");j.href=$.downloadSrc||$.src||"",j.target="_blank",Y&&(j.download=Y),j.click()}}else it("click",l)}function et(l){var p;const y=l.el;y&&((p=y.querySelector(".f-spinner"))===null||p===void 0||p.remove(),Ut(y,"is-loading"))}function tt(l){var p;const y=l.el;y&&((p=y.querySelector(".f-html.is-error"))===null||p===void 0||p.remove(),Ut(y,"has-error"))}function ot(l){var p;l||(l=(p=k[T])===null||p===void 0?void 0:p.slides[0]);const y=l==null?void 0:l.el;if(!y)return;let $=Z("formatCaption",l);$===void 0&&($=l.caption),$=$||"";const Y=Z("captionEl");if(Y&&Y instanceof HTMLElement){if(l.index!==T)return;if(At($)&&(Y.innerHTML=rt($+"")),$ instanceof HTMLElement){if($.parentElement===Y)return;Y.innerHTML="",$.parentElement&&($=$.cloneNode(!0)),Y.append($)}return}if(!$)return;let j=l.captionEl||y.querySelector(".f-caption");!j&&$ instanceof HTMLElement&&$.classList.contains("f-caption")&&(j=$),j||(j=document.createElement("div"),yt(j,"f-caption"),At($)?j.innerHTML=rt($+""):$ instanceof HTMLElement&&($.parentElement&&($=$.cloneNode(!0)),j.append($)));const _=`f-caption-${He}_${l.index}`;j.setAttribute("id",_),j.dataset.selectable="true",yt(y,"has-caption"),y.setAttribute("aria-labelledby",_),l.captionEl=j,y.insertAdjacentElement("beforeend",j)}function at(l,p){let{transition:y,tween:$}=Object.assign({transition:w.transition,tween:w.tween},p||{});if(!c||!s)return;const Y=k.length;if(!Y||function(_,z){var X,st,dt;if(!(c&&s&&z&&At(z)&&z!=="tween"))return!1;const mt=k.length;let St=_>T?1:-1;_=o?(_%mt+mt)%mt:gt(0,_,mt-1),L&&(St*=-1);const Pt=(X=k[T])===null||X===void 0?void 0:X.slides[0],ht=Pt==null?void 0:Pt.index,vt=(st=k[_])===null||st===void 0?void 0:st.slides[0],Ct=vt==null?void 0:vt.index,Ft=(dt=k[_])===null||dt===void 0?void 0:dt.pos;if(Ct===void 0||ht===void 0||ht===Ct||m===Ft||Math.abs(Lt()-((vt==null?void 0:vt.dim)||0))>1)return!1;C=!1,s.pause(),P(),yt(c,"in-transition"),m=H=Ft,lt();const xt=r(Pt),Tt=r(vt);return xt&&(ct.add(ht),xt.style.transform="",xt.addEventListener("animationend",U),Ut(xt,w.classes.isSelected),yt(xt,`f-${z}Out to-${St>0?"next":"prev"}`)),Tt&&(ct.add(Ct),Tt.style.transform="",Tt.addEventListener("animationend",U),yt(Tt,w.classes.isSelected),yt(Tt,`f-${z}In from-${St>0?"prev":"next"}`)),pt(),!0}(l,y))return;l=o?(l%Y+Y)%Y:gt(0,l,Y-1),H=k[l||0].pos||0;const j=s.isRunning()?s.getEndValues().pos:m;if(Math.abs(H-j)<1)return m=H,T!==l&&(ot(),Et(),$t(),d=T,T=l,it("change",T,d)),pt(),void(C||(C=!0,it("settle")));if(s.pause(),P(),o){const _=b(),z=Math.floor((j-k[0].pos)/_),X=H+z*_;H=[X+_,X,X-_].reduce(function(st,dt){return Math.abs(dt-j)<Math.abs(st-j)?dt:st})}y!==!1&&kt($)?s.spring($).from({pos:m}).to({pos:H}).start():(m=H,lt(),pt(),C||(C=!0,it("settle")))}function pt(){var l;if(!c||!a)return;const p=k[T],y=function(_){const z=It(),X=b(),st=Lt(),dt=[];if(!X||!st)return dt;_=_===void 0?m:_,o&&(_-=Math.floor(_/X)*X);let mt=0,St=0,Pt=0;do{for(let ht of wt)dt.indexOf(ht)>-1||(ht.offset=St,ht.pos=St-_,ht.offset+ht.dim>_+.51&&ht.offset<_+st-.51&&dt.push(ht),St+=ht.dim+z,mt=_+st-((ht.pos||0)+ht.dim+z));if(Pt++,Pt>100||!o)break}while(mt>0&&X>0);return dt}(),$=new Set,Y=new Set;let j;for(const _ of y){let z=r(_);if(!z)continue;$.add(z);const X=((l=p==null?void 0:p.slides)===null||l===void 0?void 0:l.indexOf(_))>-1;X&&Y.add(z);const st=_.pos?Math.round(1e4*_.pos)/1e4:0,dt=v?0:L?-1*st:st,mt=v?st:0,St=Pe(dt,0,_.dim,0,100),Pt=Pe(mt,0,_.dim,0,100),ht=w.setTransform||void 0;if(ht instanceof Function?ht(nt,_,{x:dt,y:mt,xPercent:St,yPercent:Pt}):z.style.transform=dt||mt?`translate3d(${St}%, ${Pt}%,0)`:"",Z("adaptiveHeight")&&!v&&X){const vt=(z.firstElementChild||z).getBoundingClientRect().height;j=j==null?vt:Math.max(j,vt)}}[...xe(a,`.${w.classes.slide}`)].forEach(_=>{const z=parseInt(_.getAttribute("index")||"-1"),X=J[z];X||_.remove(),Zt(_,w.classes.isSelected,Y.has(_)),ct.has(z)||$.has(_)||f(X)}),a&&j!==void 0&&(a.style.height=`${j}px`),it("render",y)}function Ot(){var l;c==null||c.removeEventListener("click",G),P(),document.removeEventListener("mousemove",B),u==null||u.disconnect(),u=void 0;for(const p of Object.values(h))p==null||p.destroy();h={};for(const p of J)p.el&&ne(p.el)&&(p.state=void 0,et(p),tt(p),f(p),p.isVirtual?((l=p.el)===null||l===void 0||l.remove(),p.el=void 0):(p.el.style.transform="",a==null||a.appendChild(p.el)));n==null||n.destroy(),n=void 0,s==null||s.destroy(),s=void 0;for(const p of Object.values(w.classes||{}))Ut(c,p);Ut(a,"is-draggable")}const nt={add:function(l,p){const y=F(l,p);for(const $ of y)it("addSlide",$);return Q(K),E(),pt(),nt},canGoPrev:function(){return o||T>0},canGoNext:function(){return o||T<k.length-1},destroy:function(){return it("destroy"),window.removeEventListener("resize",N),Ot(),bt.clear(),c=null,k=[],J=[],w=Object.assign({},ee),h={},wt=[],g="",K="*",M=2,nt},emit:it,filter:function(l="*"){return Q(l),E(),pt(),it("filter",l),nt},getContainer:function(){return c},getGapDim:It,getGestures:function(){return n},getLastMouseMove:function(){return De},getOptions:function(){return w},getPage:function(){return k[T]},getPageIndex:function(l){if(l!==void 0){for(const p of k||[])for(const y of p.slides)if(y.index===l)return p.index;return-1}return T},getPageProgress:function(l,p){l===void 0&&(l=T);const y=k[l];if(!y)return l>T?-1:1;let $=y.pos;const Y=It(),j=nt.getPosition(),_=b();if(o&&p!==!0){const z=$+_*Math.floor((j-k[0].pos)/_);$=[z+_,z,z-_].reduce(function(X,st){return Math.abs(st-j)<Math.abs(X-j)?st:X})}return(j-$)/(y.dim+Y)},getPageVisibility:function(l){l===void 0&&(l=T);const p=k[l];if(!p)return l>T?-1:1;const y=nt.getPosition(),$=Lt();let Y=p.pos;if(o){const j=nt.getPosition(),_=b(),z=Y+Math.floor((j-k[0].pos)/_)*_;Y=[z+_,z,z-_].reduce(function(X,st){return Math.abs(st-j)<Math.abs(X-j)?st:X})}return Y>y&&Y+p.dim<y+$?1:Y<y?(Y+p.dim-y)/p.dim:Y+p.dim>y+$?(y+$-Y)/p.dim:0},getPages:function(){return k},getPlugins:function(){return h},getPosition:function(l){var p;let y=m;if(o&&l!==!0){const $=b();y-=Math.floor((m-((p=k[0])===null||p===void 0?void 0:p.pos)||0)/$)*$}return y},getSlides:function(){return J},getState:function(){return M},getTotalSlideDim:b,getTween:function(){return s},getViewport:function(){return a},getViewportDim:Lt,goTo:at,hasNavigated:function(){return d!==void 0},hideError:tt,hideLoading:et,init:function(){if(!t||!ne(t))throw new Error("No Element found");return M!==0&&(Ot(),M=0),c=t,S=e,window.removeEventListener("resize",N),S.breakpoints&&window.addEventListener("resize",N),N(),nt},isInfinite:function(){return o},isInTransition:function(){return ct.size>0},isRTL:function(){return L},isSettled:function(){return C},localize:function(l,p=[]){return rt(l,p)},next:function(l={}){return at(T+1,l),nt},off:function(l,p){for(const y of l instanceof Array?l:[l])bt.has(y)&&bt.set(y,bt.get(y).filter($=>$!==p));return nt},on:function(l,p){for(const y of l instanceof Array?l:[l])bt.set(y,[...bt.get(y)||[],p]);return nt},prev:function(l={}){return at(T-1,l),nt},remove:function(l){l===void 0&&(l=J.length-1);const p=J[l];return p&&(it("removeSlide",p),p.el&&(R(p.el),p.el.remove(),p.el=void 0),J.splice(l,1),Q(K),E(),pt()),nt},setPosition:function(l){m=l,lt(),pt()},showError:function(l,p){et(l),tt(l);const y=l.el;if(y){const $=document.createElement("div");yt($,"f-html"),yt($,"is-error"),$.innerHTML=rt(p||"<p>{{ERROR}}</p>"),l.htmlEl=$,yt(y,"has-html"),yt(y,"has-error"),y.insertAdjacentElement("afterbegin",$),it("contentReady",l)}return nt},showLoading:function(l){const p=l.el,y=p==null?void 0:p.querySelector(".f-spinner");if(!p||y)return nt;const $=Z("spinnerTpl"),Y=Jt($);return Y&&(yt(Y,"f-spinner"),yt(p,"is-loading"),p.insertAdjacentElement("beforeend",Y)),nt},version:"6.0.5"};return nt};me.l10n={en_EN:Ce},me.getDefaults=()=>ee;/*! License details at fancyapps.com/license */const Ne=(t=!0,e="--f-scrollbar-compensate",i="--f-body-margin",n="hide-scrollbar")=>{const s=document,u=s.body,d=s.documentElement;if(t){if(u.classList.contains(n))return;let g=window.innerWidth-d.getBoundingClientRect().width;g<0&&(g=0),d.style.setProperty(e,`${g}px`);const M=parseFloat(window.getComputedStyle(u).marginRight);M&&u.style.setProperty(i,`${M}px`),u.classList.add(n)}else u.classList.remove(n),u.style.setProperty(i,""),s.documentElement.style.setProperty(e,"")};/*! License details at fancyapps.com/license */function ln(){return!(typeof window>"u"||!window.document||!window.document.createElement)}/*! License details at fancyapps.com/license */const Xt=function(t="",e="",i=""){return t.split(e).join(i)};/*! License details at fancyapps.com/license */const Be={tpl:t=>`<img class="f-panzoom__content" 
    ${t.srcset?'data-lazy-srcset="{{srcset}}"':""} 
    ${t.sizes?'data-lazy-sizes="{{sizes}}"':""} 
    data-lazy-src="{{src}}" alt="{{alt}}" />`},bn=()=>{let t;function e(w,h){const c=t==null?void 0:t.getOptions().Zoomable;let a=(kt(c)?Object.assign(Object.assign({},Be),c):Be)[w];return a&&typeof a=="function"&&h?a(h):a}function i(){t&&(t.on("addSlide",u),t.on("removeSlide",d),t.on("attachSlideEl",g),t.on("click",s),t.on("change",n))}function n(){M()}function s(w,h){const c=h.target;c&&!h.defaultPrevented&&c.dataset.panzoomAction&&S(c.dataset.panzoomAction)}function u(w,h){if(!t)return;const c=h.el;if(!c)return;const a=h.src||h.lazySrc||"",o=h.srcset||h.lazySrcset||"",L=h.sizes||h.lazySizes||"";if(a&&At(a)&&!h.html&&(!h.type||h.type==="image")){let C=e("tpl",h);C=Xt(C,"{{src}}",a+""),C=Xt(C,"{{srcset}}",o+""),C=Xt(C,"{{sizes}}",L+""),C=Xt(C,"{{alt}}",`${h.alt||h.caption||`Image #${h.index}`}`),c.insertAdjacentHTML("afterbegin",C)}if(!c.querySelector(".f-panzoom__content"))return;const v=h.width&&h.width!=="auto"?parseFloat(h.width+""):"auto",O=h.height&&h.height!=="auto"?parseFloat(h.height+""):"auto",m=Te(c,Object.assign({width:v,height:O,event:()=>t==null?void 0:t.getLastMouseMove(),classes:{container:"f-zoomable"}},e("Panzoom")));m.on("*",(C,T,...H)=>{t&&(T==="loading"&&(h.state=0),T==="loaded"&&(h.state=1),T==="error"&&(h.state=2,t==null||t.showError(h,"{{IMAGE_ERROR}}")),t.emit(`panzoom:${T}`,h,...H),T==="ready"&&t.emit("contentReady",h),h.index===t.getPageIndex()&&M())}),h.panzoomRef=m}function d(w,h){h.panzoomRef&&(h.panzoomRef.destroy(),h.panzoomRef=void 0)}function g(w,h){const c=h.panzoomRef;if(c)switch(c.getState()){case 0:c.init();break;case 3:c.execute(q.Reset,{velocity:0})}}function M(){var w;const h=t==null?void 0:t.getContainer();if(!h)return;const c=(w=t==null?void 0:t.getPage())===null||w===void 0?void 0:w.slides[0].panzoomRef,a=(c==null?void 0:c.canZoomIn())||!1,o=(c==null?void 0:c.canZoomOut())||!1,L=(c==null?void 0:c.isFullsize())||!1,v=!c||(c==null?void 0:c.getState())!==3;for(const O of(h==null?void 0:h.querySelectorAll("[data-panzoom-action]"))||[]){const m=O.dataset.panzoomAction;let C=!1;if(v)C=!0;else switch(m){case q.ZoomIn:a||(C=!0);break;case q.ZoomOut:o||(C=!0);break;case q.ToggleFull:a||o||(C=!0);const T=O.querySelector("g");T&&(T.style.display=L?"none":"");break;case q.ToggleCover:case q.ToggleMax:a||o||(C=!0)}C?(O.setAttribute("aria-disabled",""),O.setAttribute("tabindex","-1")):(O.removeAttribute("aria-disabled"),O.removeAttribute("tabindex"))}}function S(w,...h){var c;(c=t==null?void 0:t.getPage().slides[0].panzoomRef)===null||c===void 0||c.execute(w,...h)}return{init:function(w){t=w,t.getOptions().Zoomable!==!1&&t.on("initPlugins",i)},destroy:function(){if(t){t.off("addSlide",u),t.off("removeSlide",d),t.off("attachSlideEl",g),t.off("change",n);for(const w of t.getSlides())d(0,w)}t=void 0},execute:S}};/*! License details at fancyapps.com/license */const qe={syncOnChange:!1,syncOnClick:!0,syncOnHover:!1},cn=()=>{let t,e;function i(){const a=t==null?void 0:t.getOptions().Sync;return kt(a)?Object.assign(Object.assign({},qe),a):qe}function n(a){var o,L,v;t&&a&&(e=a,t.getOptions().classes=Object.assign(Object.assign({},t.getOptions().classes),{isSelected:""}),t.getOptions().initialSlide=((L=(o=e.getPage())===null||o===void 0?void 0:o.slides[0])===null||L===void 0?void 0:L.index)||0,i().syncOnChange&&t.on("change",d),i().syncOnClick&&t.on("click",M),i().syncOnHover&&((v=t.getViewport())===null||v===void 0||v.addEventListener("mouseover",S)),function(){!t||!e||(t.on("ready",u),t.on("refresh",w),e.on("change",g),e.on("filter",h))}())}function s(){const a=i().target;t&&a&&n(a)}function u(){c()}function d(){var a;if(t&&e){const o=((a=t.getPage())===null||a===void 0?void 0:a.slides)||[],L=e.getPageIndex(o[0].index||0);L>-1&&e.goTo(L,t.hasNavigated()?void 0:{tween:!1,transition:!1}),c()}}function g(){var a;if(t&&e){const o=t.getPageIndex(((a=e.getPage())===null||a===void 0?void 0:a.slides[0].index)||0);o>-1&&t.goTo(o,e.hasNavigated()?void 0:{tween:!1,transition:!1}),c()}}function M(a,o){var L;if(!t||!e||!((L=t.getTween())===null||L===void 0)&&L.isRunning())return;const v=t==null?void 0:t.getOptions().classes.slide;if(!v)return;const O=v?o.target.closest(`.${v}`):null;if(O){const m=parseInt(O.getAttribute("index")||"")||0,C=e.getPageIndex(m);e.goTo(C)}}function S(a){t&&M(0,a)}function w(){var a;if(t&&e){const o=t.getPageIndex(((a=e.getPage())===null||a===void 0?void 0:a.slides[0].index)||0);o>-1&&t.goTo(o,{tween:!1,transition:!1}),c()}}function h(a,o){t&&e&&(t.filter(o),g())}function c(){var a,o,L;if(!e)return;const v=((o=(a=e.getPage())===null||a===void 0?void 0:a.slides[0])===null||o===void 0?void 0:o.index)||0;for(const O of(t==null?void 0:t.getSlides())||[])(L=O.el)===null||L===void 0||L.classList.toggle("is-selected",O.index===v)}return{init:function(a){t=a,t.on("initSlides",s)},destroy:function(){var a;t==null||t.off("ready",u),t==null||t.off("refresh",w),t==null||t.off("change",d),t==null||t.off("click",M),(a=t==null?void 0:t.getViewport())===null||a===void 0||a.removeEventListener("mouseover",S),e==null||e.off("change",g),e==null||e.off("filter",h),e=void 0,t==null||t.off("initSlides",s),t=void 0},getTarget:function(){return e}}};/*! License details at fancyapps.com/license */const Ve={showLoading:!0,preload:1},pe="is-lazyloading",We="is-lazyloaded",un=()=>{let t;function e(){const u=t==null?void 0:t.getOptions().Lazyload;return kt(u)?Object.assign(Object.assign({},Ve),u):Ve}function i(u){const d=u.el;if(!d)return;const g="[data-lazy-src],[data-lazy-srcset],[data-lazy-bg]",M=Array.from(d.querySelectorAll(g));d.matches(g)&&M.push(d);for(const S of M){const w=S.dataset.lazySrc,h=S.dataset.lazySrcset,c=S.dataset.lazySizes,a=S.dataset.lazyBg,o=(S instanceof HTMLImageElement||S instanceof HTMLSourceElement)&&(w||h),L=S instanceof HTMLElement&&a;if(!o&&!L)continue;const v=w||h||a;v&&(o&&v?(e().showLoading&&(t==null||t.showLoading(u)),S.addEventListener("load",()=>{t==null||t.hideLoading(u),S instanceof HTMLImageElement?S.decode().then(()=>{S.classList.remove(pe),S.classList.add(We)}):(S.classList.remove(pe),S.classList.add(We)),t==null||t.emit("lazyLoad:loaded",u,S,v)}),S.addEventListener("error",()=>{t==null||t.hideLoading(u),S.classList.remove(pe),S.classList.add("has-lazyerror"),t==null||t.emit("lazyLoad:error",u,S,v)}),S.classList.add("f-lazyload"),S.classList.add(pe),t==null||t.emit("lazyLoad:load",u,S,v),w&&(S.src=w),h&&(S.srcset=h),c&&(S.sizes=c)):L&&(document.body.contains(S)||(document.createElement("img").src=a),S.style.backgroundImage=`url('${a}')`),delete S.dataset.lazySrc,delete S.dataset.lazySrcset,delete S.dataset.lazySizes)}}function n(){var u;if(!t)return;const d=e().preload,g=t.getPages(),M=g.length,S=t.getPageIndex();for(let w=S-d;w<=S+d;w++){const h=(w%M+M)%M;for(const c of((u=g[h])===null||u===void 0?void 0:u.slides)||[])i(c)}}function s(u,d){i(d)}return{init:function(u){t=u,t.on(["ready","change"],n),t.on("attachSlideEl",s)},destroy:function(){t==null||t.off(["ready","change"],n),t==null||t.off("attachSlideEl",s),t=void 0}}};/*! License details at fancyapps.com/license */const Ue={prevTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M15 3l-9 9 9 9"></path></svg>',nextTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M9 3l9 9-9 9"></path></svg>'},wn=()=>{let t,e,i;function n(d){if(!t)return;const g=`<button data-carousel-go-${d} tabindex="0" class="f-button is-arrow is-${d}" title="{{${d.toUpperCase()}}}">`+function(){const M=t==null?void 0:t.getOptions().Arrows;return kt(M)?Object.assign(Object.assign({},Ue),M):Ue}()[`${d}Tpl`]+"</button";return Jt(t.localize(g))||void 0}function s(){var d;e==null||e.remove(),e=void 0,i==null||i.remove(),i=void 0,(d=t==null?void 0:t.getContainer())===null||d===void 0||d.classList.remove("has-arrows")}function u(){t&&t.getOptions().Arrows!==!1&&t.getPages().length>1?(function(){if(!t)return;const d=t.getViewport();d&&(e||(e=n("prev"),e&&d.insertAdjacentElement("beforebegin",e)),i||(i=n("next"),i&&d.insertAdjacentElement("afterend",i)),Zt(t.getContainer(),"has-arrows",!(!e&&!i)))}(),t&&(e==null||e.toggleAttribute("aria-disabled",!t.canGoPrev()),i==null||i.toggleAttribute("aria-disabled",!t.canGoNext()))):s()}return{init:function(d){t=d.on(["change","refresh"],u)},destroy:function(){s(),t==null||t.off(["change","refresh"],u),t=void 0}}};/*! License details at fancyapps.com/license */const dn={moveLeft:{tpl:'<button data-panzoom-action="moveLeft" class="f-button" title="{{MOVE_LEFT}}"><svg><path d="M5 12h14M5 12l6 6M5 12l6-6"/></svg></button>'},moveRight:{tpl:'<button data-panzoom-action="moveRight" class="f-button" title="{{MOVE_RIGHT}}"><svg><path d="M5 12h14M13 18l6-6M13 6l6 6"/></svg></button>'},moveUp:{tpl:'<button data-panzoom-action="moveUp" class="f-button" title="{{MOVE_UP}}"><svg><path d="M12 5v14M18 11l-6-6M6 11l6-6"/></svg></button>'},moveDown:{tpl:'<button data-panzoom-action="moveDown" class="f-button" title="{{MOVE_DOWN}}"><svg><path d="M12 5v14M18 13l-6 6M6 13l6 6"/></svg></button>'},zoomIn:{tpl:'<button data-panzoom-action="zoomIn" class="f-button" title="{{ZOOM_IN}}"><svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M11 8v6M8 11h6"/></svg></button>'},zoomOut:{tpl:'<button data-panzoom-action="zoomOut" class="f-button" title="{{ZOOM_OUT}}"><svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg></button>'},toggle1to1:{tpl:'<button data-panzoom-action="toggleFull" class="f-button" title="{{TOGGLE_FULL}}"><svg><path d="M3.51 3.07c5.74.02 11.48-.02 17.22.02 1.37.1 2.34 1.64 2.18 3.13 0 4.08.02 8.16 0 12.23-.1 1.54-1.47 2.64-2.79 2.46-5.61-.01-11.24.02-16.86-.01-1.36-.12-2.33-1.65-2.17-3.14 0-4.07-.02-8.16 0-12.23.1-1.36 1.22-2.48 2.42-2.46Z"/><path d="M5.65 8.54h1.49v6.92m8.94-6.92h1.49v6.92M11.5 9.4v.02m0 5.18v0"/></svg></button>'},toggleFull:{tpl:'<button data-panzoom-action="toggleFull" class="f-button" title="{{TOGGLE_FULL}}"><svg><g><line x1="11" y1="8" x2="11" y2="14"></line></g><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg></button>'},rotateCCW:{tpl:'<button data-panzoom-action="rotateCCW" class="f-button" title="{{ROTATE_CCW}}"><svg><path d="M15 4.55a8 8 0 0 0-6 14.9M9 15v5H4M18.37 7.16v.01M13 19.94v.01M16.84 18.37v.01M19.37 15.1v.01M19.94 11v.01"/></svg></button>'},rotateCW:{tpl:'<button data-panzoom-action="rotateCW" class="f-button" title="{{ROTATE_CW}}"><svg><path d="M9 4.55a8 8 0 0 1 6 14.9M15 15v5h5M5.63 7.16v.01M4.06 11v.01M4.63 15.1v.01M7.16 18.37v.01M11 19.94v.01"/></svg></button>'},flipX:{tpl:'<button data-panzoom-action="flipX" class="f-button" title="{{FLIP_X}}"><svg><path d="M12 3v18M16 7v10h5L16 7M8 7v10H3L8 7"/></svg></button>'},flipY:{tpl:'<button data-panzoom-action="flipY" class="f-button" title="{{FLIP_Y}}"><svg><path d="M3 12h18M7 16h10L7 21v-5M7 8h10L7 3v5"/></svg></button>'},reset:{tpl:'<button data-panzoom-action="reset" class="f-button" title="{{RESET}}"><svg><path d="M20 11A8.1 8.1 0 0 0 4.5 9M4 5v4h4M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"/></svg></button>'}};/*! License details at fancyapps.com/license */var Ye;(function(t){t.Left="left",t.middle="middle",t.right="right"})(Ye||(Ye={}));const Ze=Object.assign({counter:{tpl:'<div class="f-carousel__counter"><span data-carousel-page></span>/<span data-carousel-pages></span></div>'},download:{tpl:'<button data-carousel-download class="f-button" title="{{DOWNLOAD}}"><svg><path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2M7 11l5 5 5-5M12 4v12"/></svg></button>'},autoplay:{tpl:'<button data-autoplay-action="toggle" class="f-button" title="{{TOGGLE_AUTOPLAY}}"><svg><g><path d="M5 3.5 19 12 5 20.5Z"/></g><g><path d="M8 4v15M17 4v15"/></g></svg></button>'},thumbs:{tpl:'<button data-thumbs-action="toggle" class="f-button" title="{{TOGGLE_THUMBS}}"><svg><rect width="18" height="14" x="3" y="3" rx="2"/><path d="M4 21h1M9 21h1M14 21h1M19 21h1"/></svg></button>'}},dn),Ge={absolute:!1,display:{left:[],middle:["zoomIn","zoomOut","toggle1to1","rotateCCW","rotateCW","flipX","flipY","reset"],right:[]},enabled:"auto",items:{}},fn=()=>{let t,e;function i(){const s=t==null?void 0:t.getOptions().Toolbar;return kt(s)?Object.assign(Object.assign({},Ge),s):Ge}function n(){var s,u,d;if(!(t!=null&&t.getOptions().Toolbar)||!t||e)return;let g=i().enabled;if(!g)return;let M=i().absolute;const S=t.getSlides().length>1;let w=!1,h=!1;for(const O of t.getSlides())O.panzoomRef&&(w=!0),(O.downloadSrc||O.type==="image"&&O.src)&&(h=!0);let c=((s=t.getPlugins().Thumbs)===null||s===void 0?void 0:s.isEnabled())||!1,a=S&&t.getPlugins().Autoplay||!1,o=t.getPlugins().Fullscreen&&(document.fullscreenEnabled||document.webkitFullscreenEnabled);if(g==="auto"&&(g=w),!g)return;e=document.createElement("div"),e.classList.add("f-carousel__toolbar");const L=i().display,v=Ht({},Ze,i().items);for(const O of["left","middle","right"]){const m=L[O]||[],C=document.createElement("div");C.classList.add("f-carousel__toolbar__column"),C.classList.add(`is-${O}`);for(const T of m){let H;if(At(T)){if(T==="counter"&&!S||T==="autoplay"&&!a||dn[T]&&!w||T==="fullscreen"&&!o||T==="thumbs"&&!c||T==="download"&&!h)continue;H=v[T]}if(typeof T=="object"&&(H=T),H&&H.tpl){let D=t.localize(H.tpl);D=D.split("<svg>").join('<svg tabindex="-1" width="24" height="24" viewBox="0 0 24 24">');const V=Jt(D);V&&(typeof H.click=="function"&&t&&V.addEventListener("click",K=>{K.preventDefault(),K.stopPropagation(),typeof H.click=="function"&&t&&H.click(t,K)}),C.append(V))}}e.append(C)}e.childElementCount&&(M===!0&&e.classList.add("is-absolute"),(u=t.getContainer())===null||u===void 0||u.classList.add("has-toolbar"),(d=t.getViewport())===null||d===void 0||d.insertAdjacentElement("beforebegin",e))}return{init:function(s){t=s,t.on("initSlides",n)},destroy:function(){var s;t==null||t.off("initSlides",n),(s=t==null?void 0:t.getContainer())===null||s===void 0||s.classList.remove("has-toolbar"),e==null||e.remove(),e=void 0},add:function(s,u){Ze[s]=u},isEnabled:function(){return!!e}}};/*! License details at fancyapps.com/license */const Xe={autoStart:!0,pauseOnHover:!0,showProgressbar:!0,timeout:2e3},En=()=>{let t,e,i=!1,n=!1,s=!1,u=null;function d(D){const V=t==null?void 0:t.getOptions().Autoplay;let K=(kt(V)?Object.assign(Object.assign({},Xe),V):Xe)[D];return K&&typeof K=="function"&&t?K(t):K}function g(){var D;const V=((D=t==null?void 0:t.getPage())===null||D===void 0?void 0:D.slides)||[];for(const K of V)if(K.state===0)return!0;return!1}function M(){clearTimeout(e),e=void 0}function S(){if(e||s||g()||!(t!=null&&t.isSettled()))return;(function(){var V,K,J,wt;if(!t||(c(),!d("showProgressbar")))return;let ct=d("progressbarParentEl");if(!ct&&(!((V=t.getPlugins().Toolbar)===null||V===void 0)&&V.isEnabled())&&(ct=t.getContainer()),!ct&&((K=t.getPlugins().Toolbar)===null||K===void 0?void 0:K.isEnabled())!==!0){const W=((J=t.getPages()[0])===null||J===void 0?void 0:J.slides)||[],ut=((wt=t.getPage())===null||wt===void 0?void 0:wt.slides)||[];W.length===1&&ut.length===1&&(ct=ut[0].el)}if(ct||(ct=t.getViewport()),!ct)return;u=document.createElement("div"),u.classList.add("f-progressbar"),ct.prepend(u);const k=d("timeout")||1e3;u.style.animationDuration=`${k}ms`})();const D=d("timeout");e=setTimeout(()=>{t&&i&&!n&&(t.isInfinite()||t.getPageIndex()!==t.getPages().length-1?t.next():t.goTo(0))},D)}function w(){var D,V;if(!t||t.getPages().length<2||t.getOptions().Autoplay===!1||i)return;i=!0,t.emit("autoplay:start",d("timeout")),(D=t.getContainer())===null||D===void 0||D.classList.add("has-autoplay"),(V=t.getTween())===null||V===void 0||V.on("start",m);const K=t==null?void 0:t.getContainer();K&&d("pauseOnHover")&&matchMedia("(hover: hover)").matches&&(K.addEventListener("mouseenter",C,!1),K.addEventListener("mouseleave",T,!1)),t.on("change",v),t.on("settle",O),t.on("contentReady",o),t.on("panzoom:animationStart",h),t.isSettled()&&S()}function h(){var D,V;if(M(),c(),i&&t){t.emit("autoplay:end"),(D=t.getContainer())===null||D===void 0||D.classList.remove("has-autoplay"),(V=t.getTween())===null||V===void 0||V.off("start",m);const K=t==null?void 0:t.getContainer();K&&(K.removeEventListener("mouseenter",C,!1),K.removeEventListener("mouseleave",T,!1))}t&&(t.off("change",v),t.off("settle",O),t.off("contentReady",o),t.off("panzoom:animationStart",h)),i=!1,n=!1}function c(){u&&(u.remove(),u=null)}function a(){t&&t.getPages().length>1&&d("autoStart")&&w()}function o(D){t&&t.getPageIndex(D.index)===t.getPageIndex()&&(!i||s||g()||S())}function L(D,V){const K=V.target;K&&!V.defaultPrevented&&K.dataset.autoplayAction==="toggle"&&H.toggle()}function v(){!t||!(t!=null&&t.isInfinite())&&t.getPageIndex()===t.getPages().length-1?h():(c(),M())}function O(){!i||s||n||S()}function m(){M(),c()}function C(){s=!0,i&&(c(),M())}function T(){s=!1,i&&!n&&(t!=null&&t.isSettled())&&S()}const H={init:function(D){t=D,t.on("ready",a),t.on("click",L)},destroy:function(){h(),t==null||t.off("ready",a),t==null||t.off("click",L),t=void 0},isEnabled:()=>i,pause:function(){n=!0,M()},resume:function(){n=!1,i&&!s&&S()},start(){w()},stop(){h()},toggle(){i?h():w()}};return H};/*! License details at fancyapps.com/license */const Me={Carousel:{Lazyload:{showLoading:!1}},minCount:2,showOnStart:!0,thumbTpl:'<button aria-label="Slide to #{{page}}"><img draggable="false" alt="{{alt}}" data-lazy-src="{{src}}" /></button>',type:"modern"};let Le;const xn=()=>{let t,e,i,n=0,s=0,u=!0;function d(O){const m=t==null?void 0:t.getOptions().Thumbs;let C=(kt(m)?Object.assign(Object.assign({},Me),m):Me)[O];return C&&typeof C=="function"?C():C}function g(){if(!t||(t==null?void 0:t.getOptions().Thumbs)===!1)return!1;let O=0;for(const m of t.getSlides())m.thumbSrc&&O++;return O>=d("minCount")}function M(){return d("type")==="modern"}function S(O=!1){const m=t==null?void 0:t.getContainer();if(t&&m&&!i&&g()){if(!i){const C=m.nextElementSibling;C!=null&&C.classList.contains("f-thumbs")&&(i=C)}if(!i){i=document.createElement("div"),i.classList.add("f-thumbs");const C=d("parentEl");C?C.insertAdjacentElement("beforeend",i):m.insertAdjacentElement("afterend",i)}i.classList.add(`is-${d("type")}`),i.classList.add("is-syncing"),O&&(i.style.maxHeight="0px")}}function w(){var O,m;if(!Le||!t||!i||e)return;const C=[];for(const T of t.getSlides()){let H=T.thumb?T.thumb instanceof HTMLImageElement?T.thumb.src:T.thumb:T.thumbSrc||void 0,D=d("thumbTpl");D=Xt(D,"{{alt}}",`Thumbnail #${T.index}`),D=Xt(D,"{{src}}",H+""),D=Xt(D,"{{index}}",`${T.index}`),D=Xt(D,"{{page}}",`${T.index||1}`),C.push({html:D})}C.length&&(e=Le(i,Ht({},{Sync:{target:t},Lazyload:{preload:1},slides:C,classes:{container:"f-thumbs",viewport:"f-thumbs__viewport",slide:"f-thumbs__slide"},initialSlide:t.getOptions().initialPage,center:!0,fill:!M(),infinite:!1,dragFree:!0,rtl:t.getOptions().rtl||!1,slidesPerPage:T=>{let H=0;return M()&&(function(){if(!M()||!i)return;const D=V=>i&&parseFloat(getComputedStyle(i).getPropertyValue("--f-thumb-"+V))||0;n=D("width"),s=D("clip-width")}(),H=4*(n-s)),T&&T.getTotalSlideDim()<=T.getViewportDim()-H?1/0:1}},Me.Carousel||{},d("Carousel")||{}),{Sync:cn,Lazyload:un}).init(),(O=e.getGestures())===null||O===void 0||O.on("start",()=>{u=!1}),e.on("click",(T,H)=>{const D=H.target;if(D){const V=D.matches("button")?D:D.firstElementChild;V&&V.matches("button")&&V.focus({})}}),(m=t.getContainer())===null||m===void 0||m.classList.add("has-thumbs"),v())}function h(){var O;g()&&((O=t==null?void 0:t.getGestures())===null||O===void 0||O.on("start",c),d("showOnStart")&&(S(),w()))}function c(){var O,m;u=!0,!((O=document.activeElement)===null||O===void 0)&&O.closest(".f-thumbs")&&((m=document.activeElement)===null||m===void 0||m.blur())}function a(){var O,m;i==null||i.classList.toggle("is-syncing",(t==null?void 0:t.hasNavigated())===!1||((O=t==null?void 0:t.getTween())===null||O===void 0?void 0:O.isRunning())),v(),!((m=t==null?void 0:t.getGestures())===null||m===void 0)&&m.isPointerDown()&&function(){if(!M()||!t||!e||!u)return;const C=e.getTween(),T=e.getPages(),H=t.getPageIndex()||0,D=t.getPageProgress()||0;if(!(t&&T&&T[H]&&C))return;const V=C.isRunning()?C.getCurrentValues().pos:e.getPosition();if(V===void 0)return;let K=T[H].pos+D*(n-s);K=gt(T[0].pos,K,T[T.length-1].pos),C.from({pos:V}).to({pos:K}).start()}()}function o(){u=!0}function L(O,m){const C=m.target;C&&!m.defaultPrevented&&C.dataset.thumbsAction==="toggle"&&function(){if(i||(S(!0),w()),!i)return;const T=i.style.maxHeight;i.style.maxHeight=T?"":"0px"}()}function v(){if(!M()||!t||!e)return;const O=(e==null?void 0:e.getSlides())||[];let m=-.5*n;for(const C of O){const T=C.el;if(!T)continue;let H=t.getPageProgress(C.index)||0;H=Math.max(-1,Math.min(1,H)),H>-1&&H<1&&(m+=.5*n*(1-Math.abs(H))),H=Math.round(1e4*H)/1e4,m=Math.round(1e4*m)/1e4,T.style.setProperty("--progress",`${Math.abs(H)}`),T.style.setProperty("--shift",`${t!=null&&t.isRTL()?-1*m:m}px`),H>-1&&H<1&&(m+=.5*n*(1-Math.abs(H)))}}return{init:function(O,m){Le=m,t=O,t.on("ready",h),t.on("render",a),t.on("change",o),t.on("click",L)},destroy:function(){var O,m;t==null||t.off("ready",h),t==null||t.off("render",a),t==null||t.off("change",o),t==null||t.off("click",L),(O=t==null?void 0:t.getGestures())===null||O===void 0||O.off("start",c),(m=t==null?void 0:t.getContainer())===null||m===void 0||m.classList.remove("has-thumbs"),t=void 0,e==null||e.destroy(),e=void 0,i==null||i.remove(),i=void 0},getContainer:function(){return i},isEnabled:function(){return g()}}};/*! License details at fancyapps.com/license */const Je={iframeAttr:{allow:"autoplay; fullscreen",scrolling:"auto",credentialless:""}},Mn=()=>{let t;function e(s,u){let d=u.src;if(!At(d))return;let g=u.type;if(!g){if(g||(d.charAt(0)==="#"?g="inline":d.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.((a)?png|avif|gif|jp(g|eg)|pjp(eg)?|jfif|svg|webp|bmp|ico|tif(f)?)((\?|#).*)?$)/i)?g="image":d.match(/\.(pdf)((\?|#).*)?$/i)?g="pdf":d.match(/\.(html|php)((\?|#).*)?$/i)&&(g="iframe")),!g){const M=d.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:(?:(?:maps\/(?:place\/(?:.*)\/)?\@(.*),(\d+.?\d+?)z))|(?:\?ll=))(.*)?/i);M&&(d=`https://maps.google.${M[1]}/?ll=${(M[2]?M[2]+"&z="+Math.floor(parseFloat(M[3]))+(M[4]?M[4].replace(/^\//,"&"):""):M[4]+"").replace(/\?/,"&")}&output=${M[4]&&M[4].indexOf("layer=c")>0?"svembed":"embed"}`,g="gmap")}if(!g){const M=d.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:maps\/search\/)(.*)/i);M&&(d=`https://maps.google.${M[1]}/maps?q=${M[2].replace("query=","q=").replace("api=1","")}&output=embed`,g="gmap")}u.src=d,u.type=g}}function i(s,u){u.type!=="iframe"&&u.type!=="pdf"&&u.type!=="gmap"||function(d){if(!t||!d.el||!d.src)return;const g=document.createElement("iframe");g.classList.add("f-iframe");for(const[S,w]of Object.entries(function(){const h=t==null?void 0:t.getOptions().Html;return kt(h)?Object.assign(Object.assign({},Je),h):Je}().iframeAttr||{}))g.setAttribute(S,w);g.onerror=()=>{t&&t.getState()===1&&t.showError(d,"{{IFRAME_ERROR}}")},g.src=d.src;const M=document.createElement("div");if(M.classList.add("f-html"),M.append(g),d.width){let S=`${d.width}`;S.match(/^\d+$/)&&(S+="px"),M.style.maxWidth=`${S}`}if(d.height){let S=`${d.height}`;S.match(/^\d+$/)&&(S+="px"),M.style.maxHeight=`${S}`}if(d.aspectRatio){const S=d.el.getBoundingClientRect();M.style.aspectRatio=`${d.aspectRatio}`,M.style[S.width>S.height?"width":"height"]="auto",M.style[S.width>S.height?"maxWidth":"maxHeight"]="none"}d.contentEl=g,d.htmlEl=M,d.el.classList.add("has-html"),d.el.classList.add("has-iframe"),d.el.classList.add(`has-${d.type}`),d.el.prepend(M),t.emit("contentReady",d)}(u)}function n(s,u){var d,g;u.type!=="iframe"&&u.type!=="pdf"&&u.type!=="gmap"||(t==null||t.hideError(u),(d=u.contentEl)===null||d===void 0||d.remove(),u.contentEl=void 0,(g=u.htmlEl)===null||g===void 0||g.remove(),u.htmlEl=void 0)}return{init:function(s){t=s,t.on("addSlide",e),t.on("attachSlideEl",i),t.on("detachSlideEl",n)},destroy:function(){t==null||t.off("addSlide",e),t==null||t.off("attachSlideEl",i),t==null||t.off("detachSlideEl",n),t=void 0}}};/*! License details at fancyapps.com/license */const Ke=(t,e={})=>{const i=new URL(t),n=new URLSearchParams(i.search),s=new URLSearchParams;for(const[g,M]of[...n,...Object.entries(e)]){let S=M+"";if(g==="t"){let w=S.match(/((\d*)m)?(\d*)s?/);w&&s.set("start",60*parseInt(w[2]||"0")+parseInt(w[3]||"0")+"")}else s.set(g,S)}let u=s+"",d=t.match(/#t=((.*)?\d+s)/);return d&&(u+=`#t=${d[1]}`),u},Qe={autoplay:!1,html5videoTpl:`<video class="f-html5video" playsinline controls controlsList="nodownload" poster="{{poster}}">
    <source src="{{src}}" type="{{format}}" />Sorry, your browser doesn't support embedded videos.</video>`,iframeAttr:{allow:"autoplay; fullscreen",scrolling:"auto",credentialless:""},vimeo:{byline:1,color:"00adef",controls:1,dnt:1,muted:0},youtube:{controls:1,enablejsapi:1,nocookie:1,rel:0,fs:1}},Ln=()=>{let t,e=!1;function i(){const c=t==null?void 0:t.getOptions().Video;return kt(c)?Object.assign(Object.assign({},Qe),c):Qe}function n(){var c;return(c=t==null?void 0:t.getPage())===null||c===void 0?void 0:c.slides[0]}const s=c=>{var a;try{let o=JSON.parse(c.data);if(c.origin==="https://player.vimeo.com"){if(o.event==="ready")for(let L of Array.from(((a=t==null?void 0:t.getContainer())===null||a===void 0?void 0:a.getElementsByClassName("f-iframe"))||[]))L instanceof HTMLIFrameElement&&L.contentWindow===c.source&&(L.dataset.ready="true")}else if(c.origin.match(/^https:\/\/(www.)?youtube(-nocookie)?.com$/)&&o.event==="onReady"){const L=document.getElementById(o.id);L&&(L.dataset.ready="true")}}catch{}};function u(c,a){const o=a.src;if(!At(o))return;let L=a.type;if(!L||L==="html5video"){const v=o.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i);v&&(L="html5video",a.html5videoFormat=a.html5videoFormat||"video/"+(v[1]==="ogv"?"ogg":v[1]))}if(!L||L==="youtube"){const v=o.match(/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(?:watch\?(?:.*&)?v=|v\/|u\/|shorts\/|embed\/?)?(videoseries\?list=(?:.*)|[\w-]{11}|\?listType=(?:.*)&list=(?:.*))(?:.*)/i);if(v){const O=Object.assign(Object.assign({},i().youtube),a.youtube||{}),m=`www.youtube${O.nocookie?"-nocookie":""}.com`,C=Ke(o,O),T=encodeURIComponent(v[2]);a.videoId=T,a.src=`https://${m}/embed/${T}?${C}`,a.thumb=a.thumb||`https://i.ytimg.com/vi/${T}/mqdefault.jpg`,L="youtube"}}if(!L||L==="vimeo"){const v=o.match(/^.+vimeo.com\/(?:\/)?([\d]+)((\/|\?h=)([a-z0-9]+))?(.*)?/);if(v){const O=Object.assign(Object.assign({},i().vimeo),a.vimeo||{}),m=Ke(o,O),C=encodeURIComponent(v[1]),T=v[4]||"";a.videoId=C,a.src=`https://player.vimeo.com/video/${C}?${T?`h=${T}${m?"&":""}`:""}${m}`,L="vimeo"}}a.type=L}function d(c,a){a.type==="html5video"&&function(o){if(!t||!o.el||!o.src)return;const{el:L,src:v}=o;if(!L||!v)return;const O=o.html5videoTpl||i().html5videoTpl,m=o.html5videoFormat||i().html5videoFormat;if(!O)return;const C=o.poster||(o.thumb&&At(o.thumb)?o.thumb:""),T=Jt(O.replace(/\{\{src\}\}/gi,v+"").replace(/\{\{format\}\}/gi,m||"").replace(/\{\{poster\}\}/gi,C+""));if(!T)return;const H=document.createElement("div");H.classList.add("f-html"),H.append(T),o.contentEl=T,o.htmlEl=H,L.classList.add(`has-${o.type}`),L.prepend(H),w(o),t.emit("contentReady",o)}(a),a.type!=="youtube"&&a.type!=="vimeo"||function(o){if(!t||!o.el||!o.src)return;const L=document.createElement("iframe");L.classList.add("f-iframe"),L.setAttribute("id",`f-iframe_${o.videoId}`);for(const[O,m]of Object.entries(i().iframeAttr||{}))L.setAttribute(O,m);L.onload=()=>{var O;t&&t.getState()===1&&o.type==="youtube"&&((O=L.contentWindow)===null||O===void 0||O.postMessage(JSON.stringify({event:"listening",id:L.getAttribute("id")}),"*"))},L.onerror=()=>{t&&t.getState()===1&&(t==null||t.showError(o,"{{IFRAME_ERROR}}"))},L.src=o.src;const v=document.createElement("div");v.classList.add("f-html"),v.append(L),o.contentEl=L,o.htmlEl=v,o.el.classList.add("has-html"),o.el.classList.add("has-iframe"),o.el.classList.add(`has-${o.type}`),o.el.prepend(v),w(o),t.emit("contentReady",o)}(a)}function g(c,a){var o,L;a.type!=="html5video"&&a.type!=="youtube"&&a.type!=="vimeo"||((o=a.contentEl)===null||o===void 0||o.remove(),a.contentEl=void 0,(L=a.htmlEl)===null||L===void 0||L.remove(),a.htmlEl=void 0),a.poller&&clearTimeout(a.poller)}function M(){e=!1}function S(){if(e)return;e=!0;const c=n();(c&&c.autoplay!==void 0?c.autoplay:i().autoplay)&&(function(){var a;const o=n(),L=o==null?void 0:o.el;if(L&&(o==null?void 0:o.type)==="html5video")try{const O=L.querySelector("video");if(O){const m=O.play();m!==void 0&&m.then(()=>{}).catch(C=>{O.muted=!0,O.play()})}}catch{}const v=o==null?void 0:o.htmlEl;v instanceof HTMLIFrameElement&&((a=v.contentWindow)===null||a===void 0||a.postMessage('{"event":"command","func":"stopVideo","args":""}',"*"))}(),function(){const a=n(),o=a==null?void 0:a.type;if(!(a!=null&&a.el)||o!=="youtube"&&o!=="vimeo")return;const L=()=>{if(a.contentEl&&a.contentEl instanceof HTMLIFrameElement&&a.contentEl.contentWindow){let v;if(a.contentEl.dataset.ready==="true")return v=a.type==="youtube"?{event:"command",func:"playVideo"}:{method:"play",value:"true"},v&&a.contentEl.contentWindow.postMessage(JSON.stringify(v),"*"),void(a.poller=void 0);a.type==="youtube"&&(v={event:"listening",id:a.contentEl.getAttribute("id")},a.contentEl.contentWindow.postMessage(JSON.stringify(v),"*"))}a.poller=setTimeout(L,250)};L()}())}function w(c){const a=c==null?void 0:c.el,o=c==null?void 0:c.htmlEl;if(!c||!o)return;o.style.aspectRatio="",o.style.width="",o.style.height="",o.style.maxWidth="",o.style.maxHeight="",o.offsetHeight;const L=o.getBoundingClientRect(),v=L.width||1,O=L.height||1;if(c.width){let D=`${c.width}`;D.match(/^\d+$/)&&(D+="px"),o.style.maxWidth=`${D}`}if(c.height){let D=`${c.height}`;D.match(/^\d+$/)&&(D+="px"),o.style.maxHeight=`${D}`}if(!a||!c.aspectRatio)return;const m=c.aspectRatio.split("/"),C=parseFloat(m[0].trim()),T=m[1]?parseFloat(m[1].trim()):0,H=(C&&T?C/T:C)<v/O;o.style.aspectRatio=`${c.aspectRatio}`,o.style.width=H?"auto":"",o.style.height=H?"":"auto"}function h(){w(n())}return{init:function(c){t=c,t.on("addSlide",u),t.on("attachSlideEl",d),t.on("detachSlideEl",g),t.on("ready",S),t.on("change",M),t.on("settle",S),t.on("refresh",h),window.addEventListener("message",s)},destroy:function(){t==null||t.off("addSlide",u),t==null||t.off("attachSlideEl",d),t==null||t.off("detachSlideEl",g),t==null||t.off("ready",S),t==null||t.off("change",M),t==null||t.off("settle",S),t==null||t.off("refresh",h),window.removeEventListener("message",s),t=void 0}}};/*! License details at fancyapps.com/license */const tn={autoStart:!1,btnTpl:'<button data-fullscreen-action="toggle" class="f-button" title="{{TOGGLE_FULLSCREEN}}"><svg><g><path d="M8 3H5a2 2 0 0 0-2 2v3M21 8V5a2 2 0 0 0-2-2h-3M3 16v3a2 2 0 0 0 2 2h3M16 21h3a2 2 0 0 0 2-2v-3"/></g><g><path d="M15 19v-2a2 2 0 0 1 2-2h2M15 5v2a2 2 0 0 0 2 2h2M5 15h2a2 2 0 0 1 2 2v2M5 9h2a2 2 0 0 0 2-2V5"/></g></svg></button>'},en="in-fullscreen-mode",On=()=>{let t;function e(h){const c=t==null?void 0:t.getOptions().Fullscreen;let a=(kt(c)?Object.assign(Object.assign({},tn),c):tn)[h];return a&&typeof a=="function"&&t?a(t):a}function i(){var h;(h=t==null?void 0:t.getPlugins().Toolbar)===null||h===void 0||h.add("fullscreen",{tpl:e("btnTpl")})}function n(){if(e("autoStart")){const h=d();h&&M(h)}}function s(h,c){const a=c.target;a&&!c.defaultPrevented&&a.dataset.fullscreenAction==="toggle"&&w()}function u(h){d()&&h.key==="Escape"&&!h.defaultPrevented&&w()}function d(){return e("el")||(t==null?void 0:t.getContainer())||void 0}function g(){const h=document;return h.fullscreenEnabled?!!h.fullscreenElement:!!h.webkitFullscreenEnabled&&!!h.webkitFullscreenElement}function M(h){const c=document;let a;return h||(h=c.documentElement),c.fullscreenEnabled?a=h.requestFullscreen():c.webkitFullscreenEnabled&&(a=h.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)),a&&a.then(()=>{h.classList.add(en)}),a}function S(){const h=document;let c;return h.fullscreenEnabled?c=h.fullscreenElement&&h.exitFullscreen():h.webkitFullscreenEnabled&&(c=h.webkitFullscreenElement&&h.webkitExitFullscreen()),c&&c.then(()=>{var a;(a=d())===null||a===void 0||a.classList.remove(en)}),c}function w(){const h=d();h&&(g()?S():M(h))}return{init:function(h){t=h,t.on("initPlugins",i),t.on("ready",n),t.on("click",s)},destroy:function(){t==null||t.off("initPlugins",i),t==null||t.off("ready",n),t==null||t.off("click",s),document.removeEventListener("keydown",u,!0)},exit:S,inFullscreen:g,request:M,toggle:w}};/*! License details at fancyapps.com/license */let Nt,ve=!1,nn=!1,ae=!1,$e=!1;const ye=()=>{const t=new URL(document.URL).hash,e=t.slice(1).split("-"),i=e[e.length-1],n=i&&/^\+?\d+$/.test(i)&&parseInt(e.pop()||"1",10)||1;return{hash:t,slug:e.join("-"),index:n}},Re=()=>{if(!Nt||Nt.getInstance())return;const{slug:t,index:e}=ye();if(!t)return;let i=document.querySelector(`[data-slug="${t}"]`);if(i&&i.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})),!Nt||Nt.getInstance())return;const n=document.querySelectorAll(`[data-fancybox="${t}"]`);n.length&&(i=n[e-1],i&&i.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})))},Sn=()=>{var t,e,i;if(!Nt||ae)return;const n=Nt==null?void 0:Nt.getInstance();if((n==null?void 0:n.getOptions().Hash)===!1)return;const{slug:s,index:u}=ye(),d=((t=n==null?void 0:n.getSlide())===null||t===void 0?void 0:t.fancybox)||((e=n==null?void 0:n.getSlide())===null||e===void 0?void 0:e.slug)||void 0;n&&d&&(s===d?(i=n.getCarousel())===null||i===void 0||i.goTo(u-1):($e=!0,n.close(),$e=!1)),Re()},on=()=>{Nt&&setTimeout(()=>{ve=!0,Re(),ve=!1,window.addEventListener("hashchange",Sn,!1)},300)},_e=()=>{let t,e="auto",i="";function n(){if(!(t!=null&&t.isTopMost())||(t==null?void 0:t.getOptions().Hash)===!1)return;const d=t==null?void 0:t.getCarousel();if(!d)return;const{hash:g,slug:M}=ye(),S=t==null?void 0:t.getSlide();if(!S)return;let w=S.fancybox||"",h=parseInt(S.index+"",10)+1;if(!w)return;let c=`#${w}-${h}`;if(g!==c&&(i=g),history.scrollRestoration&&(e=history.scrollRestoration,history.scrollRestoration="manual"),d.on("change",s),!ve)if(w===M)try{window.history.replaceState({},document.title,window.location.pathname+window.location.search+c)}catch{}else try{window.history.pushState({},document.title,window.location.pathname+window.location.search+c),nn=!0}catch{}}function s(){if(!(t!=null&&t.isTopMost()))return;const{slug:d}=ye(),g=t==null?void 0:t.getSlide();if(!g)return;let M=g.fancybox||"",S=`#${M}-${g.index+1}`;if(M===d){ae=!0;try{window.history.replaceState({},document.title,window.location.pathname+window.location.search+S)}catch{}ae=!1}}function u(){if(!(t!=null&&t.isTopMost())||(t==null?void 0:t.getOptions().Hash)===!1)return;const d=t==null?void 0:t.getSlide();if(d&&d.fancybox&&!$e){ae=!0;try{!nn||ve||function(){if(window.parent===window)return!1;try{var g=window.frameElement}catch{g=null}return g===null?location.protocol==="data:":g.hasAttribute("sandbox")}()?window.history.replaceState({},document.title,window.location.pathname+window.location.search+i):window.history.back()}catch{}ae=!1}}return{init:function(d){t=d,t.on("ready",n),t.on("close",u)},destroy:function(){t==null||t.off("ready",n),t==null||t.off("close",u);const d=t==null?void 0:t.getCarousel();d&&d.off("change",s),t=void 0,history.scrollRestoration&&e&&(history.scrollRestoration=e)}}};_e.startFromUrl=Re,_e.setup=function(t){Nt||(Nt=t,ln()&&(/complete|interactive|loaded/.test(document.readyState)?on():document.addEventListener("DOMContentLoaded",on)))};/*! License details at fancyapps.com/license */const Tn=Object.assign(Object.assign({},Ce),{CLOSE:"Close",NEXT:"Next",PREV:"Previous",MODAL:"You can close this modal content with the ESC key",ELEMENT_NOT_FOUND:"HTML Element Not Found",IFRAME_ERROR:"Error Loading Page"});/*! License details at fancyapps.com/license */const gn='<button class="f-button" title="{{CLOSE}}" data-fancybox-close><svg><path d="M19.286 4.714 4.714 19.286M4.714 4.714l14.572 14.572" /></svg></button>';fn().add("close",{tpl:gn});const pn=t=>{t&&t.dispatchEvent(new CustomEvent("animationend",{bubbles:!1,cancelable:!0,currentTarget:t}))},sn=(t=null,e="",i)=>{if(!t||!t.parentElement||!e)return void(i&&i());pn(t);const n=s=>{s.target===t&&t.dataset.animationName&&(t.removeEventListener("animationend",n),delete t.dataset.animationName,i&&i(),t.classList.remove(e))};t.dataset.animationName=e,t.addEventListener("animationend",n),yt(t,e)};var _t;(function(t){t[t.Init=0]="Init",t[t.Ready=1]="Ready",t[t.Closing=2]="Closing",t[t.Destroyed=3]="Destroyed"})(_t||(_t={}));const re={backdropClick:"close",Carousel:{},closeButton:"auto",closeExisting:!1,delegateEl:void 0,dragToClose:!0,fadeEffect:!0,groupAll:!1,groupAttr:"data-fancybox",hideClass:"f-fadeOut",hideScrollbar:!0,id:void 0,idle:!1,keyboard:{Escape:"close",Delete:"close",Backspace:"close",PageUp:"next",PageDown:"prev",ArrowUp:"prev",ArrowDown:"next",ArrowRight:"next",ArrowLeft:"prev"},l10n:Tn,mainClass:"",mainStyle:{},mainTpl:`<dialog class="fancybox__dialog">
    <div class="fancybox__container" tabindex="0" aria-label="{{MODAL}}">
      <div class="fancybox__backdrop"></div>
      <div class="fancybox__carousel"></div>
    </div>
  </dialog>`,on:{},parentEl:void 0,placeFocusBack:!0,showClass:"f-zoomInUp",startIndex:0,sync:void 0,theme:"dark",triggerEl:void 0,triggerEvent:void 0,zoomEffect:!0},qt=new Map;let Pn=0;const $n=()=>{let t,e,i,n,s,u=_t.Init,d=Object.assign({},re),g=-1,M={},S=[],w=!1,h=!0;function c(b,...F){let I=d[b];return I&&typeof I=="function"?I(Lt,...F):I}function a(b,F=[]){const I=c("l10n")||{};b=String(b).replace(/\{\{(\w+)\}\}/g,(A,r)=>I[r]||A);for(let A=0;A<F.length;A++)b=b.split(F[A][0]).join(F[A][1]);return b=b.replace(/\{\{(.*?)\}\}/g,(A,r)=>r)}const o=new Map;function L(b,...F){const I=o.get(b)||[];for(const[A,r]of Object.entries(d.on||{}))(A===b||A.split(" ").indexOf(b)>-1)&&I.push(r);for(const A of I)A&&typeof A=="function"&&A(Lt,...F);b!=="*"&&L("*",b,...F)}function v(b=[],F={}){u!==_t.Init&&(Lt.destroy(),u=_t.Init),d=Ht({},re,F),g=c("id")||"fancybox-"+ ++Pn;const I=qt.get(g);if(I&&I.destroy(),qt.set(g,Lt),L("init"),function(){for(const[A,r]of Object.entries(Object.assign(Object.assign({},Mt.Plugins),d.plugins||{})))if(A&&!M[A]&&r instanceof Function){const f=r();f.init(Lt),M[A]=f}L("initPlugins")}(),function(A=[]){L("initSlides",A),S=[...A]}(b),function(){const A=c("parentEl")||document.body;if(!(A&&A instanceof HTMLElement))return;const r=a(c("mainTpl")||"");if(t=Jt(r)||void 0,!(t&&t instanceof HTMLDialogElement)||(e=t.querySelector(".fancybox__container"),!(e&&e instanceof HTMLElement)))return;const f=c("mainClass");f&&yt(e,f);const x=c("mainStyle");if(x&&kt(x))for(const[P,U]of Object.entries(x))e.style.setProperty(P,U);const E=c("theme"),R=E==="auto"?window.matchMedia("(prefers-color-scheme:light)").matches:E==="light";e.setAttribute("theme",R?"light":"dark"),t.setAttribute("id",`${g}`),t.addEventListener("keydown",P=>{P.key==="Escape"&&P.preventDefault()}),A.append(t),qt.size===1&&(c("hideScrollbar")&&Ne(!0),document.documentElement.classList.add("with-fancybox")),t.showModal(),L("initLayout")}(),function(){if(i=(t==null?void 0:t.querySelector(".fancybox__carousel"))||void 0,!i)return;const A=Ht({Autoplay:{autoStart:!1,pauseOnHover:!1,progressbarParentEl:r=>{const f=r.getContainer();return(f==null?void 0:f.querySelector(".f-carousel__toolbar [data-autoplay-action]"))||f}},Fullscreen:{el:e},Toolbar:{absolute:!0,display:{left:["counter"],right:["toggleFull","autoplay","fullscreen","thumbs","close"]}},Video:{autoplay:!0},Zoomable:{Panzoom:{event:c("triggerEvent")}},classes:{container:"fancybox__carousel",viewport:"fancybox__viewport",slide:"fancybox__slide"},spinnerTpl:'<div class="f-spinner" data-fancybox-close></div>',dragFree:!1,slidesPerPage:1,plugins:{Sync:cn,Arrows:wn,Lazyload:un,Zoomable:bn,Html:Mn,Video:Ln,Autoplay:En,Fullscreen:On,Thumbs:xn,Toolbar:fn}},c("Carousel")||{},{slides:S,enabled:!0,initialPage:c("startIndex")||0,l10n:c("l10n")});n=me(i,A),L("initCarousel",n),n.on("*",(r,f,...x)=>{L(`Carousel.${f}`,r,...x)}),n==null||n.on("addSlide",T),n.on("attachSlideEl",H),n.on("detachSlideEl",D),n.on("contentReady",k),n.on("ready",J),n.on("change",K),n.on("settle",wt),n.init()}(),c("closeExisting"))for(const[A,r]of qt.entries())A!==g&&r.close();c("fadeEffect")&&e&&(setTimeout(()=>{e==null||e.classList.remove("is-revealing")},500),yt(e,"is-revealing")),e==null||e.classList.add("is-ready"),u=_t.Ready,L("ready")}function O(b){if(!Z())return;if(u!==_t.Ready)return b.preventDefault(),void b.stopPropagation();if(b.defaultPrevented||!ce.isClickAllowed())return;const F=b.composedPath()[0];F.closest(".fancybox__carousel")&&F.classList.contains("fancybox__slide")&&m(b)}function m(b){if(b.composedPath()[0].closest("[data-fancybox-close]"))return void $t(b);L("backdropClick",b),!b.defaultPrevented&&c("backdropClick")&&$t(b)}function C(b){if(!Z()||u!==_t.Ready||(lt(),b.defaultPrevented))return;const F=b.composedPath()[0],I=!!F.closest("[data-fancybox-close]"),A=F.classList.contains("fancybox__backdrop");(I||A)&&m(b)}function T(b,F){var I;(I=F.el)===null||I===void 0||I.addEventListener("click",O)}function H(b,F){V(F),function(I){if(!n||!I||!I.el||I.type!=="inline"&&I.type!=="clone")return;let A=null;if(At(I.src)){const r=I.src.split("#",2).pop();A=r?document.getElementById(r):null}if(A){if(yt(A,"f-html"),I.type==="clone"||A.closest(".fancybox__carousel")){A=A.cloneNode(!0);const r=A.dataset.animationName;r&&(A.classList.remove(r),delete A.dataset.animationName);let f=A.getAttribute("id");f=f?`${f}--clone`:`clone-${g}-${I.index}`,A.setAttribute("id",f)}else if(A.parentNode){const r=document.createElement("div");r.inert=!0,A.parentNode.insertBefore(r,A),I.placeholderEl=r}I.htmlEl=A,yt(I.el,"has-html"),I.el.prepend(A),A.classList.remove("hidden"),A.style.display==="none"&&(A.style.display=""),getComputedStyle(A).getPropertyValue("display")==="none"&&(A.style.display=A.dataset.display||"flex"),n==null||n.emit("contentReady",I)}else n==null||n.showError(I,"{{ELEMENT_NOT_FOUND}}")}(F)}function D(b,F){(function(I){I.closeButtonEl&&(I.closeButtonEl.remove(),I.closeButtonEl=void 0)})(F),function(I){if(I.type!=="inline")return;const A=I.htmlEl,r=I.placeholderEl;A&&(getComputedStyle(A).getPropertyValue("display")!=="none"&&(A.style.display="none"),A.offsetHeight),r&&(A&&r.parentNode&&r.parentNode.insertBefore(A,r),r.remove()),I.htmlEl=void 0,I.placeholderEl=void 0}(F)}function V(b){var F;const{el:I,htmlEl:A,closeButtonEl:r}=b;if(!I||!A||r)return;let f=c("closeButton");if(f==="auto"&&(f=((F=n==null?void 0:n.getPlugins().Toolbar)===null||F===void 0?void 0:F.isEnabled())!==!0),f){const x=Jt(a(gn));x&&(b.closeButtonEl=A.insertAdjacentElement("afterbegin",x),I.classList.add("has-close-btn"))}}function K(){h=!1,e&&n&&e.classList.remove("is-revealing");const b=c("sync");if(n&&b){const F=b.getPageIndex(n.getPageIndex())||0;b.goTo(F,{transition:!1})}}function J(){var b;if(u!==_t.Ready)return;ct(rt()),function(){if(!c("dragToClose")||!n||!n.getViewport())return;const I=n.getGestures();if(!I)return;let A=0,r=0,f=Kt().on("step",x=>{A=x.y;const E=n==null?void 0:n.getViewport();if(e&&E){const R=Pe(Math.abs(A),0,.5*E.getBoundingClientRect().height,1,.5);e.style.setProperty("--f-drag-opacity",R+""),e.style.setProperty("--f-drag-offset",A+"px")}}).on("end",()=>{if(!A){e&&e.style.removeProperty("--f-opacity");const x=n==null?void 0:n.getViewport();x&&(x.style.transform="")}});I.on("start",function(){f.pause()}).on("panstart",x=>{var E;const R=x.srcEvent.target;R&&!le(R)&&((E=n==null?void 0:n.getViewport())===null||E===void 0||E.classList.add("is-dragging"))}).on("pan",function(x){const E=x.srcEvent.target;E&&le(E)||n!=null&&n.getViewport()&&x.axis==="y"&&(r+=x.deltaY,f.spring({clamp:!0,mass:1,tension:860,friction:17,restDelta:.01,restSpeed:.01}).from({y:A}).to({y:r}).start())}).on("end",function(x){f.pause(),x.axis==="y"&&Math.abs(x.velocityY)>5&&Math.abs(r)>0?$t(x.srcEvent,"f-throwOut"+(x.velocityY>0?"Down":"Up")):r!==0&&(r=0,f.spring({clamp:!0,mass:1,tension:140,friction:25,restDelta:.1,restSpeed:.1,maxSpeed:1/0}).from({y:A}).to({y:r}).start())})}(),document.body.addEventListener("click",C),document.body.addEventListener("keydown",ut,{passive:!1,capture:!0}),B();const F=c("sync");F&&((b=F.getTween())===null||b===void 0||b.start())}function wt(){n!=null&&n.canGoNext()?B():Et()}function ct(b){if(!(h&&n&&n.getState()===1&&b&&b.index===n.getOptions().initialPage&&b.el&&b.el.parentElement))return;const F=b.panzoomRef,I=F==null?void 0:F.getTween();if(F&&b.state!==1)return;h=!1;const A=c("zoomEffect")?it(b):void 0;if(F&&I&&A){const f=F.getScale("base")||1,{x,y:E}=F.getMousemovePos(f)||{x:0,y:0};return void I.spring({tension:225,friction:25,restDelta:.001,restSpeed:.001,maxSpeed:1/0}).from(A).to({x,y:E,scale:f}).start()}const r=(F==null?void 0:F.getWrapper())||b.htmlEl;r&&sn(r,c("showClass",b))}function k(b,F){V(F),ct(F)}function W(){lt()}function ut(b){if(!Z()||u!==_t.Ready)return;const F=b.key,I=c("keyboard");if(!I||b.ctrlKey||b.altKey||b.shiftKey)return;const A=b.composedPath()[0];if(!ne(A)||F!=="Escape"&&(f=>{const x=["input","textarea","select","option","video","iframe","[contenteditable]","[data-selectable]","[data-draggable]"].join(",");return f.matches(x)||f.closest(x)})(A)||(L("keydown",b),b.defaultPrevented))return;const r=I[F];if(r)switch(r){case"close":$t(b);break;case"next":b.preventDefault(),n==null||n.next();break;case"prev":b.preventDefault(),n==null||n.prev()}}function Z(){var b;return((b=Mt.getInstance())===null||b===void 0?void 0:b.getId())===g}function rt(){var b;return(b=n==null?void 0:n.getPage())===null||b===void 0?void 0:b.slides[0]}function bt(){const b=rt();return b?b.triggerEl||c("triggerEl"):void 0}function it(b){var F,I;const A=(I=(F=b.panzoomRef)===null||F===void 0?void 0:F.getWrapper())===null||I===void 0?void 0:I.getBoundingClientRect();if(!A||!A.width||!A.height)return;const r=b.thumbEl;if(!r)return;const f=r.getBoundingClientRect();if(!(!f||!f.width||!f.height)&&function(x){const E=x.getBoundingClientRect(),R=x.closest("[style]"),P=R==null?void 0:R.parentElement;if(R&&R.style.transform&&P){const et=P.getBoundingClientRect();if(E.left<et.left||E.left>et.left+et.width-E.width||E.top<et.top||E.top>et.top+et.height-E.height)return!1}const U=Math.max(document.documentElement.clientHeight,window.innerHeight),G=Math.max(document.documentElement.clientWidth,window.innerWidth);return!(E.bottom<0||E.top-U>=0)&&!(E.right<0||E.left-G>=0)}(r)&&!(Math.abs(A.width/A.height-f.width/f.height)>.1))return{x:f.left+.5*f.width-(A.left+.5*A.width),y:f.top+.5*f.height-(A.top+.5*A.height),scale:f.width/A.width}}function N(){s&&clearTimeout(s),s=void 0,document.removeEventListener("mousemove",W)}function B(){if(w||s)return;const b=c("idle");b&&(s=setTimeout(Q,b))}function Q(){e&&(N(),yt(e,"is-idle"),document.addEventListener("mousemove",W),w=!0)}function lt(){w&&(Et(),B())}function Et(){N(),e==null||e.classList.remove("is-idle"),w=!1}function $t(b,F){var I,A,r,f,x,E;if(u===_t.Closing||u===_t.Destroyed)return;if(u=_t.Closing,N(),b){if(b.defaultPrevented)return;b.cancelable&&b.preventDefault(),b.stopPropagation(),b.stopImmediatePropagation()}if(n){(I=n.getGestures())===null||I===void 0||I.destroy(),(A=n.getTween())===null||A===void 0||A.pause();const P=rt(),U=P==null?void 0:P.panzoomRef;P&&U&&Ht(U.getOptions(),{clickAction:!1,wheelAction:!1,bounds:!1,minScale:0,maxScale:1/0});for(const G of n.getSlides())(f=(r=G.panzoomRef)===null||r===void 0?void 0:r.getGestures())===null||f===void 0||f.destroy(),(E=(x=G.panzoomRef)===null||x===void 0?void 0:x.getTween())===null||E===void 0||E.pause()}const R=n==null?void 0:n.getPlugins().fullscreen;R&&R.inFullscreen()?Promise.resolve(R.exit()).then(()=>{setTimeout(()=>{zt(b,F)},150)}):zt(b,F)}function zt(b,F){var I,A,r,f,x;if(u!==_t.Closing)return;if(L("close",b),c("placeFocusBack")){const ot=bt();!ot||(x=ot.getBoundingClientRect()).bottom>0&&x.right>0&&x.left<(window.innerWidth||document.documentElement.clientWidth)&&x.top<(window.innerHeight||document.documentElement.clientHeight)||ot.scrollIntoView({behavior:"instant",block:"center",inline:"center"})}c("fadeEffect")&&(e==null||e.classList.remove("is-ready"),e==null||e.classList.add("is-hiding")),e==null||e.classList.add("is-closing");const E=rt(),R=E==null?void 0:E.panzoomRef,P=(I=E==null?void 0:E.panzoomRef)===null||I===void 0?void 0:I.getTween(),U=F||c("hideClass");let G=!1,et=!1;if(n&&E&&R&&P){let ot;c("zoomEffect")&&(((r=(A=n.getTween())===null||A===void 0?void 0:A.getCurrentVelocities())===null||r===void 0?void 0:r.pos)||0)<700&&E.state===1&&(ot=it(E)),ot&&(G=!0,n.on("refresh",()=>{const at=it(E);at&&P.to(Object.assign(Object.assign({},Dt),at))}),P.easing(Kt.Easings.EaseOut).duration(350).from(Object.assign({},R.getTransform())).to(Object.assign(Object.assign({},Dt),ot)).start())}const tt=(E==null?void 0:E.htmlEl)||((f=E==null?void 0:E.panzoomRef)===null||f===void 0?void 0:f.getWrapper());tt&&pn(tt),!G&&U&&tt&&(et=!0,sn(tt,U,()=>{It()})),G||et?setTimeout(()=>{It()},350):It()}function It(){var b,F,I,A,r;if(u===_t.Destroyed)return;u=_t.Destroyed,document.body.removeEventListener("click",C),document.body.removeEventListener("keydown",ut,{passive:!1,capture:!0});for(const x of Object.values(M))x==null||x.destroy();M={};const f=bt();if(L("destroy"),(F=(b=c("sync"))===null||b===void 0?void 0:b.getPlugins().Autoplay)===null||F===void 0||F.resume(),(A=(I=c("sync"))===null||I===void 0?void 0:I.getPlugins().Autoscroll)===null||A===void 0||A.resume(),t instanceof HTMLDialogElement&&t.close(),(r=n==null?void 0:n.getContainer())===null||r===void 0||r.classList.remove("is-idle"),n==null||n.destroy(),t==null||t.remove(),t=void 0,e=void 0,n=void 0,qt.delete(g),!qt.size&&(Ne(!1),document.documentElement.classList.remove("with-fancybox"),c("placeFocusBack")))try{f==null||f.focus({preventScroll:!0})}catch{}}const Lt={close:$t,destroy:It,getCarousel:function(){return n},getContainer:function(){return e},getId:function(){return g},getOptions:function(){return d},getPlugins:function(){return M},getSlide:function(){return rt()},getState:function(){return u},init:function(b=[],F={}){return v(b,F),Lt},isCurrentSlide:function(b){const F=rt();return!(!b||!F)&&F.index===b.index},isTopMost:function(){return Z()},off:function(b,F){return o.has(b)&&o.set(b,o.get(b).filter(I=>I!==F)),Lt},on:function(b,F){return o.set(b,[...o.get(b)||[],F]),Lt},toggleIdle(b){console.log(`[F] toggleIdle(); force: ${b}`),(w||b===!0)&&Q(),w&&b!==!1||Et()}};return Lt},Mt={Plugins:{Hash:_e},version:"6.0.5",openers:new Map,bind:function(t,e,i){if(!ln())return;let n=document.body,s="[data-fancybox]",u={};if(At(t)?(n=document.body,s=t,typeof e=="object"&&(u=e||{})):t instanceof Element&&(n=t,At(e)&&(s=e),typeof i=="object"&&(u=i||{})),!(n&&n instanceof Element&&s))return!1;const d=Mt.openers.get(n)||new Map;if(d.set(s,u),Mt.openers.set(n,d),d.size===1){n.addEventListener("click",Mt.fromEvent);for(const g of Object.values(Mt.Plugins)){const M=g.setup;typeof M=="function"&&M(Mt)}}return!0},close:function(t=!0,...e){if(t)for(const i of qt.values())i.close(...e);else{const i=Mt.getInstance();i&&i.close(...e)}},destroy:function(){let t;for(;t=Mt.getInstance();)t.destroy();for(const e of Mt.openers.keys())e.removeEventListener("click",Mt.fromEvent);Mt.openers.clear()},fromEvent:function(t){var e,i,n;if(t.defaultPrevented||t.button&&t.button!==0||t.ctrlKey||t.metaKey||t.shiftKey)return;let s=t.composedPath()[0];if(s.closest(".fancybox__container.is-hiding"))return t.preventDefault(),void t.stopPropagation();const u=s.closest("[data-fancybox-delegate]")||void 0;if(u){const v=u.dataset.fancyboxDelegate||"",O=document.querySelectorAll(`[data-fancybox="${v}"]`);s=O[parseInt(u.dataset.fancyboxIndex||"",10)||0]||O[0]}if(!(s&&s instanceof Element))return;let d,g,M;for(const v of Array.from(Mt.openers.keys()).reverse()){const O=Mt.openers.get(v);if(O&&v.contains(s))for(const m of Array.from(O.keys()).reverse()){let C=null;try{C=s.closest(m)}catch{}if(C){s=C,d=v,g=m,M=O.get(m);break}}}if(!(d&&g&&M))return;t.preventDefault();const S=Ht({},re,{triggerEvent:t,triggerEl:s,delegateEl:u},M),w=S.groupAll,h=S.groupAttr,c=h&&s?s.getAttribute(`${h}`):"";let a=[];const o=(e=s.closest(".f-carousel"))===null||e===void 0?void 0:e.carousel;if(o){const v=[];for(const O of o==null?void 0:o.getSlides()){const m=O.el;m&&(m.matches(g)?v.push(m):v.push(...[].slice.call(m.querySelectorAll(g))))}v.length&&(a=[...v],(i=o.getPlugins().Autoplay)===null||i===void 0||i.pause(),(n=o.getPlugins().Autoscroll)===null||n===void 0||n.pause(),S.sync=o)}else(!s||c||w)&&(a=[].slice.call(d.querySelectorAll(g)));if(s&&!w&&(a=c?a.filter(v=>v.getAttribute(`${h}`)===c):[s]),!a.length)return;const L=Mt.getInstance();if(L){const v=L.getOptions().triggerEl;if(v&&a.indexOf(v)>-1)return}return Object.assign({},S.Carousel||{}).rtl&&(a=a.reverse()),s&&(S.startIndex=a.indexOf(s)),Mt.fromNodes(a,S)},fromNodes:function(t,e){e=Ht({},re,e||{});const i=[],n=s=>s instanceof HTMLImageElement?s:s instanceof HTMLElement?s.querySelector("img:not([aria-hidden])"):void 0;for(const s of t){const u=s.dataset||{},d=e.delegateEl&&t.indexOf(s)===e.startIndex?e.delegateEl:void 0,g=n(d)||n(s)||void 0,M=u.src||s.getAttribute("href")||s.getAttribute("currentSrc")||s.getAttribute("src")||void 0,S=u.thumb||u.thumbSrc||(g==null?void 0:g.getAttribute("currentSrc"))||(g==null?void 0:g.getAttribute("src"))||(g==null?void 0:g.dataset.lazySrc)||void 0,w={src:M,alt:u.alt||(g==null?void 0:g.getAttribute("alt"))||void 0,thumbSrc:S,thumbEl:g,triggerEl:s,delegateEl:d};for(const h in u){let c=u[h]+"";c=c!=="false"&&(c==="true"||c),w[h]=c}i.push(w)}return Mt.show(i,e)},fromSelector:function(t,e,i){let n=document.body,s="",u={};if(At(t)?s=t:t instanceof Element&&(n=t,At(e)&&(s=e),typeof i=="object"&&(u=i||{})),!(n&&n instanceof Element&&s))return;const d=Mt.openers.get(n);return d?(u=Ht({},d.get(s)||{},u),u?Mt.fromNodes(Array.from(n.querySelectorAll(s)),u):void 0):void 0},getCarousel:function(){var t;return((t=Mt.getInstance())===null||t===void 0?void 0:t.getCarousel())||void 0},getDefaults:function(){return re},getInstance:function(t){if(t){const e=qt.get(t);return e&&e.getState()!==_t.Destroyed?e:void 0}return Array.from(qt.values()).reverse().find(e=>{if(e.getState()!==_t.Destroyed)return e})||void 0},getSlide:function(){var t;return((t=Mt.getInstance())===null||t===void 0?void 0:t.getSlide())||void 0},show:function(t=[],e={}){return $n().init(t,e)},unbind:function(t,e){let i=document.body,n="";if(At(t)?n=t:t instanceof Element&&(i=t,At(e)&&(n=e)),i){const s=Mt.openers.get(i);s&&n&&s.delete(n),s!=null&&s.size&&n||Mt.openers.delete(i),i.removeEventListener("click",Mt.fromEvent)}}},Qt=mn();function _n(){return{showAdvancedFilters:!1,isActionSheetOpen:!1,selectedPropertyId:null,propertyActions:[],propertyStatuses:[],isLoading:!0,filters:{user_id:"",city_id:"",category_id:"",type_id:"",status_id:"",min_price:"",max_price:"",floor_id:"",orientation_id:"",contract_type_id:"",amenities:[]},currentPage:1,ITEMS_PER_PAGE:5,allPropertiesData:[],allPropertiesPaginationData:null,previousStatus:"",isOwnerModalOpen:!1,isOwnerLoading:!1,selectedOwner:null,async openOwnerModal(t){if(t){this.isOwnerModalOpen=!0,this.isOwnerLoading=!0,this.selectedOwner=null;try{const e=Vt("api.users.show",{user:t}),i=await Qt.get(e);this.selectedOwner=i.data.data}catch(e){console.error("Failed to fetch owner details:",e),this.isOwnerModalOpen=!1,Bt.fire("Error","Could not load owner details.","error")}finally{this.isOwnerLoading=!1}}},blacklistOwner(){if(!this.selectedOwner)return;const t=this.selectedOwner.name;Bt.fire({title:ft("confirm_blacklist_title"),html:ft("confirm_blacklist_text",{name:t}),icon:"warning",showCancelButton:!0,confirmButtonText:ft("confirm_blacklist_button"),cancelButtonText:ft("cancel_button"),confirmButtonColor:"#d33",reverseButtons:!0}).then(async e=>{if(e.isConfirmed){const i=Vt("api.users.blacklist",{user:this.selectedOwner.id});try{await Qt.post(i),Bt.fire(ft("blacklist_success_title"),ft("blacklist_success_text",{name:t}),"success"),this.isOwnerModalOpen=!1}catch(n){console.error("Failed to blacklist owner:",n)}}})},openActionSheet(t){this.selectedPropertyId=t,this.allPropertiesData.find(i=>i.id===t)&&(this.propertyActions=[{label:ft("edit_tooltip"),icon:"fas fa-edit",classes:"hover:bg-gray-200",handler:()=>this.editProperty(this.selectedPropertyId)},{label:ft("delete_tooltip"),icon:"fas fa-trash",classes:"text-danger hover:bg-red-100",handler:()=>this.deletePropertyWithConfirmation(this.selectedPropertyId)}],this.isActionSheetOpen=!0)},toggleAdvancedFilterDrawer(t){const e=document.body;e.classList.toggle("filter-drawer-open",t),e.classList.toggle("drawer-scroll-lock",t)},async init(){this.isLoading=!0,this.loadFiltersFromUrl();try{const t=[];t.push(this.fetchPropertyStatuses()),t.push(this.fetchProperties(this.currentPage)),await Promise.all(t),this.renderTableAndCards(),this.setupPagination(),this.updatePaginationInfo(),this.setupTableEventListeners()}catch(t){console.error("Failed to initialize component:",t),document.querySelector("#propertiesDataTable tbody").innerHTML=`<tr><td colspan="11" class="text-center text-danger p-5">${ft("error_loading_properties")}</td></tr>`}finally{this.isLoading=!1}},async fetchPropertyStatuses(){try{const t=await Qt.get(Vt("api.properties-statuses"));this.propertyStatuses=t.data.data}catch(t){console.error("Failed to fetch property statuses:",t)}},getAppliedFilters(){let t=[];return this.filters.user_id&&t.push({id:"user_id",filterFns:"equals",value:this.filters.user_id}),this.filters.governorate&&t.push({id:"city_id",filterFns:"equals",value:this.filters.governorate}),this.filters.category&&t.push({id:"category_id",filterFns:"equals",value:this.filters.category}),this.filters.type&&t.push({id:"type_id",filterFns:"equals",value:this.filters.type}),this.filters.status_id&&t.push({id:"status_id",filterFns:"equals",value:this.filters.status_id}),this.filters.price_min&&t.push({id:"price",filterFns:"greaterThanOrEqualTo",value:this.filters.price_min}),this.filters.price_max&&t.push({id:"price",filterFns:"lessThanOrEqualTo",value:this.filters.price_max}),this.floor_id&&t.push({id:"floor_id",filterFns:"equals",value:this.floor_id}),this.orientation_id&&t.push({id:"orientation_id",filterFns:"equals",value:this.orientation_id}),this.contract_type_id&&t.push({id:"contract_type_id",filterFns:"equals",value:this.contract_type_id}),this.filters.amenities.length>0&&t.push({id:"amenities",filterFns:"arrIncludesAll",value:JSON.stringify(this.filters.amenities)}),t},async fetchProperties(t=this.currentPage){this.isLoading=!0,document.querySelector("#propertiesDataTable tbody").innerHTML="",document.querySelector("#propertiesCardsContainer").innerHTML="",document.getElementById("paginationInfo").innerHTML="",document.getElementById("paginationControls").innerHTML="";const e=this.getAppliedFilters();try{const i=new URLSearchParams({page:t,perPage:this.ITEMS_PER_PAGE,filters:btoa(JSON.stringify(e)),sorting:btoa(JSON.stringify(this.sort))}),n=Vt("api.dashboard-properties")+"?"+i.toString(),s=await Qt.get(n);this.allPropertiesData=s.data.data,this.allPropertiesPaginationData=s.data.pagination,this.currentPage=t,this.updateUrlWithFilters(),this.renderTableAndCards(),this.setupPagination(),this.updatePaginationInfo()}catch(i){console.error("Failed to fetch properties:",i),document.querySelector("#propertiesDataTable tbody").innerHTML=`<tr><td colspan="11" class="text-center text-danger p-5">${ft("error_loading_properties")}</td></tr>`}finally{this.isLoading=!1}},updatePaginationInfo(){const t=document.getElementById("paginationInfo");if(!t||!this.allPropertiesPaginationData||this.allPropertiesPaginationData.total===0){t&&(t.innerHTML="");return}const{from:e,to:i,total:n}=this.allPropertiesPaginationData;e&&i&&n&&(t.innerHTML=ft("pagination_info",{from:e,to:i,total:n}))},renderTableAndCards(){const t=document.querySelector("#propertiesDataTable tbody"),e=document.querySelector("#propertiesCardsContainer");!t||!e||(t.innerHTML="",e.innerHTML="",this.allPropertiesData.forEach(i=>{const n=i.created_at||"N/A",s=i.image_url||"https://via.placeholder.com/150",u=i.owner,d=i.owner_is_me?this.propertyStatuses.filter(a=>a.id!="rejected"):this.propertyStatuses,g=i.owner_is_me,M=`<i class="fas fa-user-slash text-danger text-xs ms-2" title="${ft("user_is_blacklisted")}"></i>`,w=(a=>{switch(a){case"active":return{text:"Active",classes:"bg-success-light text-success"};case"rejected":return{text:"Rejected",classes:"bg-danger-light text-danger"};default:return{text:"Pending",classes:"bg-warning-light text-warning"}}})(i.status_id),h=t.insertRow();h.className="hover:bg-gray-50 transition-colors",h.innerHTML=`
                    <td class="p-3"><input type="checkbox" class="property-checkbox rounded border-gray-300 text-accent-primary focus:ring-accent-primary" data-id="${i.id}"></td>
                    <td class="p-3"><img src="${s}" alt="${i.title}" class="w-16 h-16 object-cover rounded-md"></td>
                    <td class="p-3 font-medium text-text-primary whitespace-nowrap">${i.title||"N/A"}</td>
                  ${window.AppConfig.isAdmin?`
                    <td class="p-3">
                        
                    ${g?ft("owner_is_me"):`<button @click.prevent="openOwnerModal(${u.id})" class="text-accent-primary hover:underline">
                                ${u.name}
                                ${u.is_blacklisted?M:""}
                            </button>`}
                    </td>`:""}
                    <td class="p-3">${i.city||"N/A"}</td>
                    <td class="p-3">${i.type||"N/A"}</td>
                    <td class="p-3">${i.category||"N/A"}</td>
                    <td class="p-3">
                        ${i.status_id!="rejected"?`<select class="status-select w-full p-1 border border-gray-300 rounded focus:ring-accent-primary focus:border-accent-primary"
                                      data-id="${i.id}"
                                      data-old-status="${i.status_id}">
                                 ${d.map(a=>`
                                     <option value="${a.id}" ${i.status_id===a.id?"selected":""}>
                                         ${a.name}
                                     </option>
                                 `).join("")}
                               </select>`:`<span class="px-2 py-1 text-xs font-medium rounded-full ${w.classes}">
                                   ${w.text}
                               </span>`}
                    </td>
                    <td class="p-3 text-center">${i.views_count||0}</td>
                    <td class="p-3 font-medium text-text-primary">${i.price_display?i.price_display.toLocaleString():"N/A"}</td>
                    <td class="p-3">${n}</td>
                    <td class="p-3">
                        <div class="flex items-center gap-3">
                            <button class="text-accent-primary hover:text-opacity-80 edit-action" title="${ft("edit_tooltip")}" data-id="${i.id}"><i class="fas fa-edit"></i></button>
                            <button class="text-danger hover:text-opacity-80 delete-action" title="${ft("delete_tooltip")}" data-id="${i.id}"><i class="fas fa-trash"></i></button>
                        </div>
                    </td>
                `;const c=document.createElement("div");c.className="bg-card-bg rounded-xl shadow-custom p-4 border border-border-color",c.innerHTML=`
            <div class="flex gap-4">
                <img src="${s}" alt="${i.title}" class="w-20 h-20 object-cover rounded-lg flex-shrink-0">
                <div class="flex-1 min-w-0">
                    <div class="flex justify-between items-start">
                        ${i.status_id!="rejected"?`<select class="status-select w-full max-w-[120px] p-1 text-xs border border-gray-300 rounded focus:ring-accent-primary focus:border-accent-primary"
                                      data-id="${i.id}"
                                      data-old-status="${i.status_id}">
                                 ${d.map(a=>`
                                     <option value="${a.id}" ${i.status_id===a.id?"selected":""}>
                                         ${a.name}
                                     </option>
                                 `).join("")}
                               </select>`:`<span class="text-xs font-semibold px-2 py-1 rounded-full ${w.classes}">
                                   ${w.text}
                               </span>`}
                        <button @click="openActionSheet(${i.id})" class="text-lg text-text-secondary hover:text-text-primary p-1 rounded-full -m-1">
                            <i class="fas fa-ellipsis-v"></i>
                        </button>
                    </div>
                    <h3 class="font-bold text-text-primary truncate mt-1">${i.title||"N/A"}</h3>
                    <p class="text-sm text-text-secondary truncate">${i.city||""}, ${i.category||""}</p>
                    <p class="text-lg font-bold text-accent-primary mt-1">${i.price_display?i.price_display.toLocaleString():"N/A"}</p>
                </div>
            </div>
            <div class="flex items-center justify-between mt-3 pt-3 border-t border-border-color text-xs text-text-secondary">
                <span><i class="fas fa-calendar-alt me-1"></i> ${n}</span>
                 ${u?`<span>
                        ${u.is_blacklisted?M:'<i i class="fas fa-user me-1" ></i >'}
                        <button @click.prevent = "openOwnerModal(${u.id})" class= "hover:underline" >
                        ${g?ft("owner_is_me"):u.name}
                        </button >
                    </span > `:""}
                <span><i class="fas fa-eye me-1"></i> ${i.views_count||0}</span>
                </div>
                `,e.appendChild(c)}))},setupPagination(){const t=document.getElementById("paginationControls");!t||!this.allPropertiesPaginationData||!this.allPropertiesPaginationData.links||(t.innerHTML="",this.allPropertiesPaginationData.links.forEach(e=>{const i=document.createElement("button");i.innerHTML=e.label.replace("«",'<i class="fas fa-angle-left"></i>').replace("»",'<i class="fas fa-angle-right"></i>'),i.disabled=!e.url||e.active;let n="px-3 py-1.5 text-sm rounded-md border transition-colors disabled:opacity-50 disabled:cursor-not-allowed",s=e.active?"bg-accent-primary text-white border-accent-primary":"border-border-color hover:bg-page-bg";i.className=`${n} ${s}`,i.addEventListener("click",()=>{if(e.url){const u=new URL(e.url).searchParams.get("page");this.fetchProperties(parseInt(u))}}),t.appendChild(i)}))},unblacklistOwner(){if(!this.selectedOwner)return;const t=this.selectedOwner.name;Bt.fire({title:ft("confirm_reactivate_title"),html:ft("confirm_reactivate_text",{name:t}),icon:"question",showCancelButton:!0,confirmButtonText:ft("confirm_reactivate_button"),cancelButtonText:ft("cancel_button"),confirmButtonColor:"#28a745",reverseButtons:!0}).then(async e=>{if(e.isConfirmed){const i=Vt("api.users.unblacklist",{user:this.selectedOwner.id});try{await Qt.delete(i),Bt.fire(ft("reactivate_success_title"),ft("reactivate_success_text",{name:t}),"success"),this.isOwnerModalOpen=!1,this.updateLocalOwnerStatus(this.selectedOwner.id,!1)}catch(n){console.error("Failed to reactivate owner:",n)}}})},updateLocalOwnerStatus(t,e){this.allPropertiesData.forEach(i=>{i.owner&&i.owner.id===t&&(i.owner.is_blacklisted=e)}),this.renderTableAndCards()},applyFilters(){this.currentPage=1,this.fetchProperties()},resetFilters(){Object.keys(this.filters).forEach(t=>this.filters[t]=Array.isArray(this.filters[t])?[]:""),this.applyFilters()},updateUrlWithFilters(){const t=new URLSearchParams(window.location.search);t.set("page",this.currentPage),Object.entries(this.filters).forEach(([e,i])=>{i&&(!Array.isArray(i)||i.length>0)?t.set(e,Array.isArray(i)?i.join(","):i):t.delete(e)}),t.get("page")=="1"&&t.delete("page"),history.replaceState(null,"",`${window.location.pathname}?${t.toString()}`)},loadFiltersFromUrl(){const t=new URLSearchParams(window.location.search);this.currentPage=parseInt(t.get("page"))||1,Object.keys(this.filters).forEach(e=>{t.has(e)&&(this.filters[e]=e==="amenities"?t.get(e).split(","):t.get(e))})},setupTableEventListeners(){document.addEventListener("click",t=>{const e=t.target.closest(".edit-action");e&&this.editProperty(e.dataset.id);const i=t.target.closest(".delete-action");i&&this.deletePropertyWithConfirmation(i.dataset.id)}),document.addEventListener("change",t=>{const e=t.target.closest(".status-select");if(e){const i=e.dataset.id,n=e.value,s=e.getAttribute("data-old-status");this.confirmAndUpdateStatus(i,s,n,e)}})},editProperty(t){window.location.href=Vt("dashboard.properties.edit",{property:t})},confirmAndUpdateStatus(t,e,i,n){const s=n.querySelector(`option[value="${e}"]`).textContent,u=n.querySelector(`option[value="${i}"]`).textContent;Bt.fire({title:ft("confirm_status_change_title"),html:ft("confirm_status_change_text",{oldStatus:s,newStatus:u}),icon:"warning",showCancelButton:!0,confirmButtonText:ft("confirm_button"),cancelButtonText:ft("cancel_button"),confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",reverseButtons:!0}).then(d=>{d.isConfirmed?this.updatePropertyStatus(t,i,e,n):n.value=e})},async updatePropertyStatus(t,e,i,n){const s=Vt("api.dashboard-properties.update",{property:t});n.disabled=!0;try{await Qt.put(s,{status_id:e,_source:"status_update_from_list"});const u=this.allPropertiesData.findIndex(d=>d.id==t);u!==-1&&(this.allPropertiesData[u].status_id=e,n.setAttribute("data-old-status",e)),Bt.fire({title:ft("update_success_title"),text:ft("update_success_text"),icon:"success",timer:2e3,showConfirmButton:!1})}catch(u){n.value=i,console.error("Update status failed:",u)}finally{n.disabled=!1}},async deletePropertyWithConfirmation(t){Bt.fire({title:ft("confirm_delete_title"),text:ft("confirm_delete_text"),icon:"warning",showCancelButton:!0,confirmButtonText:ft("confirm_delete_button"),cancelButtonText:ft("cancel_button"),confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",reverseButtons:!0}).then(async e=>{e.isConfirmed&&await this.deleteProperty(t)})},async deleteProperty(t){const e=Vt("api.dashboard-properties.destroy",{property:t});try{await Qt.delete(e),Bt.fire(ft("delete_success_title"),ft("delete_success_text"),"success"),this.allPropertiesData.length===1&&this.currentPage>1&&this.currentPage--,this.fetchProperties(this.currentPage)}catch(i){console.error("Delete failed:",i)}}}}hn.data("propertyFilters",_n);document.addEventListener("DOMContentLoaded",()=>{Mt.bind("[data-fancybox]",{})});
