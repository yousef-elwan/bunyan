class i{constructor(){this.passwordInputs=new Map,this.setupEventListeners()}setupEventListeners(){document.querySelectorAll(".password-toggle-btn").forEach(s=>{const e=s.getAttribute("data-input-id");e&&this.registerInput(e,s)}),document.querySelectorAll('input[type="password"]').forEach(s=>{if(!this.passwordInputs.has(s.id)){const e=document.querySelector(`.password-toggle-btn[data-input-id="${s.id}"]`);e&&this.registerInput(s.id,e)}})}registerInput(s,e){const a=document.getElementById(s);if(!a||this.passwordInputs.has(s))return;let t=e.querySelector("i");t||(t=document.createElement("i"),t.className="fas fa-eye",e.appendChild(t)),this.passwordInputs.set(s,{input:a,toggleBtn:e,icon:t,visible:!1}),e.addEventListener("click",()=>this.togglePasswordVisibility(s)),this.updateIcon(s)}togglePasswordVisibility(s){const e=this.passwordInputs.get(s);e&&(e.visible=!e.visible,e.input.type=e.visible?"text":"password",this.updateIcon(s))}updateIcon(s){const e=this.passwordInputs.get(s);e&&(e.visible?(e.icon.classList.replace("fa-eye","fa-eye-slash"),e.icon.classList.replace("fa-eye-slash","fa-eye-slash"),e.toggleBtn.setAttribute("aria-label","Hide password")):(e.icon.classList.replace("fa-eye-slash","fa-eye"),e.icon.classList.replace("fa-eye","fa-eye"),e.toggleBtn.setAttribute("aria-label","Show password")))}static init(){return window.passwordManager||(window.passwordManager=new i),window.passwordManager}}export{i as P};
