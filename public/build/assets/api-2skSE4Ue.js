import{a as k}from"./index-xsH4HHeE.js";import{t as m,s as w}from"./helpers-DwlY0Bzp.js";function M({baseURL:u="/",multipart:f=!1,onStatusCodeError:a={},customOnRejected:n=null}={}){const e=k.create({baseURL:u,headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json","Content-Type":f?"multipart/form-data":"application/json"},withCredentials:!0}),o=document.querySelector('meta[name="csrf-token"]');return o&&(e.defaults.headers.common["X-CSRF-TOKEN"]=o.content),e.interceptors.response.use(t=>t,t=>{var i,c,l,p;const s=(i=t==null?void 0:t.response)==null?void 0:i.status,d=(l=(c=t==null?void 0:t.response)==null?void 0:c.data)==null?void 0:l.message;if(n)return n(t),Promise.reject(t);if(a[s])a[s](t);else switch(s){case 500:default:const h=d??m("network_error");(p=w)==null||p("error",{title:m("error_title"),bodyHtml:h});break}return Promise.reject(t)}),e}export{M as h};
